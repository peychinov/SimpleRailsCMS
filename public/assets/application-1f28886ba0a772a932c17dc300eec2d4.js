/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
function BestInPlaceEditor(e){this.element=e,this.initOptions(),this.bindForm(),this.initNil(),jQuery(this.activator).bind("click",{editor:this},this.clickHandler)}/**
 * Copyright (c) 2011 PolicyStat LLC.
 * MIT licensed (MIT-license.txt)
 *
 * This plugin adds the ability to use tab and shift+tab to indent/outdent
 * lists, mimicking a user's expected behavior when inside an editor.
 *
 * @author Wes Winham (winhamwr@gmail.com)
 */
function ListPlugin(e,t){this._options=jQuery.extend({},e),this._wym=t,this.init()}/**
 * Copyright (c) 2011 PolicyStat LLC.
 * MIT licensed (MIT-license.txt)
 *
 * @author Wes Winham (winhamwr@gmail.com)
 */
function TableEditor(e,t){e=jQuery.extend({sMergeRowButtonHtml:String()+'<li class="wym_tools_merge_row">'+'<a name="merge_row" href="#" title="Merge Cells" '+'style="background-image: '+"url('"+t._options.basePath+"plugins/table/table_join_row.png')"+'">'+"Merge Table Row"+"</a>"+"</li>",sMergeRowButtonSelector:"li.wym_tools_merge_row a",sAddRowButtonHtml:String()+"<li class='wym_tools_add_row'>"+"<a name='add_row' href='#' "+"title='Add Row' "+"style='background-image:"+" url("+t._options.basePath+"plugins/table/table_insert_row.png)'>"+"Add Table Row"+"</a>"+"</li>",sAddRowButtonSelector:"li.wym_tools_add_row a",sRemoveRowButtonHtml:String()+"<li class='wym_tools_remove_row'>"+"<a name='remove_row' href='#' "+"title='Remove Row' "+"style='background-image: "+"url("+t._options.basePath+"plugins/table/table_delete_row.png)'>"+"Remove Table Row"+"</a>"+"</li>",sRemoveRowButtonSelector:"li.wym_tools_remove_row a",sAddColumnButtonHtml:String()+"<li class='wym_tools_add_column'>"+"<a name='add_column' href='#' "+"title='Add Column' "+"style='background-image: "+"url("+t._options.basePath+"plugins/table/table_insert_column.png)'>"+"Add Table Column"+"</a>"+"</li>",sAddColumnButtonSelector:"li.wym_tools_add_column a",sRemoveColumnButtonHtml:String()+"<li class='wym_tools_remove_column'>"+"<a name='remove_column' href='#' "+"title='Remove Column' "+"style='background-image: "+"url("+t._options.basePath+"plugins/table/table_delete_column.png)'>"+"Remove Table Column"+"</a>"+"</li>",sRemoveColumnButtonSelector:"li.wym_tools_remove_column a",enableCellTabbing:!0},e),this._options=e,this._wym=t,this.init()}/*
    * WYMeditor : what you see is What You Mean web-based editor
    * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
    * Dual licensed under the MIT (MIT-license.txt)
    * and GPL (GPL-license.txt) licenses.
    *
    * For further information visit:
    *        http://www.wymeditor.org/
    *
    * File Name:
    *        jquery.wymeditor.tidy.js
    *        HTML Tidy plugin for WYMeditor
    *
    * File Authors:
    *        Jean-Francois Hovinne (jf.hovinne a-t wymeditor dotorg)
    */
function WymTidy(e,t){var n=t._options.basePath+"plugins/tidy/wand.png";e=jQuery.extend({sUrl:t._options.basePath+"plugins/tidy/tidy.php",sButtonHtml:"<li class='wym_tools_tidy'><a name='CleanUp' href='#' style='background-image: url("+n+")'>"+"Clean up HTML"+"</a>"+"</li>",sButtonSelector:"li.wym_tools_tidy a"},e),this._options=e,this._wym=t}(function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ct[e]={};return lt.each(e.match(dt)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(lt.acceptData(e)){var o,s,a=lt.expando,l="string"==typeof n,c=e.nodeType,d=c?lt.cache:e,u=c?e[a]:e[a]&&a;if(u&&d[u]&&(r||d[u].data)||!l||i!==t)return u||(c?e[a]=u=Z.pop()||lt.guid++:u=a),d[u]||(d[u]={},c||(d[u].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(r?d[u]=lt.extend(d[u],n):d[u].data=lt.extend(d[u].data,n)),o=d[u],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[lt.camelCase(n)]=i),l?(s=o[n],null==s&&(s=o[lt.camelCase(n)])):s=o,s}}function o(e,t,n){if(lt.acceptData(e)){var i,r,o,s=e.nodeType,l=s?lt.cache:e,c=s?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(i=0,r=t.length;r>i;i++)delete o[t[i]];if(!(n?a:lt.isEmptyObject)(o))return}(n||(delete l[c].data,a(l[c])))&&(s?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Tt.test(i)?lt.parseJSON(i):i}catch(o){}lt.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=qt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,r,o=lt._data(e),s=lt._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)lt.event.add(t,n,a[n][i])}s.data&&(s.data=lt.extend({},s.data))}}function v(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(i in r.events)lt.removeEvent(t,i,r.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(e,n){var i,r,o=0,s=typeof e.getElementsByTagName!==X?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==X?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||lt.nodeName(r,n)?s.push(r):lt.merge(s,_(r,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],s):s}function b(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=En.length;r--;)if(t=En[r]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function C(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=lt._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(o[s]=lt._data(i,"olddisplay",M(i.nodeName)))):o[s]||(r=x(i),(n&&"none"!==n||!r)&&lt._data(i,"olddisplay",r?n:lt.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function T(e,t,n){var i=vn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function E(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=lt.css(e,n+Tn[o],!0,r)),i?("content"===n&&(s-=lt.css(e,"padding"+Tn[o],!0,r)),"margin"!==n&&(s-=lt.css(e,"border"+Tn[o]+"Width",!0,r))):(s+=lt.css(e,"padding"+Tn[o],!0,r),"padding"!==n&&(s+=lt.css(e,"border"+Tn[o]+"Width",!0,r)));return s}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=un(e),s=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(e,t,o),(0>r||null==r)&&(r=e.style[t]),_n.test(r))return r;i=s&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+E(e,t,n||(s?"border":"content"),i,o)+"px"}function M(e){var t=U,n=wn[e];return n||(n=N(e,t),"none"!==n&&n||(dn=(dn||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(dn[0].contentWindow||dn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=N(e,t),dn.detach()),wn[e]=n),n}function N(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function W(e,t,n,i){var r;if(lt.isArray(t))lt.each(t,function(t,r){n||Mn.test(e)?i(e,r):W(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(r in t)W(e+"["+r+"]",t[r],n,i)}function k(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(dt)||[];if(lt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function A(e,t,n,i){function r(a){var l;return o[a]=!0,lt.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===Qn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function R(e,n){var i,r,o=lt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&lt.extend(!0,e,i),e}function L(e,n,i){var r,o,s,a,l=e.contents,c=e.dataTypes,d=e.responseFields;for(a in d)a in i&&(n[d[a]]=i[a]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){c.unshift(a);break}if(c[0]in i)s=c[0];else{for(a in i){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function Y(e,t){var n,i,r,o,s={},a=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)s[r.toLowerCase()]=e.converters[r];for(;i=l[++a];)if("*"!==i){if("*"!==c&&c!==i){if(r=s[c+" "+i]||s["* "+i],!r)for(n in s)if(o=n.split(" "),o[1]===i&&(r=s[c+" "+o[0]]||s["* "+o[0]])){r===!0?r=s[n]:s[n]!==!0&&(i=o[0],l.splice(a--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function I(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function D(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function j(e,t){lt.each(t,function(t,n){for(var i=(oi[t]||[]).concat(oi["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function P(e,t,n){var i,r,o=0,s=ri.length,a=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||D(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||D(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),d=c.props;for(H(d,c.opts.specialEasing);s>o;o++)if(i=ri[o].call(c,e,d,c.opts))return i;return j(c,d),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e,t){var n,i,r,o,s;for(r in e)if(i=lt.camelCase(r),o=t[i],n=e[r],lt.isArray(n)&&(o=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),s=lt.cssHooks[i],s&&"expand"in s){n=s.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=o)}else t[i]=o}function B(e,t,n){var i,r,o,s,a,l,c,d,u,h=this,p=e.style,f={},m=[],g=e.nodeType&&x(e);n.queue||(d=lt._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,u=d.empty.fire,d.empty.fire=function(){d.unqueued||u()}),d.unqueued++,h.always(function(){h.always(function(){d.unqueued--,lt.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==M(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(s=t[r],ti.exec(s)){if(delete t[r],l=l||"toggle"===s,s===(g?"hide":"show"))continue;m.push(r)}if(o=m.length){a=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(r=0;o>r;r++)i=m[r],c=h.createTween(i,g?a[i]:0),f[i]=a[i]||lt.style(e,i),i in a||(a[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function $(e,t,n,i,r){return new $.prototype.init(e,t,n,i,r)}function F(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Tn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Q(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,q,X=typeof t,U=e.document,K=e.location,V=e.jQuery,G=e.$,J={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,rt=Z.indexOf,ot=J.toString,st=J.hasOwnProperty,at=et.trim,lt=function(e,t){return new lt.fn.init(e,t,q)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vt=/^-ms-/,_t=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(e){(U.addEventListener||"load"===e.type||"complete"===U.readyState)&&(xt(),lt.ready())},xt=function(){U.addEventListener?(U.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(U.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:U,!0)),pt.test(r[1])&&lt.isPlainObject(n))for(r in n)lt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=U.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=U,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},l=2),"object"==typeof a||lt.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=a[r],i=o[r],a!==i&&(d&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,s=e&&lt.isArray(e)?e:[]):s=e&&lt.isPlainObject(e)?e:{},a[r]=lt.extend(d,s,i)):i!==t&&(a[r]=i));return a},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=G),t&&e.jQuery===lt&&(e.jQuery=V),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!U.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(z.resolveWith(U,[lt]),lt.fn.trigger&&lt(U).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?J[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||st.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||U;var i=pt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,r),r&&lt(r).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&ft.test(t.replace(gt,"@").replace(yt,"]").replace(mt,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(vt,"ms-").replace(_t,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:at&&!at.call("﻿ ")?function(e){return null==e?"":at.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(rt)return rt.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),lt.isFunction(e)?(i=it.call(arguments,2),r=function(){return e.apply(n||this,i.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):t},access:function(e,n,i,r,o,s,a){var l=0,c=e.length,d=null==i;if("object"===lt.type(i)){o=!0;for(l in i)lt.access(e,n,l,i[l],!0,s,a)}else if(r!==t&&(o=!0,lt.isFunction(r)||(a=!0),d&&(a?(n.call(e,r),n=null):(d=n,n=function(e,t,n){return d.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,a?r:r.call(e[l],l,n(e[l],i)));return o?e:d?n.call(e):c?n(e[0],i):s},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!z)if(z=lt.Deferred(),"complete"===U.readyState)setTimeout(lt.ready);else if(U.addEventListener)U.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{U.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&U.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}xt(),lt.ready()}}()}return z.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),q=lt(U);var Ct={};lt.Callbacks=function(e){e="string"==typeof e?Ct[e]||i(e):lt.extend({},e);var n,r,o,s,a,l,c=[],d=!e.once&&[],u=function(t){for(r=e.memory&&t,o=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(d?d.length&&u(d.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;(function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?s=c.length:r&&(l=t,u(r))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=d=r=t,this},disabled:function(){return!c},lock:function(){return d=t,r||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!d||(n?d.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var s=o[0],a=lt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},r={};return i.pipe=i.then,lt.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=it.call(arguments),s=o.length,a=1!==s||e&&lt.isFunction(e.promise)?s:0,l=1===a?e:lt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?it.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&lt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),lt.support=function(){var t,n,i,r,o,s,a,l,c,d,u=U.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*"),i=u.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=U.createElement("select"),a=o.appendChild(U.createElement("option")),r=u.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==u.className,leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:a.selected,enctype:!!U.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==U.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===U.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled;try{delete u.test}catch(h){t.deleteExpando=!1}r=U.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=U.createDocumentFragment(),s.appendChild(r),t.appendChecked=r.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;return u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip,lt(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=U.getElementsByTagName("body")[0];s&&(n=U.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=u.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===u.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,i=u.appendChild(U.createElement("div")),i.style.cssText=u.style.cssText=o,i.style.marginRight=i.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof u.style.zoom!==X&&(u.innerHTML="",u.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=u=r=i=null)}),n=o=s=a=i=r=null,t}();var Tt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Et=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!a(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,r,o=this[0],a=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(i=o.attributes;i.length>a;a++)r=i[a].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),s(o,r,l[r]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?o?s(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,r=n.shift(),o=lt._queueHooks(e,t),s=function(){lt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=lt.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=lt._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var St,Mt,Nt=/[\t\r\n]/g,Wt=/\r/g,kt=/^(?:input|select|textarea|button|object)$/i,At=/^(?:a|area)$/i,Rt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Lt=/^(?:checked|selected)$/i,Yt=lt.support.getSetAttribute,It=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):" ")){for(o=0;r=t[o++];)0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Nt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=lt(this),a=t,l=e.match(dt)||[];r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else(n===X||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Nt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(n){var o,s=lt(this);1===this.nodeType&&(o=r?e.call(this,n,s.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Wt,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===X?lt.prop(e,n,i):(o=1!==a||!lt.isXMLDoc(e),o&&(n=n.toLowerCase(),r=lt.attrHooks[n]||(Rt.test(n)?Mt:St)),i===t?r&&o&&"get"in r&&null!==(s=r.get(e,n))?s:(typeof e.getAttribute!==X&&(s=e.getAttribute(n)),null==s?t:s):null!==i?r&&o&&"set"in r&&(s=r.set(e,i,n))!==t?s:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;n=o[r++];)i=lt.propFix[n]||n,Rt.test(n)?!Yt&&Lt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Yt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!lt.isXMLDoc(e),s&&(n=lt.propFix[n]||n,o=lt.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):kt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:t}}}}),Mt={get:function(e,n){var i=lt.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?It&&Yt?null!=r:Lt.test(n)?e[lt.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):It&&Yt||!Lt.test(n)?e.setAttribute(!Yt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},It&&Yt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):St&&St.set(e,t,n)
}}),Yt||(St=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:St.get,set:function(e,t,n){St.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Ot=/^(?:input|select|textarea)$/i,Dt=/^key/,jt=/^(?:mouse|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,r,o){var s,a,l,c,d,u,h,p,f,m,g,y=lt._data(e);if(y){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=lt.guid++),(a=y.events)||(a=y.events={}),(u=y.handle)||(u=y.handle=function(e){return typeof lt===X||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(dt)||[""],l=n.length;l--;)s=Ht.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),d=lt.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=lt.event.special[f]||{},h=lt.extend({type:f,origType:g,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),lt.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,d,u,h,p,f,m,g=lt.hasData(e)&&lt._data(e);if(g&&(d=g.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(a=Ht.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=lt.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=d[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,u.remove&&u.remove.call(e,s));l&&!h.length&&(u.teardown&&u.teardown.call(e,f,g.handle)!==!1||lt.removeEvent(e,p,g.handle),delete d[p])}else for(p in d)lt.event.remove(e,p+t[c],n,i,!0);lt.isEmptyObject(d)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,r,o){var s,a,l,c,d,u,h,p=[r||U],f=st.call(n,"type")?n.type:n,m=st.call(n,"namespace")?n.namespace.split("."):[];if(l=u=r=r||U,3!==r.nodeType&&8!==r.nodeType&&!Pt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,n=n[lt.expando]?n:new lt.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:lt.makeArray(i,[n]),d=lt.event.special[f]||{},o||!d.trigger||d.trigger.apply(r,i)!==!1)){if(!o&&!d.noBubble&&!lt.isWindow(r)){for(c=d.delegateType||f,Pt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(r.ownerDocument||U)&&p.push(u.defaultView||u.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:d.bindType||f,s=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&lt.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,i)!==!1||"click"===f&&lt.nodeName(r,"a")||!lt.acceptData(r)||!a||!r[f]||lt.isWindow(r))){u=r[a],u&&(r[a]=null),lt.event.triggered=f;try{r[f]()}catch(g){}lt.event.triggered=t,u&&(r[a]=u)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,r,o,s,a=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],d=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=lt.event.handlers.call(this,e,c),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,s=0;(r=o.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],s=0;l>s;s++)r=n[s],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[lt.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=jt.test(r)?this.mouseHooks:Dt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new lt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||U),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||U,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==U.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===U.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(r,null,t):lt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=U.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===X&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!lt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Ot.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ot.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Ot.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&U.addEventListener(e,i,!0)},teardown:function(){0===--n&&U.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(a=r,r=function(e){return lt().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>T.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[P]=!0,e}function o(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function s(e,t,n,i){var r,o,s,a,l,c,d,p,f,m;if((t?t.ownerDocument||t:H)!==A&&k(t),t=t||A,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(!L&&!i){if(r=mt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&D(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return G.apply(n,J.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&B.getByClassName&&t.getElementsByClassName)return G.apply(n,J.call(t.getElementsByClassName(s),0)),n}if(B.qsa&&!Y.test(e)){if(d=!0,p=P,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=u(e),(d=t.getAttribute("id"))?p=d.replace(vt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return G.apply(n,J.call(f.querySelectorAll(m),0)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return b(e.replace(st,"$1"),t,n,i)}function a(e,t){var n=t&&e,i=n&&(~t.sourceIndex||U)-(~e.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e,t){var n,i,r,o,a,l,c,d=z[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=T.preFilter;a;){(!n||(i=at.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=ct.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length));for(o in T.filter)!(i=ht[o].exec(a))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?s.error(e):z(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=F++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c,d=$+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[P]||(t[P]={}),(l=c[i])&&l[0]===d){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[i]=[d],l[1]=e(t,n,s)||C,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function g(e,t,n,i,o,s){return i&&!i[P]&&(i=g(i)),o&&!o[P]&&(o=g(o,s)),r(function(r,s,a,l){var c,d,u,h=[],p=[],f=s.length,g=r||_(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?g:m(g,h,e,a,l),v=n?o||(r?e:f||i)?[]:s:y;if(n&&n(y,v,a,l),i)for(c=m(v,p),i(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(y[p[d]]=u));if(r){if(o||e){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(y[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?Z.call(r,u):h[d])>-1&&(r[c]=!(s[c]=u))}}else v=m(v===s?v.splice(f,v.length):v),o?o(null,s,v,l):G.apply(s,v)})}function y(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,l=p(function(e){return e===t},s,!0),c=p(function(e){return Z.call(t,e)>-1},s,!0),d=[function(e,n,i){return!o&&(i||n!==W)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>a;a++)if(n=T.relative[e[a].type])d=[p(f(d),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[P]){for(i=++a;r>i&&!T.relative[e[i].type];i++);return g(a>1&&f(d),a>1&&h(e.slice(0,a-1)).replace(st,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}d.push(n)}return f(d)}function v(e,t){var n=0,i=t.length>0,o=e.length>0,a=function(r,a,l,c,d){var u,h,p,f=[],g=0,y="0",v=r&&[],_=null!=d,b=W,w=r||o&&T.find.TAG("*",d&&a.parentNode||a),x=$+=null==b?1:Math.random()||.1;for(_&&(W=a!==A&&a,C=n);null!=(u=w[y]);y++){if(o&&u){for(h=0;p=e[h++];)if(p(u,a,l)){c.push(u);break}_&&($=x,C=++n)}i&&((u=!p&&u)&&g--,r&&v.push(u))}if(g+=y,i&&y!==g){for(h=0;p=t[h++];)p(v,f,a,l);if(r){if(g>0)for(;y--;)v[y]||f[y]||(f[y]=V.call(c));f=m(f)}G.apply(c,f),_&&!r&&f.length>0&&g+t.length>1&&s.uniqueSort(c)}return _&&($=x,W=b),v};return i?r(a):a}function _(e,t,n){for(var i=0,r=t.length;r>i;i++)s(e,t[i],n);return n}function b(e,t,n,i){var r,o,s,a,l,c=u(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&!L&&T.relative[o[1].type]){if(t=T.find.ID(s.matches[0].replace(bt,wt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(s=o[r],!T.relative[a=s.type]);)if((l=T.find[a])&&(i=l(s.matches[0].replace(bt,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return G.apply(n,J.call(i,0)),n;break}}return M(e,c)(i,t,L,n,pt.test(e)),n}function w(){}var x,C,T,E,S,M,N,W,k,A,R,L,Y,I,O,D,j,P="sizzle"+-new Date,H=e.document,B={},$=0,F=0,Q=i(),z=i(),q=i(),X=typeof t,U=1<<31,K=[],V=K.pop,G=K.push,J=K.slice,Z=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),dt=new RegExp(ot),ut=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,yt=/^h\d$/i,vt=/'|\\/g,_t=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,bt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{J.call(H.documentElement.childNodes,0)[0].nodeType}catch(xt){J=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}S=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=s.setDocument=function(e){var i=e?e.ownerDocument||e:H;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,R=i.documentElement,L=S(i),B.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),B.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),B.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),B.getByName=o(function(e){e.id=P+0,e.innerHTML="<a name='"+P+"'></a><div name='"+P+"'></div>",R.insertBefore(e,R.firstChild);var t=i.getElementsByName&&i.getElementsByName(P).length===2+i.getElementsByName(P+0).length;return B.getIdNotName=!i.getElementById(P),R.removeChild(e),t}),T.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==X&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},B.getIdNotName?(T.find.ID=function(e,t){if(typeof t.getElementById!==X&&!L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}}):(T.find.ID=function(e,n){if(typeof n.getElementById!==X&&!L){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==X&&i.getAttributeNode("id").value===e?[i]:t:[]}},T.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=B.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.NAME=B.getByName&&function(e,t){return typeof t.getElementsByName!==X?t.getElementsByName(name):void 0},T.find.CLASS=B.getByClassName&&function(e,t){return typeof t.getElementsByClassName===X||L?void 0:t.getElementsByClassName(e)},I=[],Y=[":focus"],(B.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||Y.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||Y.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&Y.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||Y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),Y.push(",.*:")})),(B.matchesSelector=n(O=R.matchesSelector||R.mozMatchesSelector||R.webkitMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&o(function(e){B.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),I.push("!=",ot)}),Y=new RegExp(Y.join("|")),I=new RegExp(I.join("|")),D=n(R.contains)||R.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=R.compareDocumentPosition?function(e,t){var n;return e===t?(N=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||D(H,e)?-1:t===i||D(H,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return N=!0,0;if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},N=!1,[0,0].sort(j),B.detectDuplicates=N,A):A},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&k(e),t=t.replace(_t,"='$1']"),!(!B.matchesSelector||L||I&&I.test(t)||Y.test(t)))try{var n=O.call(e,t);if(n||B.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return s(t,A,null,[e]).length>0},s.contains=function(e,t){return(e.ownerDocument||e)!==A&&k(e),D(e,t)},s.attr=function(e,t){var n;return(e.ownerDocument||e)!==A&&k(e),L||(t=t.toLowerCase()),(n=T.attrHandle[t])?n(e):L||B.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},s.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,n=[],i=1,r=0;if(N=!B.detectDuplicates,e.sort(j),N){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},E=s.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=E(t);return n},T=s.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&dt.test(n)&&(t=u(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(bt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=Q[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&Q(e,function(e){return t.test(e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=s.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(g){if(o){for(;m;){for(u=t;u=u[m];)if(a?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(d=g[P]||(g[P]={}),c=d[e]||[],p=c[0]===$&&c[1],h=c[0]===$&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(h=p=0)||f.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[$,p,h];break}}else if(v&&(c=(t[P]||(t[P]={}))[e])&&c[0]===$)h=c[1];else for(;(u=++p&&u&&u[m]||(h=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++h||(v&&((u[P]||(u[P]={}))[e]=[$,h]),u!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=T.pseudos[e]||T.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);return i[P]?i(t):i.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)r=Z.call(e,o[s]),e[r]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=M(e.replace(st,"$1"));return i[P]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return s(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return ut.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var n;do if(n=L?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return yt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[0>n?n+t:n]}),even:d(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:d(function(e,t,n){for(var i=0>n?n+t:n;t>++i;)e.push(i);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=c(x);M=s.compile=function(e,t){var n,i=[],r=[],o=q[e+" "];if(!o){for(t||(t=u(e)),n=t.length;n--;)o=y(t[n]),o[P]?i.push(o):r.push(o);o=q(e,v(r,i))}return o},T.pseudos.nth=T.pseudos.eq,T.filters=w.prototype=T.pseudos,T.setFilters=new w,k(),s.attr=lt.attr,lt.find=s,lt.expr=s.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=s.uniqueSort,lt.text=s.getText,lt.isXMLDoc=s.isXML,lt.contains=s.contains}(e);var Bt=/Until$/,$t=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Qt=lt.expr.match.needsContext,zt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;r>t;t++)lt.find(e,this[t],n);return n=this.pushStack(r>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1))},filter:function(e){return this.pushStack(u(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Qt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Qt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var r=lt.map(this,t,n);return Bt.test(e)||(i=n),i&&"string"==typeof i&&(r=lt.filter(i,r)),r=this.length>1&&!zt[e]?lt.unique(r):r,this.length>1&&$t.test(e)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!lt(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xt=/ jQuery\d+="(?:null|\d+)"/g,Ut=new RegExp("<(?:"+qt+")[\\s/>]","i"),Kt=/^\s+/,Vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(U),cn=ln.appendChild(U.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||U).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(_(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(_(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Xt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Ut.test(e)||!lt.support.leadingWhitespace&&Kt.test(e)||an[(Gt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Vt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(_(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var r,o,s,a,l,c,d=0,u=this.length,h=this,g=u-1,y=e[0],v=lt.isFunction(y);if(v||!(1>=u||"string"!=typeof y||lt.support.checkClone)&&nn.test(y))return this.each(function(r){var o=h.eq(r);v&&(e[0]=y.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(u&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(n=n&&lt.nodeName(r,"tr"),a=lt.map(_(c,"script"),f),s=a.length;u>d;d++)o=c,d!==g&&(o=lt.clone(o,!0,!0),s&&lt.merge(a,_(o,"script"))),i.call(n&&lt.nodeName(this[d],"table")?p(this[d],"tbody"):this[d],o,d);if(s)for(l=a[a.length-1].ownerDocument,lt.map(a,m),d=0;s>d;d++)o=a[d],rn.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));c=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,r=[],o=lt(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),lt(o[i])[t](n),nt.apply(r,n.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,n){var i,r,o,s,a,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=_(o),a=_(e),s=0;null!=(r=a[s]);++s)i[s]&&v(r,i[s]);if(t)if(n)for(a=a||_(e),i=i||_(o),s=0;null!=(r=a[s]);s++)y(r,i[s]);else y(e,o);return i=_(o,"script"),i.length>0&&g(i,!l&&_(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,d,u=e.length,p=h(t),f=[],m=0;u>m;m++)if(o=e[m],o||0===o)if("object"===lt.type(o))lt.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||p.appendChild(t.createElement("div")),l=(Gt.exec(o)||["",""])[1].toLowerCase(),d=an[l]||an._default,a.innerHTML=d[1]+o.replace(Vt,"<$1></$2>")+d[2],r=d[0];r--;)a=a.lastChild;if(!lt.support.leadingWhitespace&&Kt.test(o)&&f.push(t.createTextNode(Kt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Jt.test(o)?"<table>"!==d[1]||Jt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)lt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else f.push(t.createTextNode(o));for(a&&p.removeChild(a),lt.support.appendChecked||lt.grep(_(f,"input"),b),m=0;o=f[m++];)if((!i||-1===lt.inArray(o,i))&&(s=lt.contains(o.ownerDocument,o),a=_(p.appendChild(o),"script"),s&&g(a),n))for(r=0;o=a[r++];)rn.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(e,t){for(var n,i,r,o,s=0,a=lt.expando,l=lt.cache,c=lt.support.deleteExpando,d=lt.event.special;null!=(n=e[s]);s++)if((t||lt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)d[i]?lt.event.remove(n,i):lt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==X?n.removeAttribute(a):n[a]=null,Z.push(r))}}});var dn,un,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=new RegExp("^("+ct+")(.*)$","i"),_n=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),bn=new RegExp("^([+-])=("+ct+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},Tn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var r,o,s={},a=0;if(lt.isArray(n)){for(o=un(e),r=n.length;r>a;a++)s[n[a]]=lt.css(e,n[a],!1,o);return s}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=w(c,l)),a=lt.cssHooks[n]||lt.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:c[n];if(s=typeof i,"string"===s&&(o=bn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(lt.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{c[n]=i}catch(d){}}},css:function(e,n,i,r){var o,s,a,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),a=lt.cssHooks[n]||lt.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,i)),s===t&&(s=hn(e,n,r)),"normal"===s&&n in Cn&&(s=Cn[n]),""===i||i?(o=parseFloat(s),i===!0||lt.isNumeric(o)?o||0:s):s},swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),e.getComputedStyle?(un=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,o,s,a=i||un(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),_n.test(l)&&yn.test(n)&&(r=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=r,c.minWidth=o,c.maxWidth=s)),l}):U.documentElement.currentStyle&&(un=function(e){return e.currentStyle},hn=function(e,n,i){var r,o,s,a=i||un(e),l=a?a[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),_n.test(l)&&!mn.test(n)&&(r=c.left,o=e.runtimeStyle,s=o&&o.left,s&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,s&&(o.left=s)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,xn,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&un(e);return T(e,n,i?E(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),_n.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Tn[i]+t]=o[i]||o[i-2]||o[0];return r}},yn.test(e)||(lt.cssHooks[e+t].set=T)});var Sn=/%20/g,Mn=/\[\]$/,Nn=/\r?\n/g,Wn=/^(?:submit|button|image|reset|file)$/i,kn=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&kn.test(this.nodeName)&&!Wn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(Nn,"\r\n")}}):{name:t.name,value:n.replace(Nn,"\r\n")}}).get()}}),lt.param=function(e,n){var i,r=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(i in e)W(i,e[i],n,o);return r.join("&").replace(Sn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var An,Rn,Ln=lt.now(),Yn=/\?/,In=/#.*$/,On=/([?&])_=[^&]*/,Dn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,jn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Hn=/^\/\//,Bn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,$n=lt.fn.load,Fn={},Qn={},zn="*/".concat("*");try{Rn=K.href}catch(qn){Rn=U.createElement("a"),Rn.href="",Rn=Rn.href}An=Bn.exec(Rn.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&$n)return $n.apply(this,arguments);var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&lt.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){o=arguments,a.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,r,o){return lt.isFunction(i)&&(o=o||r,r=i,i=t),lt.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:jn.test(An[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,lt.ajaxSettings),t):R(lt.ajaxSettings,e)},ajaxPrefilter:k(Fn),ajaxTransport:k(Qn),ajax:function(e,n){function i(e,n,i,r){var o,u,v,_,w,C=n;2!==b&&(b=2,l&&clearTimeout(l),d=t,a=r||"",x.readyState=e>0?4:0,i&&(_=L(h,x,i)),e>=200&&300>e||304===e?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[s]=w)),204===e?(o=!0,C="nocontent"):304===e?(o=!0,C="notmodified"):(o=Y(h,_),C=o.state,u=o.data,v=o.error,o=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(n||C)+"",o?m.resolveWith(p,[u,C,x]):m.rejectWith(p,[x,C,v]),x.statusCode(y),y=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?u:v]),g.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,c,d,u,h=lt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?lt(p):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),y=h.statusCode||{},v={},_={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Dn.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=_[n]=_[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Rn)+"").replace(In,"").replace(Hn,An[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(dt)||[""],null==h.crossDomain&&(r=Bn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===An[1]&&r[2]===An[2]&&(r[3]||("http:"===r[1]?80:443))==(An[3]||("http:"===An[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),A(Fn,h,n,x),2===b)return x;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Pn.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Yn.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=On.test(s)?s.replace(On,"$1_="+Ln++):s+(Yn.test(s)?"&":"?")+"_="+Ln++)),h.ifModified&&(lt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[s]),lt.etag[s]&&x.setRequestHeader("If-None-Match",lt.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===b))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(d=A(Qn,h,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,d.send(v,i)}catch(C){if(!(2>b))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=U.head||lt("head")[0]||U.documentElement;return{send:function(t,r){n=U.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Xn=[],Un=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xn.pop()||lt.expando+"_"+Ln++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(Un.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Un.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Un,"$1"+o):n.jsonp!==!1&&(n.url+=(Yn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||lt.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Xn.push(o)),a&&lt.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0});var Kn,Vn,Gn=0,Jn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&I()||O()}:I,Vn=lt.ajaxSettings.xhr(),lt.support.cors=!!Vn&&"withCredentials"in Vn,Vn=lt.support.ajax=!!Vn,Vn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,c,d,u;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=lt.noop,Jn&&delete Kn[s]),r)4!==l.readyState&&l.abort();else{u={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(h){d=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(p){r||o(-1,p)}u&&o(a,d,u,c)},n.async?4===l.readyState?setTimeout(i):(s=++Gn,Jn&&(Kn||(Kn={},lt(e).unload(Jn)),Kn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[B],oi={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ni.exec(t),s=r.cur(),a=+s||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&a){a=lt.css(r.elem,e,!0)||n||1;do l=l||".5",a/=l,lt.style(r.elem,e,a+i);while(l!==(l=r.cur()/s)&&1!==l&&--c)}r.unit=i,r.start=a,r.end=o[1]?a+(o[1]+1)*n:n}return r}]};lt.Animation=lt.extend(P,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),lt.Tween=$,$.prototype={constructor:$,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=$.propHooks[this.prop];return e&&e.get?e.get(this):$.propHooks._default.get(this)},run:function(e){var t,n=$.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(F(t,!0),e,i,r)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=lt.isEmptyObject(e),o=lt.speed(t,n,i),s=function(){var t=P(this,lt.extend({},e),o);s.finish=function(){t.stop(!0)},(r||lt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=lt.timers,s=lt._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=lt.timers,s=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=$.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;if(s)return n=s.documentElement,lt.contains(n,o)?(typeof o.getBoundingClientRect!==X&&(r=o.getBoundingClientRect()),i=Q(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=lt(e),a=s.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),d=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,u={},h={};d?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+o),"using"in t?t.using.call(e,u):s.css(u)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||U.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||U.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(r){return lt.access(this,function(e,r,o){var s=Q(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:(s?s.scrollTo(i?lt(s).scrollLeft():o,i?o:lt(s).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){lt.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return lt.access(this,function(n,i,r){var o;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?lt.css(n,i,a):lt.style(n,i,r,a)},n,s?r:t,s,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})})(window),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return"rails"===e.namespace}).length};n()&&e.error("jquery-ujs has already been loaded!");var i;e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var r,o,s,a,l,c,d,u;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===t?null:a,c=n.data("with-credentials")||null,d=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),o=n.attr("action"),s=n.serializeArray();var h=n.data("ujs:submit-button");h&&(s.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),o=n.data("url"),s=n.serialize(),n.data("params")&&(s=s+"&"+n.data("params"))):(r=n.data("method"),o=i.href(n),s=n.data("params")||null);u={type:r||"GET",data:s,dataType:d,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},c&&(u.xhrFields={withCredentials:c}),o&&(u.url=o);var p=i.ajax(u);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var r=i.href(n),o=n.data("method"),s=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(d).appendTo("body"),c.submit()},disableFormElements:function(t){t.find(i.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(i.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,n=e.data("confirm"),r=!1;return n?(i.fire(e,"confirm")&&(r=i.confirm(n),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,i){var r=n.data("events"),o=!0;return r!==t&&r.submit!==t&&e.each(r.submit,function(e,t){return"function"==typeof t.handler?o=t.handler(i):void 0}),o},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},i.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),e(document).delegate(i.linkClickSelector,"click.rails",function(n){var r=e(this),o=r.data("method"),s=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||s))return!0;var a=i.handleRemote(r);return a===!1?i.enableElement(r):a.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),e(document).delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),e(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var r=e(this),o=r.data("remote")!==t,s=i.blankInputs(r,i.requiredInputSelector),a=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(s&&r.attr("novalidate")==t&&i.fire(r,"ajax:aborted:required",[s]))return i.stopEverything(n);if(o){if(a){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return!e.support.submitBubbles&&"1.7">e().jquery&&i.callFormSubmitBindings(r,n)===!1?i.stopEverything(n):(i.handleRemote(r),!1)}setTimeout(function(){i.disableFormElements(r)},13)}),e(document).delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),o=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),e(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),e(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),/* ===================================================
 * bootstrap-transition.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.bottom,a=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof s&&(s=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=s&&r.top+this.$element.height()>=n-s?"bottom":null!=a&&a>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),s=this.interval,a="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:a}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(a),o.addClass(a),this.$element.one(e.support.transition.end,function(){o.removeClass([t,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),s="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):s?r[s]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),r.data());o.carousel(s),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||i.toggleClass("open"),o.focus(),!1},keydown:function(t){var r,o,s,a,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(s=n(r),a=s.hasClass("open"),!a||a&&27==t.keyCode)return 27==t.which&&s.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",s),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&o.length-1>l&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(t>=i)return s!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||r[e+1]>=t)&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(s),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,s,a,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,s=this.options.trigger.split(" "),l=s.length;l--;)a=s[l],"click"==a?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseenter":"focus",o="hover"==a?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,s,a=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,s=this.tip(),a=s[0].offsetWidth,l=s[0].offsetHeight;s.offset(e).addClass(t).addClass("in"),n=s[0].offsetWidth,i=s[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,0>e.left&&(r=-2*e.left,e.left=0,s.offset(e),n=s[0].offsetWidth,i=s[0].offsetHeight),this.replaceArrow(r-a+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&s.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/**
 * jquery.purr.js
 * Copyright (c) 2008 Net Perspective (net-perspective.com)
 * Licensed under the MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * @author R.A. Ray
 * @projectDescription  jQuery plugin for dynamically displaying unobtrusive messages in the browser. Mimics the behavior of the MacOS program "Growl."
 * @version 0.1.0
 *
 * @requires jquery.js (tested with 1.2.6)
 *
 * @param fadeInSpeed           int - Duration of fade in animation in miliseconds
 *                          default: 500
 *  @param fadeOutSpeed         int - Duration of fade out animationin miliseconds
                            default: 500
 *  @param removeTimer          int - Timeout, in miliseconds, before notice is removed once it is the top non-sticky notice in the list
                            default: 4000
 *  @param isSticky             bool - Whether the notice should fade out on its own or wait to be manually closed
                            default: false
 *  @param usingTransparentPNG  bool - Whether or not the notice is using transparent .png images in its styling
                            default: false
 */
function(e){e.purr=function(t,n){function i(){var i=document.createElement("a");if(e(i).attr({className:"close",href:"#close"}).appendTo(t).click(function(){return r(),!1}),e(document).keyup(function(e){27===e.keyCode&&r()}),t.appendTo(o).hide(),t.fadeIn(n.fadeInSpeed),!n.isSticky)var s=setInterval(function(){0===t.prevAll(".purr").length&&(clearInterval(s),setTimeout(function(){r()},n.removeTimer))},200)}function r(){t.animate({opacity:"0"},{duration:n.fadeOutSpeed,complete:function(){t.animate({height:"0px"},{duration:n.fadeOutSpeed,complete:function(){t.remove()}})}})}t=e(t),t.addClass("purr");var o=document.getElementById("purr-container");o||(o='<div id="purr-container"></div>'),o=e(o),e("body").append(o),i()},e.fn.purr=function(t){return t=t||{},t.fadeInSpeed=t.fadeInSpeed||500,t.fadeOutSpeed=t.fadeOutSpeed||500,t.removeTimer=t.removeTimer||4e3,t.isSticky=t.isSticky||!1,t.usingTransparentPNG=t.usingTransparentPNG||!1,this.each(function(){new e.purr(this,t)}),this}}(jQuery),BestInPlaceEditor.prototype={activate:function(){var e="";e=this.isNil()?"":this.original_content?this.original_content:this.sanitize?this.element.text():this.element.html().replace("&amp;","&"),this.oldValue=this.isNil()?"":this.element.html(),this.display_value=e,jQuery(this.activator).unbind("click",this.clickHandler),this.activateForm(),this.element.trigger(jQuery.Event("best_in_place:activate"))},abort:function(){this.activateText(this.oldValue),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:abort")),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},abortIfConfirm:function(){return this.useConfirm?(confirm("Are you sure you want to discard your changes?")&&this.abort(),void 0):(this.abort(),void 0)},update:function(){var e=this;if(this.formType in{input:1,textarea:1}&&this.getValue()==this.oldValue)return this.abort(),!0;if(e.ajax({type:"post",dataType:"text",data:e.requestData(),success:function(t){e.loadSuccessCallback(t)},error:function(t,n){e.loadErrorCallback(t,n)}}),"select"==this.formType){var t=this.getValue();this.previousCollectionValue=t,jQuery.each(this.values,function(n,i){t==i[0]&&e.element.html(i[1])})}else"checkbox"==this.formType?e.element.html(this.getValue()?this.values[1]:this.values[0]):""!==this.getValue()?e.element.text(this.getValue()):e.element.html(this.nil);e.element.trigger(jQuery.Event("best_in_place:update"))},activateForm:function(){alert("The form was not properly initialized. activateForm is unbound")},activateText:function(e){this.element.html(e),this.isNil()&&this.element.html(this.nil)},initOptions:function(){var e=this;e.element.parents().each(function(){$parent=jQuery(this),e.url=e.url||$parent.attr("data-url"),e.collection=e.collection||$parent.attr("data-collection"),e.formType=e.formType||$parent.attr("data-type"),e.objectName=e.objectName||$parent.attr("data-object"),e.attributeName=e.attributeName||$parent.attr("data-attribute"),e.activator=e.activator||$parent.attr("data-activator"),e.okButton=e.okButton||$parent.attr("data-ok-button"),e.okButtonClass=e.okButtonClass||$parent.attr("data-ok-button-class"),e.cancelButton=e.cancelButton||$parent.attr("data-cancel-button"),e.cancelButtonClass=e.cancelButtonClass||$parent.attr("data-cancel-button-class"),e.nil=e.nil||$parent.attr("data-nil"),e.inner_class=e.inner_class||$parent.attr("data-inner-class"),e.html_attrs=e.html_attrs||$parent.attr("data-html-attrs"),e.original_content=e.original_content||$parent.attr("data-original-content"),e.collectionValue=e.collectionValue||$parent.attr("data-value")}),e.element.parents().each(function(){var t=this.id.match(/^(\w+)_(\d+)$/i);t&&(e.objectName=e.objectName||t[1])}),e.url=e.element.attr("data-url")||e.url||document.location.pathname,e.collection=e.element.attr("data-collection")||e.collection,e.formType=e.element.attr("data-type")||e.formtype||"input",e.objectName=e.element.attr("data-object")||e.objectName,e.attributeName=e.element.attr("data-attribute")||e.attributeName,e.activator=e.element.attr("data-activator")||e.element,e.okButton=e.element.attr("data-ok-button")||e.okButton,e.okButtonClass=e.element.attr("data-ok-button-class")||e.okButtonClass||"",e.cancelButton=e.element.attr("data-cancel-button")||e.cancelButton,e.cancelButtonClass=e.element.attr("data-cancel-button-class")||e.cancelButtonClass||"",e.nil=e.element.attr("data-nil")||e.nil||"—",e.inner_class=e.element.attr("data-inner-class")||e.inner_class||null,e.html_attrs=e.element.attr("data-html-attrs")||e.html_attrs,e.original_content=e.element.attr("data-original-content")||e.original_content,e.collectionValue=e.element.attr("data-value")||e.collectionValue,e.sanitize=e.element.attr("data-sanitize")?"true"==e.element.attr("data-sanitize"):!0,e.useConfirm=e.element.attr("data-use-confirm")?"false"!=e.element.attr("data-use-confirm"):!0,"select"!=e.formType&&"checkbox"!=e.formType||null===e.collection||(e.values=jQuery.parseJSON(e.collection))},bindForm:function(){this.activateForm=BestInPlaceEditor.forms[this.formType].activateForm,this.getValue=BestInPlaceEditor.forms[this.formType].getValue},initNil:function(){""===this.element.html()&&this.element.html(this.nil)},isNil:function(){return""===this.element.html()||this.element.html()===this.nil},getValue:function(){alert("The form was not properly initialized. getValue is unbound")},sanitizeValue:function(e){return jQuery.trim(e)},requestData:function(){csrf_token=jQuery("meta[name=csrf-token]").attr("content"),csrf_param=jQuery("meta[name=csrf-param]").attr("content");var e="_method=put";return e+="&"+this.objectName+"["+this.attributeName+"]="+encodeURIComponent(this.getValue()),void 0!==csrf_param&&void 0!==csrf_token&&(e+="&"+csrf_param+"="+encodeURIComponent(csrf_token)),e},ajax:function(e){return e.url=this.url,e.beforeSend=function(e){e.setRequestHeader("Accept","application/json")},jQuery.ajax(e)},loadSuccessCallback:function(e){if(e=jQuery.trim(e),e&&""!=e){var t=jQuery.parseJSON(jQuery.trim(e));null!==t&&t.hasOwnProperty("display_as")&&(this.element.attr("data-original-content",this.element.text()),this.original_content=this.element.text(),this.element.html(t.display_as)),this.element.trigger(jQuery.Event("best_in_place:success"),e),this.element.trigger(jQuery.Event("ajax:success"),e)}else this.element.trigger(jQuery.Event("best_in_place:success")),this.element.trigger(jQuery.Event("ajax:success"));jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate")),null!==this.collectionValue&&"select"==this.formType&&(this.collectionValue=this.previousCollectionValue,this.previousCollectionValue=null)},loadErrorCallback:function(e,t){this.activateText(this.oldValue),this.element.trigger(jQuery.Event("best_in_place:error"),[e,t]),this.element.trigger(jQuery.Event("ajax:error"),e,t),jQuery(this.activator).bind("click",{editor:this},this.clickHandler),this.element.trigger(jQuery.Event("best_in_place:deactivate"))},clickHandler:function(e){e.preventDefault(),e.data.editor.activate()},setHtmlAttributes:function(){var e=this.element.find(this.formType);if(this.html_attrs){var t=jQuery.parseJSON(this.html_attrs);for(var n in t)e.attr(n,t[n])}}},BestInPlaceEditor.forms={input:{activateForm:function(){var e=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),t=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).val(this.display_value);null!==this.inner_class&&t.addClass(this.inner_class),e.append(t),this.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("class",this.okButtonClass).attr("value",this.okButton)),this.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("class",this.cancelButtonClass).attr("value",this.cancelButton)),this.element.html(e),this.setHtmlAttributes(),this.element.find("input[type='text']")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.input.cancelButtonHandler),this.element.find("input[type='text']").bind("blur",{editor:this},BestInPlaceEditor.forms.input.inputBlurHandler),this.element.find("input[type='text']").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},inputBlurHandler:function(e){e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abort()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()},500):e.data.editor.update()},submitHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abort(),e.stopPropagation()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},date:{activateForm:function(){var e=this,t=jQuery(document.createElement("form")).addClass("form_in_place").attr("action","javascript:void(0);").attr("style","display:inline"),n=jQuery(document.createElement("input")).attr("type","text").attr("name",this.attributeName).attr("value",this.sanitizeValue(this.display_value));null!==this.inner_class&&n.addClass(this.inner_class),t.append(n),this.element.html(t),this.setHtmlAttributes(),this.element.find("input")[0].select(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.input.submitHandler),this.element.find("input").bind("keyup",{editor:this},BestInPlaceEditor.forms.input.keyupHandler),this.element.find("input").datepicker({onClose:function(){e.update()}}).datepicker("show")},getValue:function(){return this.sanitizeValue(this.element.find("input").val())},submitHandler:function(e){e.data.editor.update()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},select:{activateForm:function(){var e=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline");selected="",oldValue=this.oldValue,select_elt=jQuery(document.createElement("select")).attr("class",null!==this.inned_class?this.inner_class:""),currentCollectionValue=this.collectionValue,jQuery.each(this.values,function(e,t){var n=jQuery(document.createElement("option")).val(t[0]).html(t[1]);t[0]==currentCollectionValue&&n.attr("selected","selected"),select_elt.append(n)}),e.append(select_elt),this.element.html(e),this.setHtmlAttributes(),this.element.find("select").bind("change",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("blur",{editor:this},BestInPlaceEditor.forms.select.blurHandler),this.element.find("select").bind("keyup",{editor:this},BestInPlaceEditor.forms.select.keyupHandler),this.element.find("select")[0].focus()},getValue:function(){return this.sanitizeValue(this.element.find("select").val())},blurHandler:function(e){e.data.editor.update()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abort()}},checkbox:{activateForm:function(){this.collectionValue=!this.getValue(),this.setHtmlAttributes(),this.update()},getValue:function(){return this.collectionValue}},textarea:{activateForm:function(){width=this.element.css("width"),height=this.element.css("height");var e=jQuery(document.createElement("form")).attr("action","javascript:void(0)").attr("style","display:inline").append(jQuery(document.createElement("textarea")).val(this.sanitizeValue(this.display_value)));this.okButton&&e.append(jQuery(document.createElement("input")).attr("type","submit").attr("value",this.okButton)),this.cancelButton&&e.append(jQuery(document.createElement("input")).attr("type","button").attr("value",this.cancelButton)),this.element.html(e),this.setHtmlAttributes(),jQuery(this.element.find("textarea")[0]).css({"min-width":width,"min-height":height}),jQuery(this.element.find("textarea")[0]).elastic(),this.element.find("textarea")[0].focus(),this.element.find("form").bind("submit",{editor:this},BestInPlaceEditor.forms.textarea.submitHandler),this.cancelButton&&this.element.find("input[type='button']").bind("click",{editor:this},BestInPlaceEditor.forms.textarea.cancelButtonHandler),this.element.find("textarea").bind("blur",{editor:this},BestInPlaceEditor.forms.textarea.blurHandler),this.element.find("textarea").bind("keyup",{editor:this},BestInPlaceEditor.forms.textarea.keyupHandler),this.blurTimer=null,this.userClicked=!1},getValue:function(){return this.sanitizeValue(this.element.find("textarea").val())},blurHandler:function(e){e.data.editor.okButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.abortIfConfirm()},500):e.data.editor.cancelButton?e.data.editor.blurTimer=setTimeout(function(){e.data.editor.userClicked||e.data.editor.update()},500):e.data.editor.update()},submitHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.update()},cancelButtonHandler:function(e){e.data.editor.userClicked=!0,clearTimeout(e.data.editor.blurTimer),e.data.editor.abortIfConfirm(),e.stopPropagation()},keyupHandler:function(e){27==e.keyCode&&e.data.editor.abortIfConfirm()}}},jQuery.fn.best_in_place=function(){function e(e){return e.data("bestInPlaceEditor")?void 0:(e.data("bestInPlaceEditor",new BestInPlaceEditor(e)),!0)}return jQuery(this.context).delegate(this.selector,"click",function(){var t=jQuery(this);e(t)&&t.click()}),this.each(function(){e(jQuery(this))}),this},function(e){"undefined"==typeof e.fn.elastic&&e.fn.extend({elastic:function(){var t=["paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","lineHeight","fontFamily","width","fontWeight"];return this.each(function(){function n(e,t){curratedHeight=Math.floor(parseInt(e,10)),r.height()!=curratedHeight&&r.css({height:curratedHeight+"px",overflow:t})}function i(){var e=r.val().replace(/&/g,"&amp;").replace(/  /g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),t=o.html().replace(/<br>/gi,"<br />");if(e+"&nbsp;"!=t&&(o.html(e+"&nbsp;"),Math.abs(o.height()+s-r.height())>3)){var i=o.height()+s;i>=l?n(l,"auto"):a>=i?n(a,"hidden"):n(i,"hidden")}}if("textarea"!=this.type)return!1;var r=e(this),o=e("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),s=parseInt(r.css("line-height"),10)||parseInt(r.css("font-size"),"10"),a=parseInt(r.css("height"),10)||3*s,l=parseInt(r.css("max-height"),10)||Number.MAX_VALUE,c=0;for(0>l&&(l=Number.MAX_VALUE),o.appendTo(r.parent()),c=t.length;c--;)o.css(t[c].toString(),r.css(t[c].toString()));r.css({overflow:"hidden"}),r.bind("keyup change cut paste",function(){i()}),r.bind("blur",function(){l>o.height()&&(o.height()>a?r.height(o.height()):r.height(a))}),r.on("input paste",function(){setTimeout(i,250)}),i()})}})}(jQuery),jQuery(document).on("best_in_place:error",function(e,t){jQuery.each(jQuery.parseJSON(t.responseText),function(e,t){"object"==typeof t&&(t=e+" "+t.toString());var n=jQuery("<span class='flash-error'></span>").html(t);n.purr()})}),/**
    WYMeditor
    =========

    version 1.0.0b1

    WYMeditor : what you see is What You Mean web-based editor

    Main JS file with core classes and functions.

    Copyright
    ---------

    Copyright (c) 2005 - 2010 Jean-Francois Hovinne, http://www.wymeditor.org/
    Dual licensed under the MIT (MIT-license.txt)
    and GPL (GPL-license.txt) licenses.

    Website
    -------

    For further information visit:
    http://www.wymeditor.org/


    Authors
    -------

    See AUTHORS file
*/
"undefined"==typeof WYMeditor&&(WYMeditor={}),function(){if("undefined"==typeof window.console&&"undefined"==typeof console){var e,t=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],n=function(){};for(WYMeditor.console={},e=0;t.length>e;e+=1)WYMeditor.console[t[e]]=n}else console?WYMeditor.console=console:window.console.firebug?WYMeditor.console=window.console:window.console&&(WYMeditor.console=window.console)}(),jQuery.extend(WYMeditor,{VERSION:"1.0.0b1",INSTANCES:[],STRINGS:[],SKINS:[],NAME:"name",INDEX:"{Wym_Index}",WYM_INDEX:"wym_index",BASE_PATH:"{Wym_Base_Path}",CSS_PATH:"{Wym_Css_Path}",WYM_PATH:"{Wym_Wym_Path}",SKINS_DEFAULT_PATH:"skins/",SKINS_DEFAULT_CSS:"skin.css",SKINS_DEFAULT_JS:"skin.js",LANG_DEFAULT_PATH:"lang/",IFRAME_BASE_PATH:"{Wym_Iframe_Base_Path}",IFRAME_DEFAULT:"iframe/default/",JQUERY_PATH:"{Wym_Jquery_Path}",DIRECTION:"{Wym_Direction}",LOGO:"{Wym_Logo}",TOOLS:"{Wym_Tools}",TOOLS_ITEMS:"{Wym_Tools_Items}",TOOL_NAME:"{Wym_Tool_Name}",TOOL_TITLE:"{Wym_Tool_Title}",TOOL_CLASS:"{Wym_Tool_Class}",CLASSES:"{Wym_Classes}",CLASSES_ITEMS:"{Wym_Classes_Items}",CLASS_NAME:"{Wym_Class_Name}",CLASS_TITLE:"{Wym_Class_Title}",CONTAINERS:"{Wym_Containers}",CONTAINERS_ITEMS:"{Wym_Containers_Items}",CONTAINER_NAME:"{Wym_Container_Name}",CONTAINER_TITLE:"{Wym_Containers_Title}",CONTAINER_CLASS:"{Wym_Container_Class}",HTML:"{Wym_Html}",IFRAME:"{Wym_Iframe}",STATUS:"{Wym_Status}",DIALOG_TITLE:"{Wym_Dialog_Title}",DIALOG_BODY:"{Wym_Dialog_Body}",NEWLINE:"\n",STRING:"string",BODY:"body",DIV:"div",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",PRE:"pre",BLOCKQUOTE:"blockquote",A:"a",BR:"br",IMG:"img",TABLE:"table",TR:"tr",TD:"td",TH:"th",UL:"ul",OL:"ol",LI:"li",CLASS:"class",HREF:"href",SRC:"src",TITLE:"title",REL:"rel",ALT:"alt",DIALOG_LINK:"Link",DIALOG_IMAGE:"Image",DIALOG_TABLE:"Table",DIALOG_PASTE:"Paste_From_Word",BOLD:"Bold",ITALIC:"Italic",CREATE_LINK:"CreateLink",INSERT_IMAGE:"InsertImage",INSERT_TABLE:"InsertTable",INSERT_HTML:"InsertHTML",PASTE:"Paste",INDENT:"Indent",OUTDENT:"Outdent",TOGGLE_HTML:"ToggleHtml",FORMAT_BLOCK:"FormatBlock",PREVIEW:"Preview",UNLINK:"Unlink",INSERT_UNORDEREDLIST:"InsertUnorderedList",INSERT_ORDEREDLIST:"InsertOrderedList",MAIN_CONTAINERS:["p","h1","h2","h3","h4","h5","h6","pre","blockquote"],BLOCKS:["address","blockquote","div","dl","fieldset","form","h1","h2","h3","h4","h5","h6","hr","noscript","ol","p","pre","table","ul","dd","dt","li","tbody","td","tfoot","th","thead","tr"],BLOCKING_ELEMENTS:["table","blockquote","pre"],NON_BLOCKING_ELEMENTS:["p","h1","h2","h3","h4","h5","h6"],POTENTIAL_LIST_ELEMENTS:["p","h1","h2","h3","h4","h5","h6","pre","blockquote","td"],KEY:{BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,END:35,HOME:36,CURSOR:[37,38,39,40],LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,B:66,I:73,R:82,COMMAND:224},NODE:{ELEMENT:1,ATTRIBUTE:2,TEXT:3},editor:function(e,t){this._index=WYMeditor.INSTANCES.push(this)-1,this._element=e,this._options=t,this._html=jQuery(e).val(),this._options.html&&(this._html=this._options.html),this._options.wymPath=this._options.wymPath||WYMeditor.computeWymPath(),this._options.basePath=this._options.basePath||WYMeditor.computeBasePath(this._options.wymPath),this._options.jQueryPath=this._options.jQueryPath||WYMeditor.computeJqueryPath(),this._options.skinPath=this._options.skinPath||this._options.basePath+WYMeditor.SKINS_DEFAULT_PATH+this._options.skin+"/",this._options.langPath=this._options.langPath||this._options.basePath+WYMeditor.LANG_DEFAULT_PATH,this._options.iframeBasePath=this._options.iframeBasePath||this._options.basePath+WYMeditor.IFRAME_DEFAULT,this.init()}}),jQuery.fn.wymeditor=function(e){return e=jQuery.extend({html:"",basePath:!1,skinPath:!1,wymPath:!1,iframeBasePath:!1,jQueryPath:!1,styles:!1,stylesheet:!1,skin:"default",initSkin:!0,loadSkin:!0,lang:"en",direction:"ltr",customCommands:[],boxHtml:String()+"<div class='wym_box'>"+"<div class='wym_area_top'>"+WYMeditor.TOOLS+"</div>"+"<div class='wym_area_left'></div>"+"<div class='wym_area_right'>"+WYMeditor.CONTAINERS+WYMeditor.CLASSES+"</div>"+"<div class='wym_area_main'>"+WYMeditor.HTML+WYMeditor.IFRAME+WYMeditor.STATUS+"</div>"+"<div class='wym_area_bottom'>"+WYMeditor.LOGO+"</div>"+"</div>",logoHtml:String()+'<a class="wym_wymeditor_link" '+'href="http://www.wymeditor.org/">WYMeditor</a>',iframeHtml:String()+'<div class="wym_iframe wym_section">'+'<iframe src="'+WYMeditor.IFRAME_BASE_PATH+'wymiframe.html" '+'onload="this.contentWindow.parent.WYMeditor.INSTANCES['+WYMeditor.INDEX+'].initIframe(this)">'+"</iframe>"+"</div>",editorStyles:[],toolsHtml:String()+'<div class="wym_tools wym_section">'+"<h2>{Tools}</h2>"+"<ul>"+WYMeditor.TOOLS_ITEMS+"</ul>"+"</div>",toolsItemHtml:String()+'<li class="'+WYMeditor.TOOL_CLASS+'">'+'<a href="#" name="'+WYMeditor.TOOL_NAME+'"'+'title="'+WYMeditor.TOOL_TITLE+'">'+WYMeditor.TOOL_TITLE+"</a>"+"</li>",toolsItems:[{name:"Bold",title:"Strong",css:"wym_tools_strong"},{name:"Italic",title:"Emphasis",css:"wym_tools_emphasis"},{name:"Superscript",title:"Superscript",css:"wym_tools_superscript"},{name:"Subscript",title:"Subscript",css:"wym_tools_subscript"},{name:"InsertOrderedList",title:"Ordered_List",css:"wym_tools_ordered_list"},{name:"InsertUnorderedList",title:"Unordered_List",css:"wym_tools_unordered_list"},{name:"Indent",title:"Indent",css:"wym_tools_indent"},{name:"Outdent",title:"Outdent",css:"wym_tools_outdent"},{name:"Undo",title:"Undo",css:"wym_tools_undo"},{name:"Redo",title:"Redo",css:"wym_tools_redo"},{name:"CreateLink",title:"Link",css:"wym_tools_link"},{name:"Unlink",title:"Unlink",css:"wym_tools_unlink"},{name:"InsertImage",title:"Image",css:"wym_tools_image"},{name:"InsertTable",title:"Table",css:"wym_tools_table"},{name:"Paste",title:"Paste_From_Word",css:"wym_tools_paste"},{name:"ToggleHtml",title:"HTML",css:"wym_tools_html"},{name:"Preview",title:"Preview",css:"wym_tools_preview"}],containersHtml:String()+'<div class="wym_containers wym_section">'+"<h2>{Containers}</h2>"+"<ul>"+WYMeditor.CONTAINERS_ITEMS+"</ul>"+"</div>",containersItemHtml:String()+'<li class="'+WYMeditor.CONTAINER_CLASS+'">'+'<a href="#" name="'+WYMeditor.CONTAINER_NAME+'">'+WYMeditor.CONTAINER_TITLE+"</a>"+"</li>",containersItems:[{name:"P",title:"Paragraph",css:"wym_containers_p"},{name:"H1",title:"Heading_1",css:"wym_containers_h1"},{name:"H2",title:"Heading_2",css:"wym_containers_h2"},{name:"H3",title:"Heading_3",css:"wym_containers_h3"},{name:"H4",title:"Heading_4",css:"wym_containers_h4"},{name:"H5",title:"Heading_5",css:"wym_containers_h5"},{name:"H6",title:"Heading_6",css:"wym_containers_h6"},{name:"PRE",title:"Preformatted",css:"wym_containers_pre"},{name:"BLOCKQUOTE",title:"Blockquote",css:"wym_containers_blockquote"},{name:"TH",title:"Table_Header",css:"wym_containers_th"}],classesHtml:String()+'<div class="wym_classes wym_section">'+"<h2>{Classes}</h2>"+"<ul>"+WYMeditor.CLASSES_ITEMS+"</ul>"+"</div>",classesItemHtml:String()+'<li class="wym_classes_'+WYMeditor.CLASS_NAME+'">'+'<a href="#" name="'+WYMeditor.CLASS_NAME+'">'+WYMeditor.CLASS_TITLE+"</a>"+"</li>",classesItems:[],statusHtml:String()+'<div class="wym_status wym_section">'+"<h2>{Status}</h2>"+"</div>",htmlHtml:String()+'<div class="wym_html wym_section">'+"<h2>{Source_Code}</h2>"+'<textarea class="wym_html_val"></textarea>'+"</div>",boxSelector:".wym_box",toolsSelector:".wym_tools",toolsListSelector:" ul",containersSelector:".wym_containers",classesSelector:".wym_classes",htmlSelector:".wym_html",iframeSelector:".wym_iframe iframe",iframeBodySelector:".wym_iframe",statusSelector:".wym_status",toolSelector:".wym_tools a",containerSelector:".wym_containers a",classSelector:".wym_classes a",htmlValSelector:".wym_html_val",hrefSelector:".wym_href",srcSelector:".wym_src",titleSelector:".wym_title",relSelector:".wym_rel",altSelector:".wym_alt",textSelector:".wym_text",rowsSelector:".wym_rows",colsSelector:".wym_cols",captionSelector:".wym_caption",summarySelector:".wym_summary",submitSelector:"form",cancelSelector:".wym_cancel",previewSelector:"",dialogTypeSelector:".wym_dialog_type",dialogLinkSelector:".wym_dialog_link",dialogImageSelector:".wym_dialog_image",dialogTableSelector:".wym_dialog_table",dialogPasteSelector:".wym_dialog_paste",dialogPreviewSelector:".wym_dialog_preview",updateSelector:".wymupdate",updateEvent:"click",dialogFeatures:"menubar=no,titlebar=no,toolbar=no,resizable=no,width=560,height=300,top=0,left=0",dialogFeaturesPreview:"menubar=no,titlebar=no,toolbar=no,resizable=no,scrollbars=yes,width=560,height=300,top=0,left=0",dialogHtml:String()+'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" '+'"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">'+'<html dir="'+WYMeditor.DIRECTION+'">'+"<head>"+'<link rel="stylesheet" type="text/css" media="screen" '+'href="'+WYMeditor.CSS_PATH+'" />'+"<title>"+WYMeditor.DIALOG_TITLE+"</title>"+'<script type="text/javascript" '+'src="'+WYMeditor.JQUERY_PATH+'"></script>'+'<script type="text/javascript" '+'src="'+WYMeditor.WYM_PATH+'"></script>'+"</head>"+WYMeditor.DIALOG_BODY+"</html>",dialogLinkHtml:String()+'<body class="wym_dialog wym_dialog_link" '+' onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_LINK+'" />'+"<legend>{Link}</legend>"+'<div class="row">'+"<label>{URL}</label>"+'<input type="text" class="wym_href" value="" '+'size="40" autofocus="autofocus" />'+"</div>"+'<div class="row">'+"<label>{Title}</label>"+'<input type="text" class="wym_title" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Relationship}</label>"+'<input type="text" class="wym_rel" value="" '+'size="40" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogImageHtml:String()+'<body class="wym_dialog wym_dialog_image" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_IMAGE+'" />'+"<legend>{Image}</legend>"+'<div class="row">'+"<label>{URL}</label>"+'<input type="text" class="wym_src" value="" '+'size="40" autofocus="autofocus" />'+"</div>"+'<div class="row">'+"<label>{Alternative_Text}</label>"+'<input type="text" class="wym_alt" value="" size="40" />'+"</div>"+'<div class="row">'+"<label>{Title}</label>"+'<input type="text" class="wym_title" value="" size="40" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogTableHtml:String()+'<body class="wym_dialog wym_dialog_table" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_TABLE+'" />'+"<legend>{Table}</legend>"+'<div class="row">'+"<label>{Caption}</label>"+'<input type="text" class="wym_caption" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Summary}</label>"+'<input type="text" class="wym_summary" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Number_Of_Rows}</label>"+'<input type="text" class="wym_rows" value="3" size="3" />'+"</div>"+'<div class="row">'+"<label>{Number_Of_Cols}</label>"+'<input type="text" class="wym_cols" value="2" size="3" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogPasteHtml:String()+'<body class="wym_dialog wym_dialog_paste" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_PASTE+'" />'+"<fieldset>"+"<legend>{Paste_From_Word}</legend>"+'<div class="row">'+'<textarea class="wym_text" rows="10" cols="50" '+'autofocus="autofocus"></textarea>'+"</div>"+'<div class="row">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogPreviewHtml:String()+'<body class="wym_dialog wym_dialog_preview" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')"></body>',dialogStyles:[],stringDelimiterLeft:"{",stringDelimiterRight:"}",preInit:null,preBind:null,postInit:null,preInitDialog:null,postInitDialog:null},e),this.each(function(){new WYMeditor.editor(jQuery(this),e)})},jQuery.extend({wymeditors:function(e){return WYMeditor.INSTANCES[e]}}),WYMeditor.computeWymPath=function(){var e=jQuery(jQuery.grep(jQuery("script"),function(e){return e.src?e.src.match(/jquery\.wymeditor(\.pack|\.min|\.packed)?\.js(\?.*)?$/)||e.src.match(/\/core\.js(\?.*)?$/):null}));return e.length>0?e.attr("src"):(WYMeditor.console.warn("Error determining wymPath. No base WYMeditor file located."),WYMeditor.console.warn("Assuming wymPath to be the current URL"),WYMeditor.console.warn("Please pass a correct wymPath option"),"")},WYMeditor.computeBasePath=function(e){var t=e.lastIndexOf("/");return e.substr(0,t+1)},WYMeditor.computeJqueryPath=function(){return jQuery(jQuery.grep(jQuery("script"),function(e){return e.src&&e.src.match(/jquery(-(.*)){0,1}(\.pack|\.min|\.packed)?\.js(\?.*)?$/)})).attr("src")},WYMeditor.INIT_DIALOG=function(index){var wym=window.opener.WYMeditor.INSTANCES[index],doc=window.document,selected=wym.selected(),dialogType=jQuery(wym._options.dialogTypeSelector).val(),sStamp=wym.uniqueStamp(),styles,aCss,tableOnClick;dialogType===WYMeditor.DIALOG_LINK&&(selected&&selected.tagName&&selected.tagName.toLowerCase!==WYMeditor.A&&(selected=jQuery(selected).parentsOrSelf(WYMeditor.A)),!selected&&wym._selected_image&&(selected=jQuery(wym._selected_image).parentsOrSelf(WYMeditor.A))),jQuery.isFunction(wym._options.preInitDialog)&&wym._options.preInitDialog(wym,window),styles=doc.styleSheets[0],aCss=eval(wym._options.dialogStyles),wym.addCssRules(doc,aCss),selected&&(jQuery(wym._options.hrefSelector).val(jQuery(selected).attr(WYMeditor.HREF)),jQuery(wym._options.srcSelector).val(jQuery(selected).attr(WYMeditor.SRC)),jQuery(wym._options.titleSelector).val(jQuery(selected).attr(WYMeditor.TITLE)),jQuery(wym._options.relSelector).val(jQuery(selected).attr(WYMeditor.REL)),jQuery(wym._options.altSelector).val(jQuery(selected).attr(WYMeditor.ALT))),wym._selected_image&&(jQuery(wym._options.dialogImageSelector+" "+wym._options.srcSelector).val(jQuery(wym._selected_image).attr(WYMeditor.SRC)),jQuery(wym._options.dialogImageSelector+" "+wym._options.titleSelector).val(jQuery(wym._selected_image).attr(WYMeditor.TITLE)),jQuery(wym._options.dialogImageSelector+" "+wym._options.altSelector).val(jQuery(wym._selected_image).attr(WYMeditor.ALT))),jQuery(wym._options.dialogLinkSelector+" "+wym._options.submitSelector).submit(function(){var e,t=jQuery(wym._options.hrefSelector).val();t.length>0&&(selected[0]&&selected[0].tagName.toLowerCase()===WYMeditor.A?e=selected:(wym._exec(WYMeditor.CREATE_LINK,sStamp),e=jQuery("a[href="+sStamp+"]",wym._doc.body)),e.attr(WYMeditor.HREF,t),e.attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val()),e.attr(WYMeditor.REL,jQuery(wym._options.relSelector).val())),window.close()}),jQuery(wym._options.dialogImageSelector+" "+wym._options.submitSelector).submit(function(){var e,t=jQuery(wym._options.srcSelector).val();t.length>0&&(wym._exec(WYMeditor.INSERT_IMAGE,sStamp),e=jQuery("img[src$="+sStamp+"]",wym._doc.body),e.attr(WYMeditor.SRC,t),e.attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val()),e.attr(WYMeditor.ALT,jQuery(wym._options.altSelector).val())),window.close()}),tableOnClick=WYMeditor.MAKE_TABLE_ONCLICK(wym),jQuery(wym._options.dialogTableSelector+" "+wym._options.submitSelector).submit(tableOnClick),jQuery(wym._options.dialogPasteSelector+" "+wym._options.submitSelector).submit(function(){var e=jQuery(wym._options.textSelector).val();wym.paste(e),window.close()}),jQuery(wym._options.dialogPreviewSelector+" "+wym._options.previewSelector).html(wym.xhtml()),jQuery(wym._options.cancelSelector).mousedown(function(){window.close()}),jQuery.isFunction(wym._options.postInitDialog)&&wym._options.postInitDialog(wym,window)},WYMeditor.MAKE_TABLE_ONCLICK=function(e){var t=function(){var t=jQuery(e._options.rowsSelector).val(),n=jQuery(e._options.colsSelector).val(),i=jQuery(e._options.captionSelector).val(),r=jQuery(e._options.summarySelector).val();e.insertTable(t,n,i,r),window.close()};return t},jQuery.fn.isPhantomNode=function(){return 3===this[0].nodeType?!/[^\t\n\r ]/.test(this[0].data):!1},jQuery.fn.nextContentsUntil=function(e,t){var n,i=[],r=this.get(0);if(e=e?e:"",t=t?t:"",!r)return $();for(r=r.nextSibling;r&&!$(r).is(e);)i.push(r),r=r.nextSibling;return n=$(i),t?n.filter(t):n},jQuery.fn.nextAllContents=function(){return $(this).nextContentsUntil("","")},jQuery.fn.prevContentsUntil=function(e,t){var n,i=[],r=this.get(0);if(e=e?e:"",t=t?t:"",!r)return $();for(r=r.previousSibling;r&&!$(r).is(e);)i.push(r),r=r.previousSibling;return n=$(i),t?n.filter(t):n},jQuery.fn.prevAllContents=function(){return $(this).prevContentsUntil("","")},WYMeditor.isPhantomNode=function(e){return 3===e.nodeType?!/[^\t\n\r ]/.test(e.data):!1},WYMeditor.isPhantomString=function(e){return!/[^\t\n\r ]/.test(e)},jQuery.fn.parentsOrSelf=function(e){var t=this;return 3===t[0].nodeType&&(t=t.parents().slice(0,1)),1===t.filter(e).size()?t:t.parents(e).slice(0,1)},WYMeditor.changeNodeType=function(e,t){var n,i,r=e.attributes;for($(e).wrapInner("<"+t+">"),n=$(e).children().get(0),i=0;r.length>i;i++)r[i].specified&&n.setAttribute(r[i].nodeName,r[i].nodeValue);return $(e).contents().unwrap(),n},WYMeditor.Helper={replaceAll:function(e,t,n){var i=new RegExp(t,"g");return e.replace(i,n)},insertAt:function(e,t,n){return e.substr(0,n)+t+e.substring(n)},trim:function(e){return e.replace(/^(\s*)|(\s*)$/gm,"")},contains:function(e,t){var n;for(n=0;e.length>n;n+=1)if(e[n]===t)return!0;return!1},indexOf:function(e,t){var n,i=-1;for(n=0;e.length>n;n+=1)if(e[n]===t){i=n;break}return i},findByName:function(e,t){var n,i;for(n=0;e.length>n;n+=1)if(i=e[n],i.name===t)return i;return null}},window.rangy=function(){function e(e,t){var n=typeof e[t];return n==u||n==d&&!!e[t]||"unknown"==n}function t(e,t){return typeof e[t]==d&&!!e[t]}function n(e,t){return typeof e[t]!=h}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&y(e,g)&&_(e,m)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e),b.initialized=!0,b.supported=!1}function s(e){var t="Rangy warning: "+e;b.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function a(){if(!b.initialized){var n,i=!1,s=!1;e(document,"createRange")&&(n=document.createRange(),y(n,f)&&_(n,p)&&(i=!0),n.detach());var a=t(document,"body")?document.body:document.getElementsByTagName("body")[0];a&&e(a,"createTextRange")&&(n=a.createTextRange(),r(n)&&(s=!0)),!i&&!s&&o("Neither Range nor TextRange are implemented"),b.initialized=!0,b.features={implementsDomRange:i,implementsTextRange:s};for(var l=x.concat(w),c=0,d=l.length;d>c;++c)try{l[c](b)}catch(u){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function l(e){e=e||window,a();for(var t=0,n=C.length;n>t;++t)C[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var d="object",u="function",h="undefined",p=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],f=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],y=i(e),v=i(t),_=i(n),b={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:y,areHostObjects:v,areHostProperties:_,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};b.fail=o,b.warn=s,{}.hasOwnProperty?b.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}:o("hasOwnProperty not supported");var w=[],x=[];b.init=a,b.addInitListener=function(e){b.initialized?e(b):w.push(e)};var C=[];b.addCreateMissingNativeApiListener=function(e){C.push(e)},b.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){b.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},b.createModule=function(e,t){var n=new c(e);b.modules[e]=n,x.push(function(e){t(e,n),n.initialized=!0,n.supported=!0})},b.requireModules=function(e){for(var t,n,i=0,r=e.length;r>i;++i){if(n=e[i],t=b.modules[n],!(t&&t instanceof c))throw new Error("Module '"+n+"' not found");if(!t.supported)throw new Error("Module '"+n+"' not supported")}};var T=!1,E=function(){T||(T=!0,b.initialized||a())};return typeof window==h?(o("No window found"),void 0):typeof document==h?(o("No document found"),void 0):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",E,!1),e(window,"addEventListener")?window.addEventListener("load",E,!1):e(window,"attachEvent")?window.attachEvent("onload",E):o("Window does not have required addEventListener or attachEvent method"),b)}(),rangy.createModule("DomUtil",function(e,t){function n(e){var t;return typeof e.namespaceURI==E||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)t++;return t}function o(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function s(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(W(i,n))return n;return null}function a(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.parentNode,i===t)return r;r=i}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function u(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),d(n,e),n}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=E)return e.ownerDocument;if(typeof e.document!=E)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function p(e){var t=h(e);if(typeof t.defaultView!=E)return t.defaultView;if(typeof t.parentWindow!=E)return t.parentWindow;throw new Error("Cannot get a window object for node")}function f(e){if(typeof e.contentDocument!=E)return e.contentDocument;if(typeof e.contentWindow!=E)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=E)return e.contentWindow;if(typeof e.contentDocument!=E)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return S.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function y(e){for(var t;t=e.parentNode;)e=t;return e}function v(e,t,n,i){var o,a,c,d,u;if(e==n)return t===i?0:i>t?-1:1;if(o=l(n,e,!0))return r(o)>=t?-1:1;if(o=l(e,n,!0))return i>r(o)?-1:1;if(a=s(e,n),c=e===a?a:l(e,a,!0),d=n===a?a:l(n,a,!0),c===d)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=a.firstChild;u;){if(u===c)return-1;if(u===d)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function _(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function b(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function w(e){this.root=e,this._next=e}function x(e){return new w(e)}function C(e,t){this.node=e,this.offset=t}function T(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var E="undefined",S=e.util;S.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),S.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var M=document.createElement("div");S.areHostMethods(M,["insertBefore","appendChild","cloneNode"]||!S.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),S.isHostProperty(M,"innerHTML")||t.fail("Element is missing innerHTML property");var N=document.createTextNode("test");S.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!S.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"])||!S.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation");var W=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};w.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},C.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+b(this.node)+":"+this.offset+")]"}},T.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},T.prototype.toString=function(){return this.message},e.dom={arrayContains:W,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:s,isAncestorOf:a,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:d,splitDataNode:u,getDocument:h,getWindow:p,getIframeWindow:m,getIframeDocument:f,getBody:g,getRootContainer:y,comparePoints:v,inspectNode:b,fragmentFromNodeChildren:_,createIterator:x,DomPosition:C},e.DOMException=T}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(O.isAncestorOf(e,t.startContainer,!0)||O.isAncestorOf(e,t.endContainer,!0))}function n(e){return O.getDocument(e.startContainer)}function i(e,t,n){var i=e._listeners[t];if(i)for(var r=0,o=i.length;o>r;++r)i[r].call(e,{target:e,args:n})}function r(e){return new D(e.parentNode,O.getNodeIndex(e))}function o(e){return new D(e.parentNode,O.getNodeIndex(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return O.isCharacterDataNode(t)?n==t.length?O.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:O.splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e){for(var t,i,r,o=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(r=e.getSubtreeIterator(),i.appendChild(a(r)),r.detach(!0)),10==i.nodeType)throw new j("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function l(e,t,n){var i,r;n=n||{stop:!1};for(var o,s;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return n.stop=!0,void 0;if(s=e.getSubtreeIterator(),l(s,t,n),s.detach(!0),n.stop)return}else for(i=O.createIterator(o);r=i.next();)if(t(r)===!1)return n.stop=!0,void 0}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function d(e){for(var t,i,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(d(i)),i.detach(!0)):e.remove(),10==t.nodeType)throw new j("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function u(e,t,n){var i,r=!!t&&!!t.length,o=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var s=[];return l(new p(e,!1),function(e){(!r||i.test(e.nodeType))&&(!o||n(e))&&s.push(e)}),s}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+O.inspectNode(e.startContainer)+":"+e.startOffset+", "+O.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&O.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||O.isCharacterDataNode(this.sc)?O.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||O.isCharacterDataNode(this.ec)?O.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function f(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,n){this.nodes=u(e,t,n),this._next=this.nodes[0],this._position=0}function g(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,O.arrayContains(e,i))return r;r=r.parentNode}return null}}function y(e,t){if(X(e,t))throw new f("INVALID_NODE_TYPE_ERR")}function v(e){if(!e.startContainer)throw new j("INVALID_STATE_ERR")}function _(e,t){if(!O.arrayContains(t,e.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function b(e,t){if(0>t||t>(O.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new j("INDEX_SIZE_ERR")}function w(e,t){if(z(e,!0)!==z(t,!0))throw new j("WRONG_DOCUMENT_ERR")}function x(e){if(q(e,!0))throw new j("NO_MODIFICATION_ALLOWED_ERR")}function C(e,t){if(!e)throw new j(t)}function T(e){return!O.arrayContains(H,e.nodeType)&&!z(e,!0)}function E(e,t){return(O.isCharacterDataNode(e)?e.length:e.childNodes.length)>=t}function S(e){if(v(e),T(e.startContainer)||T(e.endContainer)||!E(e.startContainer,e.startOffset)||!E(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function M(){}function N(e){e.START_TO_START=Z,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=nt,e.NODE_BEFORE=it,e.NODE_AFTER=rt,e.NODE_BEFORE_AND_AFTER=ot,e.NODE_INSIDE=st}function W(e){N(e),N(e.prototype)}function k(e,t){return function(){S(this);var n,i,r=this.startContainer,s=this.startOffset,a=this.commonAncestorContainer,c=new p(this,!0);r!==a&&(n=O.getClosestAncestorIn(r,a,!0),i=o(n),r=i.node,s=i.offset),l(c,x),c.reset();var d=e(c);return c.detach(),t(this,r,s,r,s),d}}function A(n,i,s){function a(e,t){return function(n){v(this),_(n,P),_(Q(n),H);var i=(e?r:o)(n);(t?l:u)(this,i.node,i.offset)}}function l(e,t,n){var r=e.endContainer,o=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((Q(t)!=Q(r)||1==O.comparePoints(t,n,r,o))&&(r=t,o=n),i(e,t,n,r,o))}function u(e,t,n){var r=e.startContainer,o=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((Q(t)!=Q(r)||-1==O.comparePoints(t,n,r,o))&&(r=t,o=n),i(e,r,o,t,n))}function h(e,t,n){(t!==e.startContainer||n!==e.startOffset||t!==e.endContainer||n!==e.endOffset)&&i(e,t,n,t,n)}n.prototype=new M,e.util.extend(n.prototype,{setStart:function(e,t){v(this),y(e,!0),b(e,t),l(this,e,t)},setEnd:function(e,t){v(this),y(e,!0),b(e,t),u(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){S(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(this),y(e,!0),i(this,e,0,e,O.getNodeLength(e))},selectNode:function(e){v(this),y(e,!1),_(e,P);var t=r(e),n=o(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:k(d,i),deleteContents:k(c,i),canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,o=e===n;O.isCharacterDataNode(n)&&r>0&&n.length>r&&O.splitDataNode(n,r),O.isCharacterDataNode(e)&&t>0&&e.length>t&&(e=O.splitDataNode(e,t),o?(r-=t,n=e):n==e.parentNode&&r>=O.getNodeIndex(e)&&r++,t=0),i(this,e,t,n,r)
},normalizeBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,r=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},s=function(i){var o=i.previousSibling;if(o&&o.nodeType==i.nodeType){e=i;var s=i.length;if(t=o.length,i.insertData(0,o.data),o.parentNode.removeChild(o),e==n)r+=t,n=e;else if(n==i.parentNode){var a=O.getNodeIndex(i);r==a?(n=i,r=s):r>a&&r--}}},a=!0;if(O.isCharacterDataNode(n))n.length==r&&o(n);else{if(r>0){var l=n.childNodes[r-1];l&&O.isCharacterDataNode(l)&&o(l)}a=!this.collapsed}if(a){if(O.isCharacterDataNode(e))0==t&&s(e);else if(e.childNodes.length>t){var c=e.childNodes[t];c&&O.isCharacterDataNode(c)&&s(c)}}else e=n,t=r;i(this,e,t,n,r)},collapseToPoint:function(e,t){v(this),y(e,!0),b(e,t),h(this,e,t)}}),W(n)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:O.getCommonAncestor(e.startContainer,e.endContainer)}function L(e,t,n,r,o){var s=e.startContainer!==t||e.startOffset!==n,a=e.endContainer!==r||e.endOffset!==o;e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,R(e),i(e,"boundarychange",{startMoved:s,endMoved:a})}function Y(e){v(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,i(e,"detach",null),e._listeners=null}function I(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},R(this)}e.requireModules(["DomUtil"]);var O=e.dom,D=O.DomPosition,j=e.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,O.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!O.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new I(n(this.range));var t=this._current,i=t,r=0,o=t,s=O.getNodeLength(t);O.isAncestorOf(t,this.sc,!0)&&(i=this.sc,r=this.so),O.isAncestorOf(t,this.ec,!0)&&(o=this.ec,s=this.eo),L(e,i,r,o,s)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var P=[1,3,4,5,7,8,10],H=[2,9,11],B=[5,6,10,12],$=[1,3,4,5,7,8,10,11],F=[1,3,4,5,7,8],Q=O.getRootContainer,z=g([9,11]),q=g(B),X=g([6,10,12]),U=document.createElement("style"),K=!1;try{U.innerHTML="<b>x</b>",K=3==U.firstChild.nodeType}catch(V){}e.features.htmlParsingConforms=K;var G=K?function(e){var t=this.startContainer,n=O.getDocument(t);if(!t)throw new j("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:O.isCharacterDataNode(t)&&(i=O.parentElement(t)),i=null===i||"HTML"==i.nodeName&&O.isHtmlNamespace(O.getDocument(i).documentElement)&&O.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,O.fragmentFromNodeChildren(i)}:function(e){v(this);var t=n(this),i=t.createElement("body");return i.innerHTML=e,O.fragmentFromNodeChildren(i)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,et=1,tt=2,nt=3,it=0,rt=1,ot=2,st=3;M.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){S(this),w(this.startContainer,t.startContainer);var n,i,r,o,s=e==nt||e==Z?"start":"end",a=e==et||e==Z?"start":"end";return n=this[s+"Container"],i=this[s+"Offset"],r=t[a+"Container"],o=t[a+"Offset"],O.comparePoints(n,i,r,o)},insertNode:function(e){if(S(this),_(e,$),x(this.startContainer),O.isAncestorOf(e,this.startContainer,!0))throw new j("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){S(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&O.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var i=new p(this,!0);return e=a(i),i.detach(),e},canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(_(e,F),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){S(this);for(var e,t=new I(n(this)),i=J.length;i--;)e=J[i],t[e]=this[e];return t},toString:function(){S(this);var e=this.startContainer;if(e===this.endContainer&&O.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){S(this);var t=e.parentNode,n=O.getNodeIndex(e);if(!t)throw new j("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>i?r>0?ot:it:r>0?rt:st},comparePoint:function(e,t){return S(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),0>O.comparePoints(e,t,this.startContainer,this.startOffset)?-1:O.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:G,toHtml:function(){S(this);var e=n(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(S(this),C(e,"NOT_FOUND_ERR"),O.getDocument(e)!==n(this))return!1;var i=e.parentNode,r=O.getNodeIndex(e);C(i,"NOT_FOUND_ERR");var o=O.comparePoints(i,r,this.endContainer,this.endOffset),s=O.comparePoints(i,r+1,this.startContainer,this.startOffset);return t?0>=o&&s>=0:0>o&&s>0},isPointInRange:function(e,t){return S(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),O.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&0>=O.comparePoints(e,t,this.endContainer,this.endOffset)},intersectsRange:function(e,t){if(S(this),n(e)!=n(this))throw new j("WRONG_DOCUMENT_ERR");var i=O.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),r=O.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=i&&r>=0:0>i&&r>0},intersection:function(e){if(this.intersectsRange(e)){var t=O.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=O.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==O.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==O.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new f("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==st},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&0>=this.comparePoint(e,O.getNodeLength(e))},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();t.setEnd(i,i.length);var r=this.containsRange(t);return t.detach(),r}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return S(this),new m(this,e,t)},getNodes:function(e,t){return S(this),u(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){v(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){v(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return I.rangesEqual(this,e)},inspect:function(){return h(this)}},A(I,L,Y),e.rangePrototype=M.prototype,I.rangeProperties=J,I.RangeIterator=p,I.copyComparisonConstants=W,I.createPrototypeRange=A,I.inspect=h,I.getRangeDocument=n,I.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=I,e.RangeException=f}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var r=n.parentElement(),o=i==r?i:s.getCommonAncestor(i,r);return o==t?o:s.getCommonAncestor(t,o)}function n(e){return 0==e.compareEndPoints("StartToEnd",e)}function i(e,t,n,i){var r=e.duplicate();r.collapse(n);var o=r.parentElement();if(s.isAncestorOf(t,o,!0)||(o=t),!o.canHaveHTML)return new a(o.parentNode,s.getNodeIndex(o));var l,c,d,u,h,p=s.getDocument(o).createElement("span"),f=n?"StartToStart":"StartToEnd";do o.insertBefore(p,p.previousSibling),r.moveToElementText(p);while((l=r.compareEndPoints(f,e))>0&&p.previousSibling);if(h=p.nextSibling,-1==l&&h&&s.isCharacterDataNode(h)){r.setEndPoint(n?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=r.duplicate(),y=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",y);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=r.text.length;u=new a(h,m)}else c=(i||!n)&&p.previousSibling,d=(i||n)&&p.nextSibling,u=d&&s.isCharacterDataNode(d)?new a(d,0):c&&s.isCharacterDataNode(c)?new a(c,c.length):new a(o,s.getNodeIndex(p));return p.parentNode.removeChild(p),u}function r(e,t){var n,i,r,o,a=e.offset,l=s.getDocument(e.node),c=l.body.createTextRange(),d=s.isCharacterDataNode(e.node);return d?(n=e.node,i=n.parentNode):(o=e.node.childNodes,n=o.length>a?o[a]:null,i=e.node),r=l.createElement("span"),r.innerHTML="&#feff;",n?i.insertBefore(r,n):i.appendChild(r),c.moveToElementText(r),c.collapse(!t),i.removeChild(r),d&&c[t?"moveStart":"moveEnd"]("character",a),c}e.requireModules(["DomUtil","DomRange"]);var o,s=e.dom,a=s.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){o=function(e){this.textRange=e,this.refresh()},o.prototype=new l(document),o.prototype.refresh=function(){var e,r,o=t(this.textRange);n(this.textRange)?r=e=i(this.textRange,o,!0,!0):(e=i(this.textRange,o,!0,!1),r=i(this.textRange,o,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(r.node,r.offset)},l.copyComparisonConstants(o);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=o),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else(function(){function t(e){for(var t,n=d.length;n--;)t=d[n],e[t]=e.nativeRange[t]}function n(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,s=e.endContainer!==i||e.endOffset!=r;(o||s)&&(e.setEnd(i,r),e.setStart(t,n))}function i(e){e.nativeRange.detach(),e.detached=!0;for(var t,n=d.length;n--;)t=d[n],e[t]=null}var r,a,c,d=l.rangeProperties;o=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(o,n,i),r=o.prototype,r.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},r.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},r.collapse=function(e){this.nativeRange.collapse(e),t(this)},r.cloneRange=function(){return new o(this.nativeRange.cloneRange())},r.refresh=function(){t(this)},r.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");s.getBody(document).appendChild(u);var h=document.createRange();h.setStart(u,0),h.setEnd(u,0);try{h.setStart(u,1),a=!0,r.setStart=function(e,n){this.nativeRange.setStart(e,n),t(this)},r.setEnd=function(e,n){this.nativeRange.setEnd(e,n),t(this)},c=function(e){return function(n){this.nativeRange[e](n),t(this)}}}catch(p){a=!1,r.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(i){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}t(this)},r.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(i){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}t(this)},c=function(e,n){return function(i){try{this.nativeRange[e](i)}catch(r){this.nativeRange[n](i),this.nativeRange[e](i)}t(this)}}}r.setStartBefore=c("setStartBefore","setEndBefore"),r.setStartAfter=c("setStartAfter","setEndAfter"),r.setEndBefore=c("setEndBefore","setStartBefore"),r.setEndAfter=c("setEndAfter","setStartAfter"),h.selectNodeContents(u),r.selectNodeContents=h.startContainer==u&&h.endContainer==u&&0==h.startOffset&&h.endOffset==u.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},h.selectNodeContents(u),h.setEnd(u,3);var f=document.createRange();f.selectNodeContents(u),f.setEnd(u,4),f.setStart(u,2),r.compareBoundaryPoints=-1==h.compareBoundaryPoints(h.START_TO_END,f)&1==h.compareBoundaryPoints(h.END_TO_START,f)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(h,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),s.getBody(document).removeChild(u),h.detach(),f.detach()})(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(o.rangeToTextRange=function(e){if(e.collapsed){var t=r(new a(e.startContainer,e.startOffset),!0);return t}var n=r(new a(e.startContainer,e.startOffset),!0),i=r(new a(e.endContainer,e.endOffset),!1),o=s.getDocument(e.startContainer).body.createTextRange();return o.setEndPoint("StartToStart",n),o.setEndPoint("EndToEnd",i),o}),o.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=o,e.createRange=function(t){return t=t||document,new o(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(s.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(s.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(this)}),n=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function n(e){return(e||window).getSelection()}function i(e){return(e||window).document.selection}function r(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function o(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function s(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function a(t){var n;return t instanceof T?(n=t._selectionNativeRange,n||(n=e.createNativeRange(x.getDocument(t.startContainer)),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof E?n=t.nativeRange:e.features.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(n=t),n}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function d(e){return!!e&&"undefined"!=typeof e.text}function u(e,t){var n=new E(t);e._ranges=[n],r(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)s(t);else{var n=t.docSelection.createRange();if(d(n))u(t,n);else{t.rangeCount=n.length;for(var i,o=x.getDocument(n.item(0)),a=0;t.rangeCount>a;++a)i=e.createRange(o),i.selectNode(n.item(a)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,r(t,t._ranges[t.rangeCount-1],!1)}}}function p(e,t){for(var n=e.docSelection.createRange(),i=c(t),r=x.getDocument(n.item(0)),o=x.getBody(r).createControlRange(),s=0,a=n.length;a>s;++s)o.add(n.item(s));try{o.add(i)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),h(e)}function f(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function m(e,t){for(var n,i=x.getDocument(t[0].startContainer),r=x.getBody(i).createControlRange(),o=0;rangeCount>o;++o){n=c(t[o]);try{r.add(n)}catch(s){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}r.select(),h(e)}function g(e,t){if(e.anchorNode&&x.getDocument(e.anchorNode)!==x.getDocument(t))throw new S("WRONG_DOCUMENT_ERR")}function y(e){var t=[],n=new M(e.anchorNode,e.anchorOffset),i=new M(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,s=e.rangeCount;s>o;++o)t[o]=T.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var v,_,b="boolean",w="_rangySelection",x=e.dom,C=e.util,T=e.DomRange,E=e.WrappedRange,S=e.DOMException,M=x.DomPosition,N="Control",W=e.util.isHostMethod(window,"getSelection"),k=e.util.isHostObject(document,"selection"),A=k&&(!W||e.config.preferTextRange);A?(v=i,e.isSelectionValid=function(e){var t=(e||window).document,n=t.selection;return"None"!=n.type||x.getDocument(n.createRange().parentElement())==t}):W?(v=n,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=v;var R=v(),L=e.createNativeRange(document),Y=x.getBody(document),I=C.areHostObjects(R,["anchorNode","focusNode"]&&C.areHostProperties(R,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=I;var O=C.isHostMethod(R,"extend");e.features.selectionHasExtend=O;var D="number"==typeof R.rangeCount;e.features.selectionHasRangeCount=D;var j=!1,P=!0;C.areHostMethods(R,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof R.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");Y.appendChild(e);var t=x.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=x.getIframeWindow(e).getSelection(),i=t.documentElement,r=i.lastChild,o=r.firstChild,s=t.createRange();s.setStart(o,1),s.collapse(!0),n.addRange(s),P=1==n.rangeCount,n.removeAllRanges();var a=s.cloneRange();s.setStart(o,0),a.setEnd(o,2),n.addRange(s),n.addRange(a),j=2==n.rangeCount,s.detach(),a.detach(),Y.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=j,e.features.collapsedNonEditableSelectionsSupported=P;var H,B=!1;Y&&C.isHostMethod(Y,"createControlRange")&&(H=Y.createControlRange(),C.areHostProperties(H,["item","add"])&&(B=!0)),e.features.implementsControlRange=B,_=I?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var $;C.isHostMethod(R,"getRangeAt")?$=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:I&&($=function(t){var n=x.getDocument(t.anchorNode),i=e.createRange(n);return i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),i}),e.getSelection=function(e){e=e||window;var t=e[w],n=v(e),r=k?i(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh(e)):(t=new f(n,r,e),e[w]=t),t},e.getIframeSelection=function(t){return e.getSelection(x.getIframeWindow(t))};var F=f.prototype;if(!A&&I&&C.areHostMethods(R,["removeAllRanges","addRange"])){F.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)};var Q=function(t,n){var i=T.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(a(r)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};F.addRange=D?function(t,n){if(B&&k&&this.docSelection.type==N)p(this,t);else if(n&&O)Q(this,t);else{var i;if(j?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(a(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var o=$(this.nativeSelection,this.rangeCount-1);o&&!T.rangesEqual(o,t)&&(t=new E(o))}this._ranges[this.rangeCount-1]=t,r(this,t,X(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:function(e,t){t&&O?Q(this,e):(this.nativeSelection.addRange(a(e)),this.refresh())},F.setRanges=function(e){if(B&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(C.isHostMethod(R,"empty")&&C.isHostMethod(L,"select")&&B&&A))return t.fail("No means of selecting a Range or TextRange was found"),!1;F.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=x.getDocument(this.anchorNode);else if(this.docSelection.type==N){var t=this.docSelection.createRange();t.length&&(e=x.getDocument(t.item(0)).body.createTextRange())}if(e){var n=e.body.createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}s(this)},F.addRange=function(e){this.docSelection.type==N?p(this,e):(E.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,r(this,e,!1))},F.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}F.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new S("INDEX_SIZE_ERR");return this._ranges[e]};var z;if(A)z=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=x.getBody(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==N?h(t):d(n)?u(t,n):s(t)};else if(C.isHostMethod(R,"getRangeAt")&&"number"==typeof R.rangeCount)z=function(t){if(B&&k&&t.docSelection.type==N)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));r(t,t._ranges[t.rangeCount-1],X(t.nativeSelection)),t.isCollapsed=_(t)}else s(t)};else{if(!I||typeof R.isCollapsed!=b||typeof L.collapsed!=b||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;z=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=$(n,0),e._ranges=[t],e.rangeCount=1,o(e),e.isCollapsed=_(e)):s(e)}}F.refresh=function(e){var t=e?this._ranges.slice(0):null;if(z(this),e){var n=t.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!T.rangesEqual(t[n],this._ranges[n]))return!1;return!0}};var q=function(e,t){var n=e.getAllRanges(),i=!1;e.removeAllRanges();for(var r=0,o=n.length;o>r;++r)i||t!==n[r]?e.addRange(n[r]):i=!0;e.rangeCount||s(e)};F.removeRange=B?function(e){if(this.docSelection.type==N){for(var t,n=this.docSelection.createRange(),i=c(e),r=x.getDocument(n.item(0)),o=x.getBody(r).createControlRange(),s=!1,a=0,l=n.length;l>a;++a)t=n.item(a),t!==i||s?o.add(n.item(a)):s=!0;o.select(),h(this)}else q(this,e)}:function(e){q(this,e)};var X;!A&&I&&e.features.implementsDomRange?(X=function(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},F.isBackwards=function(){return X(this)}):X=F.isBackwards=function(){return!1},F.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},F.collapse=function(t,n){g(this,t);var i=e.createRange(x.getDocument(t));i.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},F.collapseToStart=function(){if(!this.rangeCount)throw new S("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},F.collapseToEnd=function(){if(!this.rangeCount)throw new S("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},F.selectAllChildren=function(t){g(this,t);var n=e.createRange(x.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},F.deleteFromDocument=function(){if(B&&k&&this.docSelection.type==N){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}},F.getAllRanges=function(){return this._ranges.slice(0)},F.setSingleRange=function(e){this.setRanges([e])},F.containsNode=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},F.toHtml=function(){var e="";if(this.rangeCount){for(var t=T.getRangeDocument(this._ranges[0]).createElement("div"),n=0,i=this._ranges.length;i>n;++n)t.appendChild(this._ranges[n].cloneContents());e=t.innerHTML}return e},F.getName=function(){return"WrappedSelection"},F.inspect=function(){return y(this)},F.detach=function(){this.win[w]=null,this.win=this.anchorNode=this.focusNode=null},f.inspect=y,e.Selection=f,e.selectionPrototype=F,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})}),rangy.createModule("SaveRestore",function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=d.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(u)),o.insertNode(n),o.detach(),n}function r(e,i,r,o){var s=n(r,e);s?(i[o?"setStartBefore":"setEndBefore"](s),s.parentNode.removeChild(s)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function s(r){r=r||window;var s=r.document;if(!e.isSelectionValid(r))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),void 0;var a,l,c,d=e.getSelection(r),u=d.getAllRanges(),h=[];u.sort(o);for(var p=0,f=u.length;f>p;++p)c=u[p],c.collapsed?(l=i(c,!1),h.push({markerId:l.id,collapsed:!0})):(l=i(c,!1),a=i(c,!0),h[p]={startMarkerId:a.id,endMarkerId:l.id,collapsed:!1,backwards:1==u.length&&d.isBackwards()});for(p=f-1;p>=0;--p)c=u[p],c.collapsed?c.collapseBefore(n(h[p].markerId,s)):(c.setEndBefore(n(h[p].endMarkerId,s)),c.setStartAfter(n(h[p].startMarkerId,s)));return d.setRanges(u),{win:r,doc:s,rangeInfos:h,restored:!1}}function a(i,o){if(!i.restored){for(var s,a,l=i.rangeInfos,c=e.getSelection(i.win),d=[],u=l.length,h=u-1;h>=0;--h){if(s=l[h],a=e.createRange(i.doc),s.collapsed){var p=n(s.markerId,i.doc);if(p){p.style.display="inline";var f=p.previousSibling;f&&3==f.nodeType?(p.parentNode.removeChild(p),a.collapseToPoint(f,f.length)):(a.collapseBefore(p),p.parentNode.removeChild(p))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(i.doc,a,s.startMarkerId,!0),r(i.doc,a,s.endMarkerId,!1);1==u&&a.normalizeBoundaries(),d[h]=a}1==u&&o&&e.features.selectionHasExtend&&l[0].backwards?(c.removeAllRanges(),c.addRange(d[0],!0)):c.setRanges(d),i.restored=!0}}function l(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}function c(e){for(var t,n=e.rangeInfos,i=0,r=n.length;r>i;++i)t=n[i],t.collapsed?l(e.doc,t.markerId):(l(e.doc,t.startMarkerId),l(e.doc,t.endMarkerId))}e.requireModules(["DomUtil","DomRange","WrappedRange"]);var d=e.dom,u="";e.saveSelection=s,e.restoreSelection=a,e.removeMarkerElement=l,e.removeMarkers=c}),WYMeditor.editor.prototype.init=function(){var WymClass=!1,SaxListener,prop,h,iframeHtml,boxHtml,aTools,sTools,oTool,sTool,i,aClasses,sClasses,oClass,sClass,aContainers,sContainers,sContainer,oContainer;if(jQuery.browser.msie?WymClass=new WYMeditor.WymClassExplorer(this):jQuery.browser.mozilla?WymClass=new WYMeditor.WymClassMozilla(this):jQuery.browser.opera?WymClass=new WYMeditor.WymClassOpera(this):jQuery.browser.safari&&(WymClass=new WYMeditor.WymClassSafari(this)),WymClass!==!1){jQuery.isFunction(this._options.preInit)&&this._options.preInit(this),SaxListener=new WYMeditor.XhtmlSaxListener,jQuery.extend(SaxListener,WymClass),this.parser=new WYMeditor.XhtmlParser(SaxListener),(this._options.styles||this._options.stylesheet)&&this.configureEditorUsingRawCss(),this.helper=new WYMeditor.XmlHelper;for(prop in WymClass)this[prop]=WymClass[prop];for(this._box=jQuery(this._element).hide().after(this._options.boxHtml).next().addClass("wym_box_"+this._index),jQuery.isFunction(jQuery.fn.data)&&(jQuery.data(this._box.get(0),WYMeditor.WYM_INDEX,this._index),jQuery.data(this._element.get(0),WYMeditor.WYM_INDEX,this._index)),h=WYMeditor.Helper,iframeHtml=this._options.iframeHtml,iframeHtml=h.replaceAll(iframeHtml,WYMeditor.INDEX,this._index),iframeHtml=h.replaceAll(iframeHtml,WYMeditor.IFRAME_BASE_PATH,this._options.iframeBasePath),boxHtml=jQuery(this._box).html(),boxHtml=h.replaceAll(boxHtml,WYMeditor.LOGO,this._options.logoHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS,this._options.toolsHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS,this._options.containersHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES,this._options.classesHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.HTML,this._options.htmlHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.IFRAME,iframeHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.STATUS,this._options.statusHtml),aTools=eval(this._options.toolsItems),sTools="",i=0;aTools.length>i;i+=1)oTool=aTools[i],sTool="",oTool.name&&oTool.title&&(sTool=this._options.toolsItemHtml),sTool=h.replaceAll(sTool,WYMeditor.TOOL_NAME,oTool.name),sTool=h.replaceAll(sTool,WYMeditor.TOOL_TITLE,this._options.stringDelimiterLeft+oTool.title+this._options.stringDelimiterRight),sTool=h.replaceAll(sTool,WYMeditor.TOOL_CLASS,oTool.css),sTools+=sTool;for(boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS_ITEMS,sTools),aClasses=eval(this._options.classesItems),sClasses="",i=0;aClasses.length>i;i+=1)oClass=aClasses[i],sClass="",oClass.name&&oClass.title&&(sClass=this._options.classesItemHtml),sClass=h.replaceAll(sClass,WYMeditor.CLASS_NAME,oClass.name),sClass=h.replaceAll(sClass,WYMeditor.CLASS_TITLE,oClass.title),sClasses+=sClass;for(boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES_ITEMS,sClasses),aContainers=eval(this._options.containersItems),sContainers="",i=0;aContainers.length>i;i+=1)oContainer=aContainers[i],sContainer="",oContainer.name&&oContainer.title&&(sContainer=this._options.containersItemHtml),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_NAME,oContainer.name),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_TITLE,this._options.stringDelimiterLeft+oContainer.title+this._options.stringDelimiterRight),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_CLASS,oContainer.css),sContainers+=sContainer;boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS_ITEMS,sContainers),boxHtml=this.replaceStrings(boxHtml),jQuery(this._box).html(boxHtml),jQuery(this._box).find(this._options.htmlSelector).hide(),this.loadSkin()
}},WYMeditor.editor.prototype.bindEvents=function(){var wym=this,$html_val;jQuery(this._box).find(this._options.toolSelector).click(function(){return wym._iframe.contentWindow.focus(),wym.exec(jQuery(this).attr(WYMeditor.NAME)),!1}),jQuery(this._box).find(this._options.containerSelector).click(function(){return wym.container(jQuery(this).attr(WYMeditor.NAME)),!1}),$html_val=jQuery(this._box).find(this._options.htmlValSelector),$html_val.keyup(function(){jQuery(wym._doc.body).html(jQuery(this).val())}),$html_val.focus(function(){jQuery(this).toggleClass("hasfocus")}),$html_val.blur(function(){jQuery(this).toggleClass("hasfocus")}),jQuery(this._box).find(this._options.classSelector).click(function(){var aClasses=eval(wym._options.classesItems),sName=jQuery(this).attr(WYMeditor.NAME),oClass=WYMeditor.Helper.findByName(aClasses,sName),jqexpr;return oClass&&(jqexpr=oClass.expr,wym.toggleClass(sName,jqexpr)),wym._iframe.contentWindow.focus(),!1}),jQuery(this._options.updateSelector).bind(this._options.updateEvent,function(){wym.update()})},WYMeditor.editor.prototype.ready=function(){return null!==this._doc},WYMeditor.editor.prototype.box=function(){return this._box},WYMeditor.editor.prototype.html=function(e){return"string"!=typeof e?jQuery(this._doc.body).html():(jQuery(this._doc.body).html(e),this.update(),void 0)},WYMeditor.editor.prototype.xhtml=function(){return jQuery(this._doc.body).children(WYMeditor.BR).remove(),this.parser.parse(this.html())},WYMeditor.editor.prototype.exec=function(e){var t,n,i=this;switch(e){case WYMeditor.CREATE_LINK:t=this.container(),(t||this._selected_image)&&this.dialog(WYMeditor.DIALOG_LINK);break;case WYMeditor.INSERT_IMAGE:this.dialog(WYMeditor.DIALOG_IMAGE);break;case WYMeditor.INSERT_TABLE:this.dialog(WYMeditor.DIALOG_TABLE);break;case WYMeditor.PASTE:this.dialog(WYMeditor.DIALOG_PASTE);break;case WYMeditor.TOGGLE_HTML:this.update(),this.toggleHtml();break;case WYMeditor.PREVIEW:this.dialog(WYMeditor.PREVIEW,this._options.dialogFeaturesPreview);break;case WYMeditor.INSERT_ORDEREDLIST:this.insertOrderedlist();break;case WYMeditor.INSERT_UNORDEREDLIST:this.insertUnorderedlist();break;case WYMeditor.INDENT:this.indent();break;case WYMeditor.OUTDENT:this.outdent();break;default:n=!1,jQuery.each(this._options.customCommands,function(){return e===this.name?(n=!0,this.run.apply(i),!1):void 0}),n||this._exec(e)}},WYMeditor.editor.prototype.selection=function(){window.rangy&&!rangy.initialized&&rangy.init();var e=this._iframe,t=rangy.getIframeSelection(e);return t},WYMeditor.editor.prototype.selected=function(){var e=this.selection(),t=e.focusNode;return t?"#text"===t.nodeName?t.parentNode:t:null},WYMeditor.editor.prototype.selection_collapsed=function(){var e=this.selection(),t=!1;return $.each(e.getAllRanges(),function(){return this.collapsed?(t=!0,!1):void 0}),t},WYMeditor.editor.prototype.selected_contains=function(e){var t=this.selection(),n=[];return $.each(t.getAllRanges(),function(){$.each(this.getNodes(),function(){$(this).is(e)&&n.push(this)})}),n},WYMeditor.editor.prototype.selected_parents_contains=function(e){var t=$([]),n=$(this.selected());return n.is(e)&&(t=t.add(n)),t=t.add(n.parents(e))},WYMeditor.editor.prototype.container=function(e){if("undefined"==typeof e)return this.selected();var t,n,i,r,o=null,s=null,a=null,l=null;if(e.toLowerCase()===WYMeditor.TH){switch(o=this.container(),o.tagName.toLowerCase()){case WYMeditor.TD:case WYMeditor.TH:break;default:s=[WYMeditor.TD,WYMeditor.TH],o=this.findUp(this.container(),s)}null!==o&&(e=WYMeditor.TD,o.tagName.toLowerCase()===WYMeditor.TD&&(e=WYMeditor.TH),this.switchTo(o,e),this.update())}else if(s=[WYMeditor.P,WYMeditor.H1,WYMeditor.H2,WYMeditor.H3,WYMeditor.H4,WYMeditor.H5,WYMeditor.H6,WYMeditor.PRE,WYMeditor.BLOCKQUOTE],o=this.findUp(this.container(),s)){if(e.toLowerCase()===WYMeditor.BLOCKQUOTE)if(t=this.findUp(this.container(),WYMeditor.BLOCKQUOTE),null===t)a=this._doc.createElement(e),o.parentNode.insertBefore(a,o),a.appendChild(o),this.setFocusToNode(a.firstChild);else{for(n=t.childNodes,i=n.length,i>0&&(l=n.item(0)),r=0;i>r;r+=1)t.parentNode.insertBefore(n.item(0),t);t.parentNode.removeChild(t),l&&this.setFocusToNode(l)}else this.switchTo(o,e);this.update()}return!1},WYMeditor.editor.prototype.toggleClass=function(e,t){var n=null;n=this._selected_image?this._selected_image:jQuery(this.selected()),n=jQuery(n).parentsOrSelf(t),jQuery(n).toggleClass(e),jQuery(n).attr(WYMeditor.CLASS)||jQuery(n).removeAttr(this._class)},WYMeditor.editor.prototype.findUp=function(e,t){if("undefined"==typeof e||null===e)return null;"#text"===e.nodeName&&(e=e.parentNode);var n,i,r=e.tagName.toLowerCase();if(typeof t===WYMeditor.STRING)for(;r!==t&&r!==WYMeditor.BODY;)e=e.parentNode,r=e.tagName.toLowerCase();else for(n=!1;!n&&r!==WYMeditor.BODY;){for(i=0;t.length>i;i+=1)if(r===t[i]){n=!0;break}if(!n){if(e=e.parentNode,null===e)return null;r=e.tagName.toLowerCase()}}return r===WYMeditor.BODY?null:e},WYMeditor.editor.prototype.switchTo=function(e,t){var n=this._doc.createElement(t),i=jQuery(e).html();e.parentNode.replaceChild(n,e),jQuery(n).html(i),this.setFocusToNode(n)},WYMeditor.editor.prototype.replaceStrings=function(sVal){var key;if(!WYMeditor.STRINGS[this._options.lang])try{eval(jQuery.ajax({url:this._options.langPath+this._options.lang+".js",async:!1}).responseText)}catch(e){return WYMeditor.console.error("WYMeditor: error while parsing language file."),sVal}for(key in WYMeditor.STRINGS[this._options.lang])WYMeditor.STRINGS[this._options.lang].hasOwnProperty(key)&&(sVal=WYMeditor.Helper.replaceAll(sVal,this._options.stringDelimiterLeft+key+this._options.stringDelimiterRight,WYMeditor.STRINGS[this._options.lang][key]));return sVal},WYMeditor.editor.prototype.encloseString=function(e){return this._options.stringDelimiterLeft+e+this._options.stringDelimiterRight},WYMeditor.editor.prototype.status=function(e){jQuery(this._box).find(this._options.statusSelector).html(e)},WYMeditor.editor.prototype.update=function(){var e;jQuery(this._doc.body).children(WYMeditor.BR).remove(),e=this.xhtml(),jQuery(this._element).val(e),jQuery(this._box).find(this._options.htmlValSelector).not(".hasfocus").val(e),this.fixBodyHtml()},WYMeditor.editor.prototype.fixBodyHtml=function(){this.fixDoubleBr(),this.spaceBlockingElements()},WYMeditor.editor.prototype.spaceBlockingElements=function(){var e,t,n,i=WYMeditor.BLOCKING_ELEMENTS.join(", "),r=$(this._doc).find("body.wym_iframe"),o=r.children(),s='<br _moz_editor_bogus_node="TRUE" _moz_dirty="">';o.length>0&&(e=$(o[0]),t=$(o[o.length-1]),e.is(i)&&e.before(s),t.is(i)&&t.after(s)),n=this._getBlockSepSelector(),r.find(n).before(s)},WYMeditor.editor.prototype._getBlockSepSelector=function(){if("undefined"!=typeof this._blockSpacersSel)return this._blockSpacersSel;var e=[];return $.each(WYMeditor.BLOCKING_ELEMENTS,function(t,n){$.each(WYMeditor.BLOCKING_ELEMENTS,function(t,i){e.push(n+" + "+i)})}),$.each(WYMeditor.BLOCKING_ELEMENTS,function(t,n){$.each(WYMeditor.NON_BLOCKING_ELEMENTS,function(t,i){e.push(n+" + "+i),e.push(i+" + "+n)})}),this._blockSpacersSel=e.join(", "),this._blockSpacersSel},WYMeditor.editor.prototype.fixDoubleBr=function(){var e,t=$(this._doc).find("body.wym_iframe");t.children("br + br").filter(":not(pre br)").remove(),t.find("p + br").next("p").prev("br").remove(),e=t.find("p + br").slice(-1),e.length>0&&0===e.next().length&&e.remove()},WYMeditor.editor.prototype.dialog=function(e,t,n){var i,r,o,s=t||this._wym._options.dialogFeatures,a=window.open("","dialog",s),l=WYMeditor.Helper;if(a){switch(i="",e){case WYMeditor.DIALOG_LINK:i=this._options.dialogLinkHtml;break;case WYMeditor.DIALOG_IMAGE:i=this._options.dialogImageHtml;break;case WYMeditor.DIALOG_TABLE:i=this._options.dialogTableHtml;break;case WYMeditor.DIALOG_PASTE:i=this._options.dialogPasteHtml;break;case WYMeditor.PREVIEW:i=this._options.dialogPreviewHtml;break;default:i=n}r=this._options.dialogHtml,r=l.replaceAll(r,WYMeditor.BASE_PATH,this._options.basePath),r=l.replaceAll(r,WYMeditor.DIRECTION,this._options.direction),r=l.replaceAll(r,WYMeditor.CSS_PATH,this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS),r=l.replaceAll(r,WYMeditor.WYM_PATH,this._options.wymPath),r=l.replaceAll(r,WYMeditor.JQUERY_PATH,this._options.jQueryPath),r=l.replaceAll(r,WYMeditor.DIALOG_TITLE,this.encloseString(e)),r=l.replaceAll(r,WYMeditor.DIALOG_BODY,i),r=l.replaceAll(r,WYMeditor.INDEX,this._index),r=this.replaceStrings(r),o=a.document,o.write(r),o.close()}},WYMeditor.editor.prototype.toggleHtml=function(){jQuery(this._box).find(this._options.htmlSelector).toggle()},WYMeditor.editor.prototype.uniqueStamp=function(){var e=new Date;return"wym-"+e.getTime()},WYMeditor.editor.prototype._handleMultilineBlockContainerPaste=function(e,t,n,i){var r,o,s,a,l,c,d,u,h,p;for($insertAfter=$(h),o="p",t.is("li")&&(o="li"),n.splitBoundaries(),h=e.findUp(n.startContainer,["p","h1","h2","h3","h4","h5","h6","li"]),p=h.tagName,s=[],a=[],$(h).contents().each(function(e,t){l=n.compareNode(t),l===n.NODE_BEFORE||l===n.NODE_BEFORE_AND_AFTER&&n.startOffset===n.startContainer.length?s.push(t):a.push(t)}),r=0;s.length>r;r++)$(s[r]).remove();for(r=0;a.length>r;r++)$(a[r]).remove();for(s.length>0&&$(h).prepend(s),a.length>0&&(c=$("<"+p+">"+"</"+p+">",e._doc),c.insertAfter($(h)),c.append(a)),d=i.splice(0,1)[0],u=d.split(WYMeditor.NEWLINE).join("<br />"),$(h).html($(h).html()+u),$insertAfter=$(h),r=0;i.length>r;r++)html="<"+o+">"+i[r].split(WYMeditor.NEWLINE).join("<br />")+"</"+o+">",$insertAfter=$(html,e._doc).insertAfter($insertAfter)},WYMeditor.editor.prototype.paste=function(e){var t,n,i,r,o,s,a,l,c=this.selected(),d="",u=!1;if(s=this,r=rangy.getIframeSelection(s._iframe),a=r.getRangeAt(0),t=$(c),a.collapse(!0),paragraphStrings=e.split(new RegExp(WYMeditor.NEWLINE+"{2,}","g")),1===paragraphStrings.length&&(u=!0),"undefined"==typeof c||c&&c.tagName.toLowerCase()===WYMeditor.BODY)if(u)n=jQuery("<p>"+paragraphStrings[0]+"</p>",this._doc).appendTo(this._doc.body);else for(blockSplitter="p",i=paragraphStrings.length-1;i>=0;i-=1)for(d="<"+blockSplitter+">"+paragraphStrings[i].split(WYMeditor.NEWLINE).join("<br />")+"</"+blockSplitter+">",l=$(d,s._doc),j=l.length-1;j>=0;j--)a.insertNode(l[j]);else if(u||t.is("pre"))o=this._doc.createTextNode(e),a.insertNode(o);else if(t.is("p,h1,h2,h3,h4,h5,h6,li"))s._handleMultilineBlockContainerPaste(s,t,a,paragraphStrings);else for(textNodesToInsert=e.split(WYMeditor.NEWLINE),i=textNodesToInsert.length-1;i>=0;i-=1)o=this._doc.createTextNode(textNodesToInsert[i]),a.insertNode(o),i>0&&a.insertNode($("<br />",s._doc).get(0))},WYMeditor.editor.prototype.insert=function(e){var t,n,i=this._iframe.contentWindow.getSelection();null!==i.focusNode?(t=i.getRangeAt(0),n=t.createContextualFragment(e),t.deleteContents(),t.insertNode(n)):this.paste(e)},WYMeditor.editor.prototype.wrap=function(e,t){this.insert(e+this._iframe.contentWindow.getSelection().toString()+t)},WYMeditor.editor.prototype.unwrap=function(){this.insert(this._iframe.contentWindow.getSelection().toString())},WYMeditor.editor.prototype.setFocusToNode=function(e,t){var n=this._doc.createRange(),i=this._iframe.contentWindow.getSelection();t=t?0:1,n.selectNodeContents(e),i.addRange(n),i.collapse(e,t),this._iframe.contentWindow.focus()},WYMeditor.editor.prototype.addCssRules=function(e,t){var n,i,r=e.styleSheets[0];if(r)for(n=0;t.length>n;n+=1)i=t[n],i.name&&i.css&&this.addCssRule(r,i)},WYMeditor.editor.prototype.splitListItemContents=function(e){var t,n,i,r=!1,o={itemContents:[],sublistContents:[]};for(t=e.contents(),n=0;t.length>n;n++)i=t.get(n),r||$(i).is("ol,ul")?(r=!0,o.sublistContents.push(i)):o.itemContents.push(i);return o},WYMeditor.editor.prototype.joinAdjacentLists=function(e,t){var n;"undefined"!=typeof e&&"undefined"!=typeof t&&e.nextSibling===t&&e.tagName.toLowerCase()===t.tagName.toLowerCase()&&(n=$(t).contents(),n.unwrap(),n.detach(),$(e).append(n))},WYMeditor.editor.prototype._indentSingleItem=function(e){var t,n,i,r,o,s,a,l,c,d,u,h,p=this;t=$(e),n=t.parent()[0].tagName.toLowerCase(),o=p.splitListItemContents(t),a=$(o.sublistContents),s=$(o.itemContents),l=t.prev().filter("li"),0===l.length&&(i='<li class="spacer_li"></li>',t.before(i),l=t.prev()),c=l.contents().last().filter("ol,ul"),c.length>0?(c.append(t),a.detach(),l.append(a),d=a.first(),p.joinAdjacentLists(c.get(0),d.get(0))):(a.length>0?(a.detach(),l.append(a),c=a.first()):(r="<"+n+"></"+n+">",l.append(r),c=l.contents().last()),c.prepend(t)),t.next().is(".spacer_li")&&(u=t.next(".spacer_li"),h=u.contents(),h.detach(),t.append(h),u.remove())},WYMeditor.editor.prototype._outdentSingleItem=function(e){var t,n,i,r,o,s,a,l,c,d,u,h=this;return t=$(e),n=t.parent()[0].tagName.toLowerCase(),t.parent().parent().is("ol,ul,li")?(t.parent().parent().is("li")||(WYMeditor.console.log("Attempting to fix invalid list nesting before outdenting."),h.correctInvalidListNesting(e)),r=h.splitListItemContents(t),s=$(r.sublistContents),o=$(r.itemContents),a=t.parent().parent("li"),0===a.length?(WYMeditor.console.error("Invalid list. No parentLi found, so aborting outdent"),void 0):(l=t.parent(),c=t.nextAllContents(),d=l.nextAllContents(),t.detach(),a.after(t),s.length>0&&(i="<"+n+">"+'<li class="spacer_li"></li>'+"</"+n+">",t.append(i),u=t.children().last(),s.detach(),u.children("li").append(s)),c.length>0&&("undefined"==typeof u&&(i="<"+n+"></"+n+">",t.append(i),u=t.children().last()),c.detach(),u.append(c)),d.length>0&&(d.detach(),t.contents().length>0&&t.contents().last()[0].nodeType===WYMeditor.NODE.TEXT&&d[0].nodeType===WYMeditor.NODE.TEXT&&t.append("<br />"),t.append(d)),0===l.contents().length&&l.remove(),0===a.contents().length&&a.remove(),void 0)):void 0},WYMeditor.editor.prototype.correctInvalidListNesting=function(e,t){var n,i,r=e;if("undefined"==typeof t&&(t=!1),!r)return t;for(;r.parentNode&&(n=r.parentNode,n.nodeType===WYMeditor.NODE.ELEMENT)&&(i=n.tagName.toLowerCase(),"ol"===i||"ul"===i||"li"===i);)r=n;return $(r).is("li")?(WYMeditor.console.log("Correcting orphaned root li before correcting invalid list nesting."),this._correctOrphanedListItem(r),this.correctInvalidListNesting(r,!0)):$(r).is("ol,ul")?this._correctInvalidListNesting(r,t):(WYMeditor.console.error("Can't correct invalid list nesting. No root list found"),t)},WYMeditor.editor.prototype._correctOrphanedListItem=function(e){var t,n,i,r,o=$();t=$(e).prevContentsUntil(":not(li)"),n=$(e).nextContentsUntil(":not(li)"),o=o.add(t),o=o.add(e),o=o.add(n),r=o[0].previousSibling,r&&$(r).is("ol,ul")?i=r:(o.before("<ol></ol>"),i=o.prev()[0]),$(i).append(o)},WYMeditor.editor.prototype._correctInvalidListNesting=function(e,t){var n,i,r,o,s,a,l=e,c=e,d=!1,u='<li class="spacer_li"></li>';for("undefined"!=typeof t&&(d=t);c;)if(c._wym_visited){if(c._wym_visited=!1,c===l)break;c=c.previousSibling?c.previousSibling:c.parentNode}else{if(c!==l&&!$(c).is("li"))for(r=c;r.parentNode&&(r=r.parentNode,!$(r).is("li"))&&r.nodeType===WYMeditor.NODE.ELEMENT;)if(i=r.tagName.toLowerCase(),"ol"===i||"ul"===i){for(WYMeditor.console.log("Fixing orphaned list content"),d=!0,o=[c],n=c,s=null;n.previousSibling;){if(n=n.previousSibling,$(n).is("li")){s=n;break}o.push(n)}o.reverse(),!s&&1===o.length&&$(c.nextSibling).is("li")&&(s=c.nextSibling),s||($(o[0]).before(u),s=$(o[0]).prev()[0]),a=$(s).contents().last(),1===a.length&&a[0].nodeType===WYMeditor.NODE.TEXT&&o[0].nodeType===WYMeditor.NODE.TEXT&&$(s).append("<br />"),$(s).append($(o));break}c.lastChild?(c._wym_visited=!0,c=c.lastChild):c=c.previousSibling?c.previousSibling:c.parentNode}return d},WYMeditor.editor.prototype.getCommonParentList=function(e){var t,n,i;return e=$(e).filter("li"),0===e.length?null:(t=e[0],n=$(t).parent("ol,ul"),0===n.length?null:(i=n[0],$(e).each(function(e,t){return n=$(t).parent("ol,ul"),0===n.length||n[0]!==i?null:void 0}),i))},WYMeditor.editor.prototype._getSelectedListItems=function(e){var t,n,i,r,o,s,a=this,l=[],c=[];for(r=function(e){var t;if(rangy.dom.isCharacterDataNode(e))return e;try{t=n.containsNodeText(e)}catch(i){return!0}return t===!0?!0:void 0},t=0;e.rangeCount>t;t++)if(n=e.getRangeAt(t),n.collapsed===!0)i=a.findUp(n.startContainer,"li"),i&&(l=l.concat([i]));else{for(l=l.concat(n.getNodes([],r)),o=[],j=0;l.length>j;j++)if(s=l[j],!$(s).is("li,ol,ul"))for(;s.parentNode;)if(s=s.parentNode,$(s).is("li")){o.push(s);break}for(j=0;o.length>j;j++)-1===$.inArray(o[j],l)&&l.push(o[j])}for(t=0;l.length>t;t++)l[t].nodeType===WYMeditor.NODE.ELEMENT&&l[t].tagName.toLowerCase()===WYMeditor.LI&&c.push(l[t]);return c},WYMeditor.editor.prototype.indent=function(){var e,t,n,r=this._wym,o=rangy.getIframeSelection(this._iframe);return n=function(){var e=r.selected(),t=r.findUp(e,["ol","ul","li"]);return r.correctInvalidListNesting(t)},r.restoreSelectionAfterManipulation(n)?!0:(o=rangy.getIframeSelection(this._iframe),e=r._getSelectedListItems(o),0===e.length?!1:(t=r.getCommonParentList(e),null===t?!1:(n=function(){var t=!1;for(i=0;e.length>i;i++)r._indentSingleItem(e[i]),t=!0;return t},r.restoreSelectionAfterManipulation(n))))},WYMeditor.editor.prototype.outdent=function(){var e,t,n,r=this._wym,o=rangy.getIframeSelection(this._iframe);return n=function(){var e=r.selected(),t=r.findUp(e,["ol","ul","li"]);return r.correctInvalidListNesting(t)},r.restoreSelectionAfterManipulation(n)?!0:(o=rangy.getIframeSelection(this._iframe),e=r._getSelectedListItems(o),0===e.length?!1:(t=r.getCommonParentList(e),null===t?!1:(n=function(){var t=!1;for(i=0;e.length>i;i++)r._outdentSingleItem(e[i]),t=!0;return t},r.restoreSelectionAfterManipulation(n))))},WYMeditor.editor.prototype.restoreSelectionAfterManipulation=function(e){var t=(rangy.getIframeSelection(this._iframe),rangy.saveSelection(rangy.dom.getIframeWindow(this._iframe))),n=!0;try{n=e(),n?rangy.restoreSelection(t):rangy.removeMarkers(t)}catch(i){WYMeditor.console.error("Error during manipulation"),WYMeditor.console.error(i),rangy.removeMarkers(t)}return n},WYMeditor.editor.prototype.insertOrderedlist=function(){var e,t=this;return e=function(){var e=t.selected(),n=t.findUp(e,["ol","ul","li"]);return t.correctInvalidListNesting(n)},t.restoreSelectionAfterManipulation(e)?!0:(e=function(){return t._insertList("ol")},t.restoreSelectionAfterManipulation(e))},WYMeditor.editor.prototype.insertUnorderedlist=function(){var e,t=this;return e=function(){var e=t.selected(),n=t.findUp(e,["ol","ul","li"]);return t.correctInvalidListNesting(n)},t.restoreSelectionAfterManipulation(e)?!0:(e=function(){return t._insertList("ul")},t.restoreSelectionAfterManipulation(e))},WYMeditor.editor.prototype._insertList=function(e){var t,n,i,r,o=this._wym,s=rangy.getIframeSelection(this._iframe);return t=o._getSelectedListItems(s),0!==t.length?(n=o.getCommonParentList(t),n?(this._changeListType(n,e),!0):!1):(i=this.selected(),r=this.findUp(i,WYMeditor.POTENTIAL_LIST_ELEMENTS),r?(this._convertToList(r,e),!0):!1)},WYMeditor.editor.prototype._changeListType=function(e,t){return WYMeditor.changeNodeType(e,t)},WYMeditor.editor.prototype._convertToList=function(e,t){var n,i,r=$(e);return n="<"+t+"><li></li></"+t+">",this.findUp(e,WYMeditor.MAIN_CONTAINERS)===e?(r.wrapInner(n),i=r.children(),i.unwrap(),i.get(0)):(r.wrapInner(n),i=r.children(),i.get(0))},WYMeditor.editor.prototype.insertTable=function(e,t,n,i){if(!(0>=e||0>=t)){var r,o,s,a,l=this._doc.createElement(WYMeditor.TABLE),c=null;for(r=l.createCaption(),r.innerHTML=n,o=0;e>o;o+=1)for(c=l.insertRow(o),s=0;t>s;s+=1)c.insertCell(s);return""!==i&&jQuery(l).attr("summary",i),a=jQuery(this.findUp(this.container(),WYMeditor.MAIN_CONTAINERS)).get(0),a&&a.parentNode?jQuery(a).after(l):jQuery(this._doc.body).append(l),this.afterInsertTable(l),this.fixBodyHtml(),l}},WYMeditor.editor.prototype.afterInsertTable=function(){},WYMeditor.editor.prototype.configureEditorUsingRawCss=function(){var e=new WYMeditor.WymCssParser;this._options.stylesheet?e.parse(jQuery.ajax({url:this._options.stylesheet,async:!1}).responseText):e.parse(this._options.styles,!1),0===this._options.classesItems.length&&(this._options.classesItems=e.css_settings.classesItems),0===this._options.editorStyles.length&&(this._options.editorStyles=e.css_settings.editorStyles),0===this._options.dialogStyles.length&&(this._options.dialogStyles=e.css_settings.dialogStyles)},WYMeditor.editor.prototype.listen=function(){var e=this;jQuery(this._doc.body).bind("mousedown",function(t){e.mousedown(t)})},WYMeditor.editor.prototype.mousedown=function(e){this._selected_image=null,e.target.tagName.toLowerCase()===WYMeditor.IMG&&(this._selected_image=e.target)},WYMeditor.loadCss=function(e){var t,n=document.createElement("link");n.rel="stylesheet",n.href=e,t=jQuery("head").get(0),t.appendChild(n)},WYMeditor.editor.prototype.loadSkin=function(){if(this._options.loadSkin&&!WYMeditor.SKINS[this._options.skin]){var found=!1,rExp=new RegExp(this._options.skin+"/"+WYMeditor.SKINS_DEFAULT_CSS+"$");jQuery("link").each(function(){this.href.match(rExp)&&(found=!0)}),found||WYMeditor.loadCss(this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS)}jQuery(this._box).addClass("wym_skin_"+this._options.skin),this._options.initSkin&&!WYMeditor.SKINS[this._options.skin]&&eval(jQuery.ajax({url:this._options.skinPath+WYMeditor.SKINS_DEFAULT_JS,async:!1}).responseText),WYMeditor.SKINS[this._options.skin]&&WYMeditor.SKINS[this._options.skin].init&&WYMeditor.SKINS[this._options.skin].init(this)},WYMeditor.WymClassExplorer=function(e){this._wym=e,this._class="className"},WYMeditor.WymClassExplorer.PLACEHOLDER_NODE="<br>",WYMeditor.WymClassExplorer.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),jQuery(this._doc.body).html(this._wym._html);var wym=this;this._doc.body.onfocus=function(){wym._doc.designMode="on",wym._doc=iframe.contentWindow.document},this._doc.onbeforedeactivate=function(){wym.saveCaret()},$(this._doc).bind("keyup",wym.keyup);var ieVersion=parseInt($.browser.version,10);ieVersion>=8&&9>ieVersion&&$(this._doc).bind("keydown",function(){wym.fixBluescreenOfDeath()}),this._doc.onkeyup=function(){wym.saveCaret()},this._doc.onclick=function(){wym.saveCaret()},this._doc.body.onbeforepaste=function(){wym._iframe.contentWindow.event.returnValue=!1},this._doc.body.onpaste=function(){wym._iframe.contentWindow.event.returnValue=!1,wym.paste(window.clipboardData.getData("Text"))},this._initialized&&(jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()),this._initialized=!0,this._doc.designMode="on";try{this._doc=iframe.contentWindow.document}catch(e){}},function(e){WYMeditor.WymClassExplorer.prototype.loadSkin=function(){jQuery(this._box).find(this._options.containerSelector).attr("unselectable","on"),e.call(this)}}(WYMeditor.editor.prototype.loadSkin),WYMeditor.WymClassExplorer.prototype.fixBluescreenOfDeath=function(){var e=$(this._doc).find("p").eq(0).position();null!==e&&"undefined"!=typeof e&&0>e.left&&($(this._box).append('<br id="wym-bluescreen-bug-fix" />'),$(this._box).find("#wym-bluescreen-bug-fix").remove())},WYMeditor.WymClassExplorer.prototype._exec=function(e,t){t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e)},WYMeditor.WymClassExplorer.prototype.saveCaret=function(){this._doc.caretPos=this._doc.selection.createRange()},WYMeditor.WymClassExplorer.prototype.addCssRule=function(e,t){var n,i=t.name.split(",");for(n=0;i.length>n;n++)e.addRule(i[n],t.css)},WYMeditor.WymClassExplorer.prototype.insert=function(e){var t=this._doc.selection.createRange();if(jQuery(t.parentElement()).parents().is(this._options.iframeBodySelector))try{t.pasteHTML(e)}catch(n){}else this.paste(e)},WYMeditor.WymClassExplorer.prototype.wrap=function(e,t){var n=this._doc.selection.createRange();if(jQuery(n.parentElement()).parents().is(this._options.iframeBodySelector))try{n.pasteHTML(e+n.text+t)}catch(i){}},WYMeditor.WymClassExplorer.prototype.unwrap=function(){var e=this._doc.selection.createRange();if(jQuery(e.parentElement()).parents().is(this._options.iframeBodySelector))try{var t=e.text;this._exec("Cut"),e.pasteHTML(t)}catch(n){}},WYMeditor.WymClassExplorer.prototype.keyup=function(e){var t=WYMeditor.INSTANCES[this.title];this._selected_image=null;var n=null;if(e.keyCode!==WYMeditor.KEY.BACKSPACE&&e.keyCode!==WYMeditor.KEY.CTRL&&e.keyCode!==WYMeditor.KEY.DELETE&&e.keyCode!==WYMeditor.KEY.COMMAND&&e.keyCode!==WYMeditor.KEY.UP&&e.keyCode!==WYMeditor.KEY.DOWN&&e.keyCode!==WYMeditor.KEY.ENTER&&!e.metaKey&&!e.ctrlKey){n=t.selected();var i="";null!==n&&(i=n.tagName.toLowerCase()),("strong"===i||"b"===i||"em"===i||"i"===i||"sub"===i||"sup"===i||"a"===i)&&(i=n.parentNode.tagName.toLowerCase()),i===WYMeditor.BODY&&(t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),t.fixBodyHtml())}(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&t.fixBodyHtml()},WYMeditor.WymClassExplorer.prototype.setFocusToNode=function(e,t){var n=this._doc.selection.createRange();t=t?!0:!1,n.moveToElementText(e),n.collapse(t),n.select(),e.focus()},WYMeditor.WymClassExplorer.prototype.spaceBlockingElements=function(){var e=WYMeditor.BLOCKING_ELEMENTS.join(", "),t=$(this._doc).find("body.wym_iframe"),n=t.children(),i=WYMeditor.WymClassExplorer.PLACEHOLDER_NODE;if(n.length>0){var r=$(n[0]),o=$(n[n.length-1]);r.is(e)&&r.before(i),$.browser.version>="7.0"&&o.is(e)&&o.after(i)}var s=this._getBlockSepSelector();t.find(s).before(i)},WYMeditor.WymClassMozilla=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassMozilla.CELL_PLACEHOLDER='<br _moz_dirty="">',WYMeditor.WymClassMozilla.NEEDS_CELL_FIX=$.browser.version>="1.9.1"&&"2.0">$.browser.version,WYMeditor.WymClassMozilla.prototype.initIframe=function(iframe){var wym=this,styles,aCss;this._iframe=iframe,this._doc=iframe.contentDocument,styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles),this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this.html(this._wym._html),this.enableDesignMode(),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery(this._doc).bind("click",this.click),jQuery(this._doc).bind("focus",function(){wym.enableDesignMode.call(wym)}),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassMozilla.prototype.html=function(e){if("string"!=typeof e)return jQuery(this._doc.body).html();try{this._doc.designMode="off"}catch(t){}return e=e.replace(/<em(\b[^>]*)>/gi,"<i$1>"),e=e.replace(/<\/em>/gi,"</i>"),e=e.replace(/<strong(\b[^>]*)>/gi,"<b$1>"),e=e.replace(/<\/strong>/gi,"</b>"),jQuery(this._doc.body).html(e),this._wym.fixBodyHtml(),this.enableDesignMode(),!1},WYMeditor.WymClassMozilla.prototype._exec=function(e,t){if(!this.selected())return!1;t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null);var n=this.selected();return n.tagName.toLowerCase()===WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),!0},WYMeditor.WymClassMozilla.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassMozilla.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title];if(e.ctrlKey){if(66===e.keyCode)return t._exec(WYMeditor.BOLD),!1;if(73===e.keyCode)return t._exec(WYMeditor.ITALIC),!1}return!0},WYMeditor.WymClassMozilla.prototype.keyup=function(e){var t,n,i=WYMeditor.INSTANCES[this.title];i._selected_image=null,t=null,e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.CTRL||e.keyCode===WYMeditor.KEY.DELETE||e.keyCode===WYMeditor.KEY.COMMAND||e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.ENTER||e.metaKey||e.ctrlKey||(t=i.selected(),n=t.tagName.toLowerCase(),("strong"===n||"b"===n||"em"===n||"i"===n||"sub"===n||"sup"===n||"a"===n)&&(n=t.parentNode.tagName.toLowerCase()),n===WYMeditor.BODY&&(i._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),i.fixBodyHtml())),(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&i.fixBodyHtml()},WYMeditor.WymClassMozilla.prototype.click=function(){var e,t=WYMeditor.INSTANCES[this.title],n=t.selected();WYMeditor.WymClassMozilla.NEEDS_CELL_FIX===!0&&n&&n.tagName.toLowerCase()===WYMeditor.TR&&jQuery(WYMeditor.TD,t._doc.body).append(WYMeditor.WymClassMozilla.CELL_PLACEHOLDER),n&&n.tagName.toLowerCase()===WYMeditor.BODY&&(e=t._iframe.contentWindow.getSelection(),e.isCollapsed===!0&&t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P))},WYMeditor.WymClassMozilla.prototype.enableDesignMode=function(){if("off"===this._doc.designMode)try{this._doc.designMode="on",this._doc.execCommand("styleWithCSS","",!1),this._doc.execCommand("enableObjectResizing",!1,!0)}catch(e){}},WYMeditor.WymClassMozilla.prototype.openBlockTag=function(e,t){if(t=this.validator.getValidTagAttributes(e,t),"span"===e&&t.style){var n=this.getTagForStyle(t.style);n&&(e=n,this._tag_stack.pop(),this._tag_stack.push(e),t.style="")}this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassMozilla.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":/super/.test(e)?"sup":!1},WYMeditor.WymClassMozilla.prototype.afterInsertTable=function(e){WYMeditor.WymClassMozilla.NEEDS_CELL_FIX===!0&&$(e).find("td").each(function(e,t){$(t).append(WYMeditor.WymClassMozilla.CELL_PLACEHOLDER)})},WYMeditor.WymClassOpera=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassOpera.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassOpera.prototype._exec=function(e,t){t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e)},WYMeditor.WymClassOpera.prototype.selected=function(){var e=this._iframe.contentWindow.getSelection(),t=e.focusNode;return t?"#text"==t.nodeName?t.parentNode:t:null},WYMeditor.WymClassOpera.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassOpera.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title],n=t._iframe.contentWindow.getSelection();startNode=n.getRangeAt(0).startContainer,!jQuery(startNode).parentsOrSelf(WYMeditor.MAIN_CONTAINERS.join(","))[0]&&!jQuery(startNode).parentsOrSelf("li")&&e.keyCode!=WYMeditor.KEY.ENTER&&e.keyCode!=WYMeditor.KEY.LEFT&&e.keyCode!=WYMeditor.KEY.UP&&e.keyCode!=WYMeditor.KEY.RIGHT&&e.keyCode!=WYMeditor.KEY.DOWN&&e.keyCode!=WYMeditor.KEY.BACKSPACE&&e.keyCode!=WYMeditor.KEY.DELETE&&t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)},WYMeditor.WymClassOpera.prototype.keyup=function(){var e=WYMeditor.INSTANCES[this.title];e._selected_image=null},WYMeditor.WymClassSafari=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassSafari.prototype.initIframe=function(iframe){var wym=this,styles,aCss;this._iframe=iframe,this._doc=iframe.contentDocument,styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles),this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassSafari.prototype._exec=function(e,t){if(!this.selected())return!1;var n;return this.selected(),t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null),n=this.selected(),n&&n.tagName.toLowerCase()===WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),!0},WYMeditor.WymClassSafari.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)
},WYMeditor.WymClassSafari.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title];e.ctrlKey?(e.keyCode===WYMeditor.KEY.B&&(t._exec(WYMeditor.BOLD),e.preventDefault()),e.keyCode===WYMeditor.KEY.I&&(t._exec(WYMeditor.ITALIC),e.preventDefault())):e.shiftKey&&e.keyCode===WYMeditor.KEY.ENTER&&(t._exec("InsertLineBreak"),e.preventDefault())},WYMeditor.WymClassSafari.prototype.keyup=function(e){var t,n,i=WYMeditor.INSTANCES[this.title];i._selected_image=null,534.1>$.browser.version&&e.keyCode===WYMeditor.KEY.ENTER&&e.shiftKey&&i._exec("InsertLineBreak"),e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.CTRL||e.keyCode===WYMeditor.KEY.DELETE||e.keyCode===WYMeditor.KEY.COMMAND||e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.ENTER||e.metaKey||e.ctrlKey||(t=i.selected(),n=t.tagName.toLowerCase(),("strong"===n||"b"===n||"em"===n||"i"===n||"sub"===n||"sup"===n||"a"===n||"span"===n)&&(n=t.parentNode.tagName.toLowerCase()),(n===WYMeditor.BODY||n===WYMeditor.DIV)&&(i._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),i.fixBodyHtml())),(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&i.fixBodyHtml()},WYMeditor.WymClassSafari.prototype.openBlockTag=function(e,t){var n;t=this.validator.getValidTagAttributes(e,t),"span"===e&&t.style&&(n=this.getTagForStyle(t.style),n&&(e=n,this._tag_stack.pop(),this._tag_stack.push(e),t.style="","string"==typeof t["class"]&&(t["class"]=t["class"].replace(/apple-style-span/gi,"")))),this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassSafari.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":/super/.test(e)?"sup":!1},WYMeditor.XmlHelper=function(){return this._entitiesDiv=document.createElement("div"),this},WYMeditor.XmlHelper.prototype.tag=function(e,t,n){return t=t||!1,n=n||!1,"<"+e+(t?this.tagOptions(t):"")+(n?">":" />")},WYMeditor.XmlHelper.prototype.contentTag=function(e,t,n){return n=n||!1,"<"+e+(n?this.tagOptions(n):"")+">"+t+"</"+e+">"},WYMeditor.XmlHelper.prototype.cdataSection=function(e){return"<![CDATA["+e+"]]>"},WYMeditor.XmlHelper.prototype.escapeOnce=function(e){return this._fixDoubleEscape(this.escapeEntities(e))},WYMeditor.XmlHelper.prototype._fixDoubleEscape=function(e){return e.replace(/&amp;([a-z]+|(#\d+));/gi,"&$1;")},WYMeditor.XmlHelper.prototype.tagOptions=function(e){var t=this;t._formated_options="";for(var n in e){var i=e[n];"function"!=typeof i&&i.length>0&&(parseInt(n,10)==n&&"object"==typeof i&&(n=i.shift(),i=i.pop()),""!==n&&""!==i&&(t._formated_options+=" "+n+'="'+t.escapeOnce(i)+'"'))}return t._formated_options},WYMeditor.XmlHelper.prototype.escapeEntities=function(e,t){this._entitiesDiv.innerHTML=e,this._entitiesDiv.textContent=e;var n=this._entitiesDiv.innerHTML;return"undefined"==typeof t&&(t!==!1&&(n=n.replace('"',"&quot;")),t===!0&&(n=n.replace('"',"&#039;"))),n},WYMeditor.XmlHelper.prototype.parseAttributes=function(e){var t=[],n=e.split(/((=\s*")(")("))|((=\s*\')(\')(\'))|((=\s*[^>\s]*))/g);if(n.toString()!=e)for(var i in n){var r=n[i];if("function"!=typeof r&&0!==r.length){var o=new RegExp("(\\w+)\\s*"+r),s=e.match(o);if(s){var a=r.replace(/^[\s=]+/,""),l=a.charAt(0);l='"'==l?'"':"'"==l?"'":"",""!==l&&(a='"'==l?a.replace(/^"|"+$/g,""):a.replace(/^'|'+$/g,"")),e=e.replace(s[0],""),t.push([s[1],a])}}}return t},WYMeditor.XhtmlValidator={_attributes:{core:{except:["base","head","html","meta","param","script","style","title"],attributes:["class","id","style","title","accesskey","tabindex","/^data-.*/"]},language:{except:["base","br","hr","iframe","param","script"],attributes:{dir:["ltr","rtl"],0:"lang",1:"xml:lang"}},keyboard:{attributes:{accesskey:/^(\w){1}$/,tabindex:/^(\d)+$/}}},_events:{window:{only:["body"],attributes:["onload","onunload"]},form:{only:["form","input","textarea","select","a","label","button"],attributes:["onchange","onsubmit","onreset","onselect","onblur","onfocus"]},keyboard:{except:["base","bdo","br","frame","frameset","head","html","iframe","meta","param","script","style","title"],attributes:["onkeydown","onkeypress","onkeyup"]},mouse:{except:["base","bdo","br","head","html","meta","param","script","style","title"],attributes:["onclick","ondblclick","onmousedown","onmousemove","onmouseover","onmouseout","onmouseup"]}},_tags:{a:{attributes:{0:"charset",1:"coords",2:"href",3:"hreflang",4:"name",5:"rel",6:"rev",shape:/^(rect|rectangle|circ|circle|poly|polygon)$/,7:"type"}},0:"abbr",1:"acronym",2:"address",area:{attributes:{0:"alt",1:"coords",2:"href",nohref:/^(true|false)$/,shape:/^(rect|rectangle|circ|circle|poly|polygon)$/},required:["alt"]},3:"b",base:{attributes:["href"],required:["href"]},bdo:{attributes:{dir:/^(ltr|rtl)$/},required:["dir"]},4:"big",blockquote:{attributes:["cite"]},5:"body",6:"br",button:{attributes:{disabled:/^(disabled)$/,type:/^(button|reset|submit)$/,0:"value"},inside:"form"},7:"caption",8:"cite",9:"code",col:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"},inside:"colgroup"},colgroup:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"}},10:"dd",del:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},11:"div",12:"dfn",13:"dl",14:"dt",15:"em",fieldset:{inside:"form"},form:{attributes:{0:"action",1:"accept",2:"accept-charset",3:"enctype",method:/^(get|post)$/},required:["action"]},head:{attributes:["profile"]},16:"h1",17:"h2",18:"h3",19:"h4",20:"h5",21:"h6",22:"hr",html:{attributes:["xmlns"]},23:"i",img:{attributes:["alt","src","height","ismap","longdesc","usemap","width"],required:["alt","src"]},input:{attributes:{0:"accept",1:"alt",checked:/^(checked)$/,disabled:/^(disabled)$/,maxlength:/^(\d)+$/,2:"name",readonly:/^(readonly)$/,size:/^(\d)+$/,3:"src",type:/^(button|checkbox|file|hidden|image|password|radio|reset|submit|text)$/,4:"value"},inside:"form"},ins:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},24:"kbd",label:{attributes:["for"],inside:"form"},25:"legend",26:"li",link:{attributes:{0:"charset",1:"href",2:"hreflang",media:/^(all|braille|print|projection|screen|speech|,|;| )+$/i,rel:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,rev:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,3:"type"},inside:"head"},map:{attributes:["id","name"],required:["id"]},meta:{attributes:{0:"content","http-equiv":/^(content\-type|expires|refresh|set\-cookie)$/i,1:"name",2:"scheme"},required:["content"]},27:"noscript",object:{attributes:["archive","classid","codebase","codetype","data","declare","height","name","standby","type","usemap","width"]},28:"ol",optgroup:{attributes:{0:"label",disabled:/^(disabled)$/},required:["label"]},option:{attributes:{0:"label",disabled:/^(disabled)$/,selected:/^(selected)$/,1:"value"},inside:"select"},29:"p",param:{attributes:{0:"type",valuetype:/^(data|ref|object)$/,1:"valuetype",2:"value"},required:["name"]},30:"pre",q:{attributes:["cite"]},31:"samp",script:{attributes:{type:/^(text\/ecmascript|text\/javascript|text\/jscript|text\/vbscript|text\/vbs|text\/xml)$/,0:"charset",defer:/^(defer)$/,1:"src"},required:["type"]},select:{attributes:{disabled:/^(disabled)$/,multiple:/^(multiple)$/,0:"name",1:"size"},inside:"form"},32:"small",33:"span",34:"strong",style:{attributes:{0:"type",media:/^(screen|tty|tv|projection|handheld|print|braille|aural|all)$/},required:["type"]},35:"sub",36:"sup",table:{attributes:{0:"border",1:"cellpadding",2:"cellspacing",frame:/^(void|above|below|hsides|lhs|rhs|vsides|box|border)$/,rules:/^(none|groups|rows|cols|all)$/,3:"summary",4:"width"}},tbody:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},td:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},textarea:{attributes:["cols","rows","disabled","name","readonly"],required:["cols","rows"],inside:"form"},tfoot:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom)$/,2:"baseline"}},th:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},thead:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},37:"title",tr:{attributes:{align:/^(right|left|center|justify|char)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},38:"tt",39:"ul",40:"var"},skiped_attributes:[],skiped_attribute_values:[],getValidTagAttributes:function(e,t){var n={},i=this.getPossibleTagAttributes(e);for(var r in t){var o=t[r];r=r.toLowerCase();var s=WYMeditor.Helper;!s.contains(this.skiped_attributes,r)&&!s.contains(this.skiped_attribute_values,o)&&("function"!=typeof o&&s.contains(i,r)?this.doesAttributeNeedsValidation(e,r)?this.validateAttribute(e,r,o)&&(n[r]=o):n[r]=o:jQuery.each(i,function(){this.match(/\/(.*)\//)&&(regex=new RegExp(this.match(/\/(.*)\//)[1]),regex.test(r)&&(n[r]=o))}))}return n},getUniqueAttributesAndEventsForTag:function(e){var t=[];if(this._tags[e]&&this._tags[e].attributes)for(var n in this._tags[e].attributes)t.push(parseInt(n,10)==n?this._tags[e].attributes[n]:n);return t},getDefaultAttributesAndEventsForTags:function(){var e=[];for(var t in this._events)e.push(this._events[t]);for(t in this._attributes)e.push(this._attributes[t]);return e},isValidTag:function(e){if(this._tags[e])return!0;for(var t in this._tags)if(this._tags[t]==e)return!0;return!1},getDefaultAttributesAndEventsForTag:function(e){var t=[];if(this.isValidTag(e)){var n=this.getDefaultAttributesAndEventsForTags();for(var i in n){var r=n[i];if("object"==typeof r){var o=WYMeditor.Helper;if(r.except&&o.contains(r.except,e)||r.only&&!o.contains(r.only,e))continue;var s=r.attributes?r.attributes:r.events;for(var a in s)t.push("string"!=typeof s[a]?a:s[a])}}}return t},doesAttributeNeedsValidation:function(e,t){return this._tags[e]&&(this._tags[e].attributes&&this._tags[e].attributes[t]||this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t))},validateAttribute:function(e,t,n){return this._tags[e]&&this._tags[e].attributes&&this._tags[e].attributes[t]&&n.length>0&&!n.match(this._tags[e].attributes[t])||this._tags[e]&&this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t)&&0===n.length?!1:"undefined"!=typeof this._tags[e]},getPossibleTagAttributes:function(e){return this._possible_tag_attributes||(this._possible_tag_attributes={}),this._possible_tag_attributes[e]||(this._possible_tag_attributes[e]=this.getUniqueAttributesAndEventsForTag(e).concat(this.getDefaultAttributesAndEventsForTag(e))),this._possible_tag_attributes[e]}},WYMeditor.ParallelRegex=function(e){return this._case=e,this._patterns=[],this._labels=[],this._regex=null,this},WYMeditor.ParallelRegex.prototype.addPattern=function(e,t){t=t||!0;var n=this._patterns.length;this._patterns[n]=e,this._labels[n]=t,this._regex=null},WYMeditor.ParallelRegex.prototype.match=function(e){if(0===this._patterns.length)return[!1,""];var t=e.match(this._getCompoundedRegex());if(!t)return[!1,""];for(var n=t[0],i=1;t.length>i;i++)if(t[i])return[this._labels[i-1],n];return[!0,t[0]]},WYMeditor.ParallelRegex.prototype._getCompoundedRegex=function(){if(null===this._regex){for(var e=0,t=this._patterns.length;t>e;e++)this._patterns[e]="("+this._untokenizeRegex(this._tokenizeRegex(this._patterns[e]).replace(/([\/\(\)])/g,"\\$1"))+")";this._regex=new RegExp(this._patterns.join("|"),this._getPerlMatchingFlags())}return this._regex},WYMeditor.ParallelRegex.prototype._tokenizeRegex=function(e){return e.replace(/\(\?(i|m|s|x|U)\)/,"~~~~~~Tk1$1~~~~~~").replace(/\(\?(\-[i|m|s|x|U])\)/,"~~~~~~Tk2$1~~~~~~").replace(/\(\?\=(.*)\)/,"~~~~~~Tk3$1~~~~~~").replace(/\(\?\!(.*)\)/,"~~~~~~Tk4$1~~~~~~").replace(/\(\?\<\=(.*)\)/,"~~~~~~Tk5$1~~~~~~").replace(/\(\?\<\!(.*)\)/,"~~~~~~Tk6$1~~~~~~").replace(/\(\?\:(.*)\)/,"~~~~~~Tk7$1~~~~~~")},WYMeditor.ParallelRegex.prototype._untokenizeRegex=function(e){return e.replace(/~~~~~~Tk1(.{1})~~~~~~/,"(?$1)").replace(/~~~~~~Tk2(.{2})~~~~~~/,"(?$1)").replace(/~~~~~~Tk3(.*)~~~~~~/,"(?=$1)").replace(/~~~~~~Tk4(.*)~~~~~~/,"(?!$1)").replace(/~~~~~~Tk5(.*)~~~~~~/,"(?<=$1)").replace(/~~~~~~Tk6(.*)~~~~~~/,"(?<!$1)").replace(/~~~~~~Tk7(.*)~~~~~~/,"(?:$1)")},WYMeditor.ParallelRegex.prototype._getPerlMatchingFlags=function(){return this._case?"m":"mi"},WYMeditor.StateStack=function(e){return this._stack=[e],this},WYMeditor.StateStack.prototype.getCurrent=function(){return this._stack[this._stack.length-1]},WYMeditor.StateStack.prototype.enter=function(e){this._stack.push(e)},WYMeditor.StateStack.prototype.leave=function(){return 1==this._stack.length?!1:(this._stack.pop(),!0)},WYMeditor.LEXER_ENTER=1,WYMeditor.LEXER_MATCHED=2,WYMeditor.LEXER_UNMATCHED=3,WYMeditor.LEXER_EXIT=4,WYMeditor.LEXER_SPECIAL=5,WYMeditor.Lexer=function(e,t,n){return t=t||"accept",this._case=n||!1,this._regexes={},this._parser=e,this._mode=new WYMeditor.StateStack(t),this._mode_handlers={},this._mode_handlers[t]=t,this},WYMeditor.Lexer.prototype.addPattern=function(e,t){t=t||"accept","undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e),"undefined"==typeof this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addEntryPattern=function(e,t,n){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,n),"undefined"==typeof this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.addExitPattern=function(e,t){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"__exit"),"undefined"==typeof this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addSpecialPattern=function(e,t,n){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"_"+n),"undefined"==typeof this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.mapHandler=function(e,t){this._mode_handlers[e]=t},WYMeditor.Lexer.prototype.parse=function(e){if("undefined"==typeof this._parser)return!1;for(var t,n=e.length;"object"==typeof(t=this._reduce(e));){e=t[0];var i=t[1],r=t[2],o=t[3];if(!this._dispatchTokens(i,r,o))return!1;if(""===e)return!0;if(e.length==n)return!1;n=e.length}return t?this._invokeParser(e,WYMeditor.LEXER_UNMATCHED):!1},WYMeditor.Lexer.prototype._dispatchTokens=function(e,t,n){return n=n||!1,this._invokeParser(e,WYMeditor.LEXER_UNMATCHED)?"boolean"==typeof n?this._invokeParser(t,WYMeditor.LEXER_MATCHED):this._isModeEnd(n)?this._invokeParser(t,WYMeditor.LEXER_EXIT)?this._mode.leave():!1:this._isSpecialMode(n)?(this._mode.enter(this._decodeSpecial(n)),this._invokeParser(t,WYMeditor.LEXER_SPECIAL)?this._mode.leave():!1):(this._mode.enter(n),this._invokeParser(t,WYMeditor.LEXER_ENTER)):!1},WYMeditor.Lexer.prototype._isModeEnd=function(e){return"__exit"===e},WYMeditor.Lexer.prototype._isSpecialMode=function(e){return"_"==e.substring(0,1)},WYMeditor.Lexer.prototype._decodeSpecial=function(e){return e.substring(1)},WYMeditor.Lexer.prototype._invokeParser=function(e,t){if(""===e)return!0;var n=this._mode.getCurrent(),i=this._mode_handlers[n],r=this._parser[i](e,t);return r},WYMeditor.Lexer.prototype._reduce=function(e){var t=this._regexes[this._mode.getCurrent()].match(e),n=t[1],i=t[0];if(i){var r=e.indexOf(n),o=e.substr(0,r);return e=e.substring(r+n.length),[e,o,n,i]}return!0},WYMeditor.XhtmlLexer=function(e){return jQuery.extend(this,new WYMeditor.Lexer(e,"Text")),this.mapHandler("Text","Text"),this.addTokens(),this.init(),this},WYMeditor.XhtmlLexer.prototype.init=function(){},WYMeditor.XhtmlLexer.prototype.addTokens=function(){this.addCommentTokens("Text"),this.addScriptTokens("Text"),this.addCssTokens("Text"),this.addTagTokens("Text")},WYMeditor.XhtmlLexer.prototype.addCommentTokens=function(e){this.addEntryPattern("<!--",e,"Comment"),this.addExitPattern("-->","Comment")},WYMeditor.XhtmlLexer.prototype.addScriptTokens=function(e){this.addEntryPattern("<script",e,"Script"),this.addExitPattern("</script>","Script")},WYMeditor.XhtmlLexer.prototype.addCssTokens=function(e){this.addEntryPattern("<style",e,"Css"),this.addExitPattern("</style>","Css")},WYMeditor.XhtmlLexer.prototype.addTagTokens=function(e){this.addSpecialPattern("<\\s*[a-z0-9:-]+\\s*>",e,"OpeningTag"),this.addEntryPattern("<[a-z0-9:-]+[\\/ \\>]+",e,"OpeningTag"),this.addInTagDeclarationTokens("OpeningTag"),this.addSpecialPattern("</\\s*[a-z0-9:-]+\\s*>",e,"ClosingTag")},WYMeditor.XhtmlLexer.prototype.addInTagDeclarationTokens=function(e){this.addSpecialPattern("\\s+",e,"Ignore"),this.addAttributeTokens(e),this.addExitPattern("/>",e),this.addExitPattern(">",e)},WYMeditor.XhtmlLexer.prototype.addAttributeTokens=function(e){this.addSpecialPattern("\\s*[a-z-_0-9]*:?[a-z-_0-9]+\\s*(?==)\\s*",e,"TagAttributes"),this.addEntryPattern('=\\s*"',e,"DoubleQuotedAttribute"),this.addPattern('\\\\"',"DoubleQuotedAttribute"),this.addExitPattern('"',"DoubleQuotedAttribute"),this.addEntryPattern("=\\s*'",e,"SingleQuotedAttribute"),this.addPattern("\\\\'","SingleQuotedAttribute"),this.addExitPattern("'","SingleQuotedAttribute"),this.addSpecialPattern("=\\s*[^>\\s]*",e,"UnquotedAttribute")},WYMeditor.XhtmlParser=function(e,t){return t=t||"Text",this._Lexer=new WYMeditor.XhtmlLexer(this),this._Listener=e,this._mode=t,this._matches=[],this._last_match="",this._current_match="",this},WYMeditor.XhtmlParser.prototype.parse=function(e){return this._Lexer.parse(this.beforeParsing(e)),this.afterParsing(this._Listener.getResult())},WYMeditor.XhtmlParser.prototype.beforeParsing=function(e){return(e.match(/class="MsoNormal"/)||e.match(/ns = "urn:schemas-microsoft-com/))&&this._Listener.avoidStylingTagsAndAttributes(),this._Listener.beforeParsing(e)},WYMeditor.XhtmlParser.prototype.afterParsing=function(e){return this._Listener._avoiding_tags_implicitly&&this._Listener.allowStylingTagsAndAttributes(),this._Listener.afterParsing(e)},WYMeditor.XhtmlParser.prototype.Ignore=function(){return!0},WYMeditor.XhtmlParser.prototype.Text=function(e){return this._Listener.addContent(e),!0},WYMeditor.XhtmlParser.prototype.Comment=function(e,t){return this._addNonTagBlock(e,t,"addComment")},WYMeditor.XhtmlParser.prototype.Script=function(e,t){return this._addNonTagBlock(e,t,"addScript")},WYMeditor.XhtmlParser.prototype.Css=function(e,t){return this._addNonTagBlock(e,t,"addCss")},WYMeditor.XhtmlParser.prototype._addNonTagBlock=function(e,t,n){switch(t){case WYMeditor.LEXER_ENTER:this._non_tag=e;break;case WYMeditor.LEXER_UNMATCHED:this._non_tag+=e;break;case WYMeditor.LEXER_EXIT:switch(n){case"addComment":this._Listener.addComment(this._non_tag+e);break;case"addScript":this._Listener.addScript(this._non_tag+e);break;case"addCss":this._Listener.addCss(this._non_tag+e);break;default:}break;default:}return!0},WYMeditor.XhtmlParser.prototype.OpeningTag=function(e,t){switch(t){case WYMeditor.LEXER_ENTER:this._tag=this.normalizeTag(e),this._tag_attributes={};break;case WYMeditor.LEXER_SPECIAL:this._callOpenTagListener(this.normalizeTag(e));break;case WYMeditor.LEXER_EXIT:this._callOpenTagListener(this._tag,this._tag_attributes);break;default:}return!0},WYMeditor.XhtmlParser.prototype.ClosingTag=function(e){return this._callCloseTagListener(this.normalizeTag(e)),!0},WYMeditor.XhtmlParser.prototype._callOpenTagListener=function(e,t){t=t||{},this.autoCloseUnclosedBeforeNewOpening(e),this._Listener.isBlockTag(e)?(this._Listener._tag_stack.push(e),this._Listener.fixNestingBeforeOpeningBlockTag(e,t),this._Listener.openBlockTag(e,t),this._increaseOpenTagCounter(e)):this._Listener.isInlineTag(e)?this._Listener.inlineTag(e,t):(this._Listener.openUnknownTag(e,t),this._increaseOpenTagCounter(e)),this._Listener.last_tag=e,this._Listener.last_tag_opened=!0,this._Listener.last_tag_attributes=t},WYMeditor.XhtmlParser.prototype._callCloseTagListener=function(e){if(this._decreaseOpenTagCounter(e))if(this.autoCloseUnclosedBeforeTagClosing(e),this._Listener.isBlockTag(e)){var t=this._Listener._tag_stack.pop();if(t===!1)return;t!=e&&(e=t),this._Listener.closeBlockTag(e)}else this._Listener.closeUnknownTag(e);else this._Listener.closeUnopenedTag(e);this._Listener.last_tag=e,this._Listener.last_tag_opened=!1},WYMeditor.XhtmlParser.prototype._increaseOpenTagCounter=function(e){this._Listener._open_tags[e]=this._Listener._open_tags[e]||0,this._Listener._open_tags[e]++},WYMeditor.XhtmlParser.prototype._decreaseOpenTagCounter=function(e){return this._Listener._open_tags[e]?(this._Listener._open_tags[e]--,0===this._Listener._open_tags[e]&&(this._Listener._open_tags[e]=void 0),!0):!1},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeNewOpening=function(e){this._autoCloseUnclosed(e,!1)},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeTagClosing=function(e){this._autoCloseUnclosed(e,!0)},WYMeditor.XhtmlParser.prototype._autoCloseUnclosed=function(e,t){if(t=t||!1,this._Listener._open_tags)for(var n in this._Listener._open_tags){var i=this._Listener._open_tags[n];i>0&&this._Listener.shouldCloseTagAutomatically(n,e,t)&&this._callCloseTagListener(n,!0)}},WYMeditor.XhtmlParser.prototype.getTagReplacements=function(){return this._Listener.getTagReplacements()},WYMeditor.XhtmlParser.prototype.normalizeTag=function(e){e=e.replace(/^([\s<\/>]*)|([\s<\/>]*)$/gm,"").toLowerCase();var t=this._Listener.getTagReplacements();return t[e]?t[e]:e},WYMeditor.XhtmlParser.prototype.TagAttributes=function(e,t){return WYMeditor.LEXER_SPECIAL==t&&(this._current_attribute=e),!0},WYMeditor.XhtmlParser.prototype.DoubleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.SingleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.UnquotedAttribute=function(e){return this._tag_attributes[this._current_attribute]=e.replace(/^=/,""),!0},WYMeditor.XhtmlSaxListener=function(){return this.output="",this.helper=new WYMeditor.XmlHelper,this._open_tags={},this.validator=WYMeditor.XhtmlValidator,this._tag_stack=[],this.avoided_tags=[],this._insert_before_closing=[],this._insert_after_closing=[],this._last_node_was_text=!1,this.entities={"&nbsp;":"&#160;","&iexcl;":"&#161;","&cent;":"&#162;","&pound;":"&#163;","&curren;":"&#164;","&yen;":"&#165;","&brvbar;":"&#166;","&sect;":"&#167;","&uml;":"&#168;","&copy;":"&#169;","&ordf;":"&#170;","&laquo;":"&#171;","&not;":"&#172;","&shy;":"&#173;","&reg;":"&#174;","&macr;":"&#175;","&deg;":"&#176;","&plusmn;":"&#177;","&sup2;":"&#178;","&sup3;":"&#179;","&acute;":"&#180;","&micro;":"&#181;","&para;":"&#182;","&middot;":"&#183;","&cedil;":"&#184;","&sup1;":"&#185;","&ordm;":"&#186;","&raquo;":"&#187;","&frac14;":"&#188;","&frac12;":"&#189;","&frac34;":"&#190;","&iquest;":"&#191;","&Agrave;":"&#192;","&Aacute;":"&#193;","&Acirc;":"&#194;","&Atilde;":"&#195;","&Auml;":"&#196;","&Aring;":"&#197;","&AElig;":"&#198;","&Ccedil;":"&#199;","&Egrave;":"&#200;","&Eacute;":"&#201;","&Ecirc;":"&#202;","&Euml;":"&#203;","&Igrave;":"&#204;","&Iacute;":"&#205;","&Icirc;":"&#206;","&Iuml;":"&#207;","&ETH;":"&#208;","&Ntilde;":"&#209;","&Ograve;":"&#210;","&Oacute;":"&#211;","&Ocirc;":"&#212;","&Otilde;":"&#213;","&Ouml;":"&#214;","&times;":"&#215;","&Oslash;":"&#216;","&Ugrave;":"&#217;","&Uacute;":"&#218;","&Ucirc;":"&#219;","&Uuml;":"&#220;","&Yacute;":"&#221;","&THORN;":"&#222;","&szlig;":"&#223;","&agrave;":"&#224;","&aacute;":"&#225;","&acirc;":"&#226;","&atilde;":"&#227;","&auml;":"&#228;","&aring;":"&#229;","&aelig;":"&#230;","&ccedil;":"&#231;","&egrave;":"&#232;","&eacute;":"&#233;","&ecirc;":"&#234;","&euml;":"&#235;","&igrave;":"&#236;","&iacute;":"&#237;","&icirc;":"&#238;","&iuml;":"&#239;","&eth;":"&#240;","&ntilde;":"&#241;","&ograve;":"&#242;","&oacute;":"&#243;","&ocirc;":"&#244;","&otilde;":"&#245;","&ouml;":"&#246;","&divide;":"&#247;","&oslash;":"&#248;","&ugrave;":"&#249;","&uacute;":"&#250;","&ucirc;":"&#251;","&uuml;":"&#252;","&yacute;":"&#253;","&thorn;":"&#254;","&yuml;":"&#255;","&OElig;":"&#338;","&oelig;":"&#339;","&Scaron;":"&#352;","&scaron;":"&#353;","&Yuml;":"&#376;","&fnof;":"&#402;","&circ;":"&#710;","&tilde;":"&#732;","&Alpha;":"&#913;","&Beta;":"&#914;","&Gamma;":"&#915;","&Delta;":"&#916;","&Epsilon;":"&#917;","&Zeta;":"&#918;","&Eta;":"&#919;","&Theta;":"&#920;","&Iota;":"&#921;","&Kappa;":"&#922;","&Lambda;":"&#923;","&Mu;":"&#924;","&Nu;":"&#925;","&Xi;":"&#926;","&Omicron;":"&#927;","&Pi;":"&#928;","&Rho;":"&#929;","&Sigma;":"&#931;","&Tau;":"&#932;","&Upsilon;":"&#933;","&Phi;":"&#934;","&Chi;":"&#935;","&Psi;":"&#936;","&Omega;":"&#937;","&alpha;":"&#945;","&beta;":"&#946;","&gamma;":"&#947;","&delta;":"&#948;","&epsilon;":"&#949;","&zeta;":"&#950;","&eta;":"&#951;","&theta;":"&#952;","&iota;":"&#953;","&kappa;":"&#954;","&lambda;":"&#955;","&mu;":"&#956;","&nu;":"&#957;","&xi;":"&#958;","&omicron;":"&#959;","&pi;":"&#960;","&rho;":"&#961;","&sigmaf;":"&#962;","&sigma;":"&#963;","&tau;":"&#964;","&upsilon;":"&#965;","&phi;":"&#966;","&chi;":"&#967;","&psi;":"&#968;","&omega;":"&#969;","&thetasym;":"&#977;","&upsih;":"&#978;","&piv;":"&#982;","&ensp;":"&#8194;","&emsp;":"&#8195;","&thinsp;":"&#8201;","&zwnj;":"&#8204;","&zwj;":"&#8205;","&lrm;":"&#8206;","&rlm;":"&#8207;","&ndash;":"&#8211;","&mdash;":"&#8212;","&lsquo;":"&#8216;","&rsquo;":"&#8217;","&sbquo;":"&#8218;","&ldquo;":"&#8220;","&rdquo;":"&#8221;","&bdquo;":"&#8222;","&dagger;":"&#8224;","&Dagger;":"&#8225;","&bull;":"&#8226;","&hellip;":"&#8230;","&permil;":"&#8240;","&prime;":"&#8242;","&Prime;":"&#8243;","&lsaquo;":"&#8249;","&rsaquo;":"&#8250;","&oline;":"&#8254;","&frasl;":"&#8260;","&euro;":"&#8364;","&image;":"&#8465;","&weierp;":"&#8472;","&real;":"&#8476;","&trade;":"&#8482;","&alefsym;":"&#8501;","&larr;":"&#8592;","&uarr;":"&#8593;","&rarr;":"&#8594;","&darr;":"&#8595;","&harr;":"&#8596;","&crarr;":"&#8629;","&lArr;":"&#8656;","&uArr;":"&#8657;","&rArr;":"&#8658;","&dArr;":"&#8659;","&hArr;":"&#8660;","&forall;":"&#8704;","&part;":"&#8706;","&exist;":"&#8707;","&empty;":"&#8709;","&nabla;":"&#8711;","&isin;":"&#8712;","&notin;":"&#8713;","&ni;":"&#8715;","&prod;":"&#8719;","&sum;":"&#8721;","&minus;":"&#8722;","&lowast;":"&#8727;","&radic;":"&#8730;","&prop;":"&#8733;","&infin;":"&#8734;","&ang;":"&#8736;","&and;":"&#8743;","&or;":"&#8744;","&cap;":"&#8745;","&cup;":"&#8746;","&int;":"&#8747;","&there4;":"&#8756;","&sim;":"&#8764;","&cong;":"&#8773;","&asymp;":"&#8776;","&ne;":"&#8800;","&equiv;":"&#8801;","&le;":"&#8804;","&ge;":"&#8805;","&sub;":"&#8834;","&sup;":"&#8835;","&nsub;":"&#8836;","&sube;":"&#8838;","&supe;":"&#8839;","&oplus;":"&#8853;","&otimes;":"&#8855;","&perp;":"&#8869;","&sdot;":"&#8901;","&lceil;":"&#8968;","&rceil;":"&#8969;","&lfloor;":"&#8970;","&rfloor;":"&#8971;","&lang;":"&#9001;","&rang;":"&#9002;","&loz;":"&#9674;","&spades;":"&#9824;","&clubs;":"&#9827;","&hearts;":"&#9829;","&diams;":"&#9830;"},this.block_tags=["a","abbr","acronym","address","area","b","base","bdo","big","blockquote","body","button","caption","cite","code","colgroup","dd","del","div","dfn","dl","dt","em","fieldset","form","head","h1","h2","h3","h4","h5","h6","html","i","ins","kbd","label","legend","li","map","noscript","object","ol","optgroup","option","p","param","pre","q","samp","script","select","small","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","ul","var","extends"],this.inline_tags=["br","col","hr","img","input"],this},WYMeditor.XhtmlSaxListener.prototype.shouldCloseTagAutomatically=function(e,t,n){if(n=n||!1,"td"==e){if(n&&"tr"==t||!n&&"td"==t)return!0}else if("option"==e&&(n&&"select"==t||!n&&"option"==t))return!0;return!1},WYMeditor.XhtmlSaxListener.prototype.beforeParsing=function(e){return this.output="",this._insert_before_closing=[],this._insert_after_closing=[],this._open_tags={},this._tag_stack=[],this._last_node_was_text=!1,this.last_tag=null,e},WYMeditor.XhtmlSaxListener.prototype.afterParsing=function(e){return e=this.replaceNamedEntities(e),e=this.joinRepeatedEntities(e),e=this.removeEmptyTags(e),e=this.removeBrInPre(e)},WYMeditor.XhtmlSaxListener.prototype.replaceNamedEntities=function(e){for(var t in this.entities)e=e.replace(new RegExp(t,"g"),this.entities[t]);return e},WYMeditor.XhtmlSaxListener.prototype.joinRepeatedEntities=function(e){var t="em|strong|sub|sup|acronym|pre|del|address";return e.replace(new RegExp("</("+t+")><\\1>",""),"").replace(new RegExp("(s*<("+t+")>s*){2}(.*)(s*</\\2>s*){2}",""),"<$2>$3<$2>")},WYMeditor.XhtmlSaxListener.prototype.removeEmptyTags=function(e){return e.replace(new RegExp("<("+this.block_tags.join("|").replace(/\|td/,"").replace(/\|th/,"")+")>(<br />|&#160;|&nbsp;|\\s)*</\\1>","g"),"")},WYMeditor.XhtmlSaxListener.prototype.removeBrInPre=function(e){var t=e.match(new RegExp("<pre[^>]*>(.*?)</pre>","gmi"));if(t)for(var n=0;t.length>n;n++)e=e.replace(t[n],t[n].replace(new RegExp("<br />","g"),String.fromCharCode(13,10)));return e},WYMeditor.XhtmlSaxListener.prototype.getResult=function(){return this.output},WYMeditor.XhtmlSaxListener.prototype.getTagReplacements=function(){return{b:"strong",i:"em"}},WYMeditor.XhtmlSaxListener.prototype.addContent=function(e){this.last_tag&&"li"==this.last_tag&&(e=e.replace(/\n/,""),e=e.replace(/\r/,"")),e.length>0&&(this._last_node_was_text=!0),this.output+=e},WYMeditor.XhtmlSaxListener.prototype.addComment=function(e){this.remove_comments&&(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addScript=function(e){this.remove_scripts||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addCss=function(e){this.remove_embeded_styles||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.openBlockTag=function(e,t){this._last_node_was_text=!1,this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t),!0)},WYMeditor.XhtmlSaxListener.prototype.inlineTag=function(e,t){this._last_node_was_text=!1,this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t))},WYMeditor.XhtmlSaxListener.prototype.openUnknownTag=function(){},WYMeditor.XhtmlSaxListener.prototype.closeBlockTag=function(e){this._last_node_was_text=!1,this.output=this.output.replace(/<br \/>$/,"")+this._getClosingTagContent("before",e)+"</"+e+">"+this._getClosingTagContent("after",e)},WYMeditor.XhtmlSaxListener.prototype.closeUnknownTag=function(){},WYMeditor.XhtmlSaxListener.prototype.closeUnopenedTag=function(e){this._last_node_was_text=!1,this.output+="</"+e+">"},WYMeditor.XhtmlSaxListener.prototype.avoidStylingTagsAndAttributes=function(){this.avoided_tags=["div","span"],this.validator.skiped_attributes=["style"],this.validator.skiped_attribute_values=["MsoNormal","main1"],this._avoiding_tags_implicitly=!0},WYMeditor.XhtmlSaxListener.prototype.allowStylingTagsAndAttributes=function(){this.avoided_tags=[],this.validator.skiped_attributes=[],this.validator.skiped_attribute_values=[],this._avoiding_tags_implicitly=!1},WYMeditor.XhtmlSaxListener.prototype.isBlockTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.block_tags,e)},WYMeditor.XhtmlSaxListener.prototype.isInlineTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.inline_tags,e)},WYMeditor.XhtmlSaxListener.prototype.insertContentAfterClosingTag=function(e,t){this._insertContentWhenClosingTag("after",e,t)},WYMeditor.XhtmlSaxListener.prototype.insertContentBeforeClosingTag=function(e,t){this._insertContentWhenClosingTag("before",e,t)},WYMeditor.XhtmlSaxListener.prototype.fixNestingBeforeOpeningBlockTag=function(e){if(this._last_node_was_text||"ul"!=e&&"ol"!=e||!this.last_tag||this.last_tag_opened||"li"!=this.last_tag)if("ul"!=e&&"ol"!=e||!this.last_tag||!this.last_tag_opened||"ul"!=this.last_tag&&"ol"!=this.last_tag){if("li"==e&&!this.last_tag_opened&&this._tag_stack.length>=2){var t=this._tag_stack[this._tag_stack.length-2];
"li"==t&&(this._open_tags.li-=1,0===this._open_tags.li&&(this._open_tags.li=void 0),this._tag_stack.pop(this._tag_stack.length-2),this._last_node_was_text=!1,this.output+="</li>")}}else this._last_node_was_text=!1,this.output+=this.helper.tag("li",{},!0),this.insertContentAfterClosingTag(e,"</li>");else this.output=this.output.replace(/<\/li>\s*$/,""),this.insertContentAfterClosingTag(e,"</li>")},WYMeditor.XhtmlSaxListener.prototype._insertContentWhenClosingTag=function(e,t,n){this["_insert_"+e+"_closing"]||(this["_insert_"+e+"_closing"]=[]),this["_insert_"+e+"_closing"][t]||(this["_insert_"+e+"_closing"][t]=[]),this["_insert_"+e+"_closing"][t].push(n)},WYMeditor.XhtmlSaxListener.prototype._getClosingTagContent=function(e,t){return this["_insert_"+e+"_closing"]&&this["_insert_"+e+"_closing"][t]&&this["_insert_"+e+"_closing"][t].length>0?this["_insert_"+e+"_closing"][t].pop():""},WYMeditor.WymCssLexer=function(e,t){return t="undefined"==typeof t?!0:t,jQuery.extend(this,new WYMeditor.Lexer(e,t?"Ignore":"WymCss")),this.mapHandler("WymCss","Ignore"),t===!0&&(this.addEntryPattern("/\\*[<\\s]*WYMeditor[>\\s]*\\*/","Ignore","WymCss"),this.addExitPattern("/\\*[</\\s]*WYMeditor[>\\s]*\\*/","WymCss")),this.addSpecialPattern("[\\sa-z1-6]*\\.[a-z-_0-9]+","WymCss","WymCssStyleDeclaration"),this.addEntryPattern("/\\*","WymCss","WymCssComment"),this.addExitPattern("\\*/","WymCssComment"),this.addEntryPattern("{","WymCss","WymCssStyle"),this.addExitPattern("}","WymCssStyle"),this.addEntryPattern("/\\*","WymCssStyle","WymCssFeedbackStyle"),this.addExitPattern("\\*/","WymCssFeedbackStyle"),this},WYMeditor.WymCssParser=function(){return this._in_style=!1,this._has_title=!1,this.only_wym_blocks=!0,this.css_settings={classesItems:[],editorStyles:[],dialogStyles:[]},this},WYMeditor.WymCssParser.prototype.parse=function(e,t){t="undefined"==typeof t?this.only_wym_blocks:t,this._Lexer=new WYMeditor.WymCssLexer(this,t),this._Lexer.parse(e)},WYMeditor.WymCssParser.prototype.Ignore=function(){return!0},WYMeditor.WymCssParser.prototype.WymCssComment=function(e,t){return e.match(/end[a-z0-9\s]*wym[a-z0-9\s]*/im)?!1:(t==WYMeditor.LEXER_UNMATCHED&&(this._in_style?this._current_item[this._current_element]&&(this._current_item[this._current_element].expressions?this._current_item[this._current_element].expressions.push(e):this._current_item[this._current_element].expressions=[e]):(this._has_title=!0,this._current_item={title:WYMeditor.Helper.trim(e)}),this._in_style=!0),!0)},WYMeditor.WymCssParser.prototype.WymCssStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED?(e=WYMeditor.Helper.trim(e),""!==e&&(this._current_item[this._current_element].style=e)):t==WYMeditor.LEXER_EXIT&&(this._in_style=!1,this._has_title=!1,this.addStyleSetting(this._current_item)),!0},WYMeditor.WymCssParser.prototype.WymCssFeedbackStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED&&(this._current_item[this._current_element].feedback_style=e.replace(/^([\s\/\*]*)|([\s\/\*]*)$/gm,"")),!0},WYMeditor.WymCssParser.prototype.WymCssStyleDeclaration=function(e){e=e.replace(/^([\s\.]*)|([\s\.*]*)$/gm,"");var t="";if(e.indexOf(".")>0){var n=e.split(".");this._current_element=n[1],t=n[0]}else this._current_element=e;return this._has_title||(this._current_item={title:(t?t.toUpperCase()+": ":"")+this._current_element},this._has_title=!0),this._current_item[this._current_element]||(this._current_item[this._current_element]={name:this._current_element}),t&&(this._current_item[this._current_element].tags?this._current_item[this._current_element].tags.push(t):this._current_item[this._current_element].tags=[t]),!0},WYMeditor.WymCssParser.prototype.addStyleSetting=function(e){for(var t in e){var n=e[t];"object"==typeof n&&"title"!=t&&(this.css_settings.classesItems.push({name:WYMeditor.Helper.trim(n.name),title:e.title,expr:WYMeditor.Helper.trim((n.expressions||n.tags).join(", "))}),n.feedback_style&&this.css_settings.editorStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.feedback_style}),n.style&&this.css_settings.dialogStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.style}))}},$(function(){$(".wymeditor").wymeditor()}),function(){$(function(){})}.call(this),function(){$(function(){})}.call(this),function(){$(function(){return $(".best_in_place").best_in_place(),$(".nav a").each(function(){return $(this).attr("href")===$(location).attr("pathname")?$(this).parent().addClass("active"):void 0}),Tipped.create(".tipped")})}.call(this),// Copyright 2006 Google Inc.
document.createElement("canvas").getContext||function(){function e(){}function t(e){this.type_=e,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function n(e,t,n){!i(t)||(e.m_=t,n&&(e.lineScale_=b(_(t[0][0]*t[1][1]-t[0][1]*t[1][0]))))}function i(e){for(var t=0;3>t;t++)for(var n=0;2>n;n++)if(!isFinite(e[t][n])||isNaN(e[t][n]))return!1;return!0}function r(e,t,n,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function o(e){this.m_=d(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*w,this.globalAlpha=1,this.canvas=e;var t=e.ownerDocument.createElement("div");t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="absolute",e.appendChild(t),this.element_=t,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function s(e){switch(e){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function a(e){var t,n=1;if(e=String(e),"rgb"==e.substring(0,3)){var i=e.indexOf("(",3),r=e.indexOf(")",i+1),o=e.substring(i+1,r).split(",");t="#";for(var s=0;3>s;s++)t+=E[Number(o[s])];4==o.length&&"a"==e.substr(3,1)&&(n=o[3])}else t=e;return{color:t,alpha:n}}function l(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function c(e,t){for(var n=d(),i=0;3>i;i++)for(var r=0;3>r;r++){for(var o=0,s=0;3>s;s++)o+=e[i][s]*t[s][r];n[i][r]=o}return n}function d(){return[[1,0,0],[0,1,0],[0,0,1]]}function u(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function h(e){var t=e.srcElement;switch(e.propertyName){case"width":t.style.width=t.attributes.width.nodeValue+"px",t.getContext().clearRect();break;case"height":t.style.height=t.attributes.height.nodeValue+"px",t.getContext().clearRect()}}function p(e,t){var n=C.call(arguments,2);return function(){return e.apply(t,n.concat(C.call(arguments)))}}function f(){return this.context_||(this.context_=new o(this))}var m=Math,g=m.round,y=m.sin,v=m.cos,_=m.abs,b=m.sqrt,w=10,x=w/2,C=Array.prototype.slice,T={init:function(e){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var t=e||document;t.createElement("canvas"),t.attachEvent("onreadystatechange",p(this.init_,this,t))}},init_:function(e){if(e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var n=e.getElementsByTagName("canvas"),i=0;n.length>i;i++)this.initElement(n[i])},initElement:function(e){if(!e.getContext){e.getContext=f,e.innerHTML="",e.attachEvent("onpropertychange",h),e.attachEvent("onresize",u);var t=e.attributes;t.width&&t.width.specified?e.style.width=t.width.nodeValue+"px":e.width=e.clientWidth,t.height&&t.height.specified?e.style.height=t.height.nodeValue+"px":e.height=e.clientHeight}return e}};T.init();for(var E=[],S=0;16>S;S++)for(var M=0;16>M;M++)E[16*S+M]=S.toString(16)+M.toString(16);var N=o.prototype;N.clearRect=function(){this.element_.innerHTML=""},N.beginPath=function(){this.currentPath_=[]},N.moveTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},N.lineTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},N.bezierCurveTo=function(e,t,n,i,o,s){var a=this.getCoords_(o,s),l=this.getCoords_(e,t),c=this.getCoords_(n,i);r(this,l,c,a)},N.quadraticCurveTo=function(e,t,n,i){var o=this.getCoords_(e,t),s=this.getCoords_(n,i),a={x:this.currentX_+.6666666666666666*(o.x-this.currentX_),y:this.currentY_+.6666666666666666*(o.y-this.currentY_)};r(this,a,{x:a.x+(s.x-this.currentX_)/3,y:a.y+(s.y-this.currentY_)/3},s)},N.arc=function(e,t,n,i,r,o){n*=w;var s=o?"at":"wa",a=e+v(i)*n-x,l=t+y(i)*n-x,c=e+v(r)*n-x,d=t+y(r)*n-x;a==c&&!o&&(a+=.125);var u=this.getCoords_(e,t),h=this.getCoords_(a,l),p=this.getCoords_(c,d);this.currentPath_.push({type:s,x:u.x,y:u.y,radius:n,xStart:h.x,yStart:h.y,xEnd:p.x,yEnd:p.y})},N.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},N.strokeRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=r},N.fillRect=function(e,t,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=r},N.createLinearGradient=function(e,n,i,r){var o=new t("gradient");return o.x0_=e,o.y0_=n,o.x1_=i,o.y1_=r,o},N.createRadialGradient=function(e,n,i,r,o,s){var a=new t("gradientradial");return a.x0_=e,a.y0_=n,a.r0_=i,a.x1_=r,a.y1_=o,a.r1_=s,a},N.drawImage=function(e){var t,n,i,r,o,s,a,l,c=e.runtimeStyle.width,d=e.runtimeStyle.height;e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var u=e.width,h=e.height;if(e.runtimeStyle.width=c,e.runtimeStyle.height=d,3==arguments.length)t=arguments[1],n=arguments[2],o=s=0,a=i=u,l=r=h;else if(5==arguments.length)t=arguments[1],n=arguments[2],i=arguments[3],r=arguments[4],o=s=0,a=u,l=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],t=arguments[5],n=arguments[6],i=arguments[7],r=arguments[8]}var p=this.getCoords_(t,n),f=[];if(f.push(" <g_vml_:group",' coordsize="',10*w,",",10*w,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var y=[];y.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",g(p.x/w),",","Dy=",g(p.y/w),"");var v=p,_=this.getCoords_(t+i,n),b=this.getCoords_(t,n+r),x=this.getCoords_(t+i,n+r);v.x=m.max(v.x,_.x,b.x,x.x),v.y=m.max(v.y,_.y,b.y,x.y),f.push("padding:0 ",g(v.x/w),"px ",g(v.y/w),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",y.join(""),", sizingmethod='clip');")}else f.push("top:",g(p.y/w),"px;left:",g(p.x/w),"px;");f.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',w*i,"px;"," height:",w*r,'px;"',' cropleft="',o/u,'"',' croptop="',s/h,'"',' cropright="',(u-o-a)/u,'"',' cropbottom="',(h-s-l)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},N.stroke=function(e){var t=[],n=a(e?this.fillStyle:this.strokeStyle),i=n.color,r=n.alpha*this.globalAlpha;t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0 0" coordsize="',10*w," ",10*w,'"',' stroked="',!e,'"',' path="');for(var o={x:null,y:null},l={x:null,y:null},c=0;this.currentPath_.length>c;c++){var d=this.currentPath_[c];switch(d.type){case"moveTo":t.push(" m ",g(d.x),",",g(d.y));break;case"lineTo":t.push(" l ",g(d.x),",",g(d.y));break;case"close":t.push(" x "),d=null;break;case"bezierCurveTo":t.push(" c ",g(d.cp1x),",",g(d.cp1y),",",g(d.cp2x),",",g(d.cp2y),",",g(d.x),",",g(d.y));break;case"at":case"wa":t.push(" ",d.type," ",g(d.x-this.arcScaleX_*d.radius),",",g(d.y-this.arcScaleY_*d.radius)," ",g(d.x+this.arcScaleX_*d.radius),",",g(d.y+this.arcScaleY_*d.radius)," ",g(d.xStart),",",g(d.yStart)," ",g(d.xEnd),",",g(d.yEnd))}d&&((null==o.x||d.x<o.x)&&(o.x=d.x),(null==l.x||d.x>l.x)&&(l.x=d.x),(null==o.y||d.y<o.y)&&(o.y=d.y),(null==l.y||d.y>l.y)&&(l.y=d.y))}if(t.push(' ">'),e)if("object"==typeof this.fillStyle){var u=this.fillStyle,h=0,p={x:0,y:0},f=0,y=1;if("gradient"==u.type_){var v=u.x1_/this.arcScaleX_,_=u.y1_/this.arcScaleY_,b=this.getCoords_(u.x0_/this.arcScaleX_,u.y0_/this.arcScaleY_),x=this.getCoords_(v,_);h=180*Math.atan2(x.x-b.x,x.y-b.y)/Math.PI,0>h&&(h+=360),1e-6>h&&(h=0)}else{var b=this.getCoords_(u.x0_,u.y0_),C=l.x-o.x,T=l.y-o.y;p={x:(b.x-o.x)/C,y:(b.y-o.y)/T},C/=this.arcScaleX_*w,T/=this.arcScaleY_*w;var E=m.max(C,T);f=2*u.r0_/E,y=2*u.r1_/E-f}var S=u.colors_;S.sort(function(e,t){return e.offset-t.offset});for(var M=S.length,N=S[0].color,W=S[M-1].color,k=S[0].alpha*this.globalAlpha,A=S[M-1].alpha*this.globalAlpha,R=[],c=0;M>c;c++){var L=S[c];R.push(L.offset*y+f+" "+L.color)}t.push('<g_vml_:fill type="',u.type_,'"',' method="none" focus="100%"',' color="',N,'"',' color2="',W,'"',' colors="',R.join(","),'"',' opacity="',A,'"',' g_o_:opacity2="',k,'"',' angle="',h,'"',' focusposition="',p.x,",",p.y,'" />')}else t.push('<g_vml_:fill color="',i,'" opacity="',r,'" />');else{var Y=this.lineScale_*this.lineWidth;1>Y&&(r*=Y),t.push("<g_vml_:stroke",' opacity="',r,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',s(this.lineCap),'"',' weight="',Y,'px"',' color="',i,'" />')}t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},N.fill=function(){this.stroke(!0)},N.closePath=function(){this.currentPath_.push({type:"close"})},N.getCoords_=function(e,t){var n=this.m_;return{x:w*(e*n[0][0]+t*n[1][0]+n[2][0])-x,y:w*(e*n[0][1]+t*n[1][1]+n[2][1])-x}},N.save=function(){var e={};l(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=c(d(),this.m_)},N.restore=function(){l(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},N.translate=function(e,t){n(this,c([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},N.rotate=function(e){var t=v(e),i=y(e);n(this,c([[t,i,0],[-i,t,0],[0,0,1]],this.m_),!1)},N.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,n(this,c([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},N.transform=function(e,t,i,r,o,s){n(this,c([[e,t,0],[i,r,0],[o,s,1]],this.m_),!0)},N.setTransform=function(e,t,i,r,o,s){n(this,[[e,t,0],[i,r,0],[o,s,1]],!0)},N.clip=function(){},N.arcTo=function(){},N.createPattern=function(){return new e},t.prototype.addColorStop=function(e,t){t=a(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},G_vmlCanvasManager=T,CanvasRenderingContext2D=o,CanvasGradient=t,CanvasPattern=e}();var Spinners={version:"3.0.0"};(function(e){function t(e){return e*Math.PI/180}function n(e){this.element=e}function i(t,n){t&&(this.element=t,a.remove(t),a.removeDetached(),this._position=0,this._state="stopped",this.setOptions(e.extend({color:"#000",dashes:12,radius:5,height:5,width:1.8,opacity:1,padding:3,rotation:700},n||{})),this.drawPosition(0),a.add(this))}var r={scroll:function(e,t){if(!t)return e;var n=e.slice(0,t);return e.slice(t,e.length).concat(n)},isElement:function(e){return e&&1==e.nodeType},element:{isAttached:function(){return function(e){for(;e&&e.parentNode;)e=e.parentNode;return!!e&&!!e.body}}()}},o={drawRoundedRectangle:function(n,i){var r=e.extend({top:0,left:0,width:0,height:0,radius:0},i||{}),o=r.left,s=r.top,a=r.width,l=r.height,r=r.radius;n.beginPath(),n.moveTo(o+r,s),n.arc(o+a-r,s+r,r,t(-90),t(0),!1),n.arc(o+a-r,s+l-r,r,t(0),t(90),!1),n.arc(o+r,s+l-r,r,t(90),t(180),!1),n.arc(o+r,s+r,r,t(-180),t(-90),!1),n.closePath(),n.fill()}},s=function(){function e(e){var n=[];if(0==e.indexOf("#")&&(e=e.substring(1)),e=e.toLowerCase(),""!=e.replace(t,""))return null;for(3==e.length?(n[0]=e.charAt(0)+e.charAt(0),n[1]=e.charAt(1)+e.charAt(1),n[2]=e.charAt(2)+e.charAt(2)):(n[0]=e.substring(0,2),n[1]=e.substring(2,4),n[2]=e.substring(4)),e=0;n.length>e;e++)n[e]=parseInt(n[e],16);return n.red=n[0],n.green=n[1],n.blue=n[2],n}var t=RegExp("[0123456789abcdef]","g"),n=function(){function e(e,t,n){return e=e.toString(n||10),Array(t-e.length).join("0")+e}return function(t,n,i){return"#"+e(t,2,16)+e(n,2,16)+e(i,2,16)}}();return{hex2rgb:e,hex2fill:function(t,n){"undefined"==typeof n&&(n=1);var i=n,r=e(t);return r[3]=i,r.opacity=i,"rgba("+r.join()+")"},rgb2hex:n}}();e.extend(Spinners,{enabled:!1,support:{canvas:function(){var t=e("<canvas>")[0];return!!t.getContext&&!!t.getContext("2d")}()},init:function(){(this.support.canvas||window.G_vmlCanvasManager&&window.attachEvent&&-1===navigator.userAgent.indexOf("Opera"))&&(window.G_vmlCanvasManager&&window.G_vmlCanvasManager.init_(document),this.enabled=!0)},create:function(e,t){return n.create(e,t),this.get(e)},get:function(e){return new n(e)},play:function(e){return this.get(e).play(),this},pause:function(e){return this.get(e).pause(),this},toggle:function(e){return this.get(e).toggle(),this},stop:function(e){return this.get(e).stop(),this},remove:function(e){return this.get(e).remove(),this},removeDetached:function(){return a.removeDetached(),this},center:function(e){return this.get(e).center(),this},setOptions:function(e,t){return this.get(e).setOptions(t),this},getDimensions:function(e){return e=2*a.get(e)[0].getLayout().workspace.radius,{width:e,height:e}}});var a={spinners:[],get:function(t){if(t){var n=[];return e.each(this.spinners,function(i,o){o&&(r.isElement(t)?o.element==t:e(o.element).is(t))&&n.push(o)}),n}},add:function(e){this.spinners.push(e)},remove:function(t){e(e.map(this.spinners,function(n){return(r.isElement(t)?n.element==t:e(n.element).is(t))?n.element:void 0})).each(e.proxy(function(e,t){this.removeByElement(t)},this))},removeByElement:function(t){var n=this.get(t)[0];n&&(n.remove(),this.spinners=e.grep(this.spinners,function(e){return e.element!=t}))},removeDetached:function(){e.each(this.spinners,e.proxy(function(e,t){t&&t.element&&!r.element.isAttached(t.element)&&this.remove(t.element)},this))}};e.extend(n,{create:function(t,n){if(t){var o=n||{},s=[];return r.isElement(t)?s.push(new i(t,o)):e(t).each(function(e,t){s.push(new i(t,o))}),s}}}),e.extend(n.prototype,{items:function(){return a.get(this.element)},play:function(){return e.each(this.items(),function(e,t){t.play()}),this},stop:function(){return e.each(this.items(),function(e,t){t.stop()}),this},pause:function(){return e.each(this.items(),function(e,t){t.pause()}),this},toggle:function(){return e.each(this.items(),function(e,t){t.toggle()}),this},center:function(){return e.each(this.items(),function(e,t){t.center()}),this},setOptions:function(t){return e.each(this.items(),function(e,n){n.setOptions(t)}),this},remove:function(){return a.remove(this.element),this}}),e.extend(i.prototype,{setOptions:function(t){this.options=e.extend({},this.options,t||{}),this.options.radii&&(t=this.options.radii,this.options.radius=Math.min(t[0],t[1]),this.options.height=Math.max(t[0],t[1])-this.options.radius),this.options.dashWidth&&(this.options.width=this.options.dashWidth),this.options.speed&&(this.options.duration=1e3*this.options.speed);var t=this._state,n=this._position;switch(this._layout=null,this.build(),n&&n>=this.options.dashes-1&&(this._position=this.options.dashes-1),t){case"playing":this.play();break;case"paused":case"stopped":this.drawPosition(this._position)}this._centered&&this.center()},remove:function(){this.canvas&&(this.pause(),e(this.canvas).remove(),this.ctx=this.canvas=null)},build:function(){this.remove();var t=this.getLayout().workspace.radius;return e(document.body).append(this.canvas=e("<canvas>").attr({width:2*t,height:2*t}).css({zoom:1})),window.G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas[0]),this.ctx=this.canvas[0].getContext("2d"),this.ctx.globalAlpha=this.options.opacity,e(this.element).append(this.canvas),this.ctx.translate(t,t),this},drawPosition:function(e){var n=this.getLayout().workspace,e=r.scroll(n.opacities,-1*e),i=n.radius,n=this.options.dashes,o=t(360/n);for(this.ctx.clearRect(-1*i,-1*i,2*i,2*i),i=0;n>i;i++)this.drawDash(e[i],this.options.color),this.ctx.rotate(o)},drawDash:function(e,t){this.ctx.fillStyle=s.hex2fill(t,e);var n=this.getLayout(),i=n.workspace.radius,r=n.dash.position,n=n.dash.dimensions;o.drawRoundedRectangle(this.ctx,{top:r.top-i,left:r.left-i,width:n.width,height:n.height,radius:Math.min(n.height,n.width)/2})},_nextPosition:function(){var t=this.options.rotation/this.options.dashes;this.nextPosition(),this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t)},nextPosition:function(){this._position==this.options.dashes-1&&(this._position=-1),this._position++,this.drawPosition(this._position)},play:function(){if("playing"!=this._state){this._state="playing";var t=this.options.rotation/this.options.dashes;return this._playTimer=window.setTimeout(e.proxy(this._nextPosition,this),t),this}},pause:function(){return"paused"!=this._state?(this._pause(),this._state="paused",this):void 0},_pause:function(){this._playTimer&&(window.clearTimeout(this._playTimer),this._playTimer=null)},stop:function(){return"stopped"!=this._state?(this._pause(),this._position=0,this.drawPosition(0),this._state="stopped",this):void 0},toggle:function(){return this["playing"==this._state?"pause":"play"](),this},getLayout:function(){if(this._layout)return this._layout;for(var e=this.options,t=e.dashes,n=e.width,i=e.radius,r=e.radius+e.height,o=Math.max(n,r),o=Math.ceil(Math.max(o,Math.sqrt(r*r+n/2*(n/2)))),e=o+=e.padding,s=1/t,a=[],l=0;t>l;l++)a.push((l+1)*s);return this._layout=t={workspace:{radius:e,opacities:a},dash:{position:{top:o-r,left:o-n/2},dimensions:{width:n,height:r-i}}}},center:function(){var t=2*this.getLayout().workspace.radius;e(this.element.parentNode).css({position:"relative"}),e(this.element).css({position:"absolute",height:t+"px",width:t+"px",top:"50%",left:"50%",marginLeft:-.5*t+"px",marginTop:-.5*t+"px"}),this._centered=!0}}),Spinners.init(),Spinners.enabled||(n.create=function(){return[]})})(jQuery);var Tipped={version:"2.5.6"};Tipped.Skins={base:{afterUpdate:!1,ajax:{cache:!0,type:"get"},background:{color:"#f2f2f2",opacity:1},border:{size:1,color:"#000",opacity:1},closeButtonSkin:"default",containment:{selector:"viewport"},fadeIn:180,fadeOut:220,showDelay:75,hideDelay:25,radius:{size:3,position:"background"},hideAfter:!1,hideOn:{element:"self",event:"mouseleave"},hideOthers:!1,hook:"topleft",inline:!1,offset:{x:0,y:0,mouse:{x:-12,y:-12}},onHide:!1,onShow:!1,shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:.15},showOn:"mousemove",spinner:!0,stem:{height:6,width:11,offset:{x:5,y:5},spacing:2},target:"self"},reset:{ajax:!1,closeButton:!1,hideOn:[{element:"self",event:"mouseleave"},{element:"tooltip",event:"mouseleave"}],hook:"topmiddle",stem:!0},black:{background:{color:"#232323",opacity:.9},border:{size:1,color:"#232323"},spinner:{color:"#fff"}},cloud:{border:{size:1,color:[{position:0,color:"#bec6d5"},{position:1,color:"#b1c2e3"}]},closeButtonSkin:"light",background:{color:[{position:0,color:"#f6fbfd"},{position:.1,color:"#fff"},{position:.48,color:"#fff"},{position:.5,color:"#fefffe"},{position:.52,color:"#f7fbf9"},{position:.8,color:"#edeff0"},{position:1,color:"#e2edf4"}]},shadow:{opacity:.1}},dark:{border:{size:1,color:"#1f1f1f",opacity:.95},background:{color:[{position:0,color:"#686766"},{position:.48,color:"#3a3939"},{position:.52,color:"#2e2d2d"},{position:.54,color:"#2c2b2b"},{position:.95,color:"#222"},{position:1,color:"#202020"}],opacity:.9},radius:{size:4},shadow:{offset:{x:0,y:1}},spinner:{color:"#ffffff"}},facebook:{background:{color:"#282828"},border:0,fadeIn:0,fadeOut:0,radius:0,stem:{width:7,height:4,offset:{x:6,y:6}},shadow:!1},lavender:{background:{color:[{position:0,color:"#b2b6c5"},{position:.5,color:"#9da2b4"},{position:1,color:"#7f85a0"}]},border:{color:[{position:0,color:"#a2a9be"},{position:1,color:"#6b7290"}],size:1},radius:1,shadow:{opacity:.1}},light:{border:{size:0,color:"#afafaf"},background:{color:[{position:0,color:"#fefefe"},{position:1,color:"#f7f7f7"}]},closeButtonSkin:"light",radius:1,stem:{height:7,width:13,offset:{x:7,y:7}},shadow:{opacity:.32,blur:2}},lime:{border:{size:1,color:[{position:0,color:"#5a785f"},{position:.05,color:"#0c7908"},{position:1,color:"#587d3c"}]},background:{color:[{position:0,color:"#a5e07f"},{position:.02,color:"#cef8be"},{position:.09,color:"#7bc83f"},{position:.35,color:"#77d228"},{position:.65,color:"#85d219"},{position:.8,color:"#abe041"},{position:1,color:"#c4f087"}]}},liquid:{border:{size:1,color:[{position:0,color:"#454545"},{position:1,color:"#101010"}]},background:{color:[{position:0,color:"#515562"},{position:.3,color:"#252e43"},{position:.48,color:"#111c34"},{position:.52,color:"#161e32"},{position:.54,color:"#0c162e"},{position:1,color:"#010c28"}],opacity:.8},radius:{size:4},shadow:{offset:{x:0,y:1}},spinner:{color:"#ffffff"}},blue:{border:{color:[{position:0,color:"#113d71"},{position:1,color:"#1e5290"}]},background:{color:[{position:0,color:"#3a7ab8"},{position:.48,color:"#346daa"},{position:.52,color:"#326aa6"},{position:1,color:"#2d609b"}]},spinner:{color:"#f2f6f9"},shadow:{opacity:.2}},salmon:{background:{color:[{position:0,color:"#fbd0b7"},{position:.5,color:"#fab993"},{position:1,color:"#f8b38b"}]},border:{color:[{position:0,color:"#eda67b"},{position:1,color:"#df946f"}],size:1},radius:1,shadow:{opacity:.1}},yellow:{border:{size:1,color:"#f7c735"},background:"#ffffaa",radius:1,shadow:{opacity:.1}}},Tipped.Skins.CloseButtons={base:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#1a1a1a"},{position:.46,color:"#171717"},{position:.53,color:"#121212"},{position:.54,color:"#101010"},{position:1,color:"#000"}],opacity:1},x:{color:"#fafafa",opacity:1},border:{color:"#fff",opacity:1}},hover:{background:{color:"#333",opacity:1},x:{color:"#e6e6e6",opacity:1},border:{color:"#fff",opacity:1}}},shadow:{blur:2,color:"#000",offset:{x:0,y:0},opacity:.3}},reset:{},"default":{},light:{diameter:17,border:2,x:{diameter:10,size:2,opacity:1},states:{"default":{background:{color:[{position:0,color:"#797979"},{position:.48,color:"#717171"},{position:.52,color:"#666"},{position:1,color:"#666"}],opacity:1},x:{color:"#fff",opacity:.95},border:{color:"#676767",opacity:1}},hover:{background:{color:[{position:0,color:"#868686"},{position:.48,color:"#7f7f7f"},{position:.52,color:"#757575"},{position:1,color:"#757575"}],opacity:1},x:{color:"#fff",opacity:1},border:{color:"#767676",opacity:1}}}}},eval(function(e,t,n,i,r,o){if(r=function(e){return(t>e?"":r(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;n--;)o[r(n)]=i[n]||r(n);i=[function(e){return o[e]}],r=function(){return"\\w+"},n=1}for(;n--;)i[n]&&(e=e.replace(new RegExp("\\b"+r(n)+"\\b","g"),i[n]));return e}('(13(e){13 n(e,t){1b n=[e,t];1c n.15=e,n.17=t,n}13 r(e){12.1j=e}13 i(e){1b t={},n;21(n 5g e)t[n]=e[n]+"2t";1c t}13 s(e){1c 2C*e/1d.2Z}13 o(e){1c e*1d.2Z/2C}13 u(t){1h(t){12.1j=t,A.1D(t);1b n=12.2c();12.1a=e.1m({},n.1a),12.2u=1,12.1r={},12.1R=e(t).20("2o-1R"),A.30(12),12.22=12.1a.1s.1x,12.7V=12.1a.1o&&12.22,12.1O()}}13 a(t,n,r){(12.1j=t)&&n&&(12.1a=e.1m({31:3,1F:{x:0,y:0},1P:"#4o",1K:.5,2L:1},r||{}),12.2u=12.1a.2L,12.1r={},12.1R=e(t).20("2o-1R"),O.30(12),12.1O())}13 f(t,n){1h(12.1j=t)12.1a=e.1m({31:5,1F:{x:0,y:0},1P:"#4o",1K:.5,2L:1},n||{}),12.2u=12.1a.2L,12.1R=e(t).20("2o-1R"),M.30(12),12.1O()}13 l(t,n){21(1b r 5g n)n[r]&&n[r].3x&&n[r].3x===5h?(t[r]=e.1m({},t[r])||{},l(t[r],n[r])):t[r]=n[r];1c t}13 c(t,n,r){1h(12.1j=t){1b i=e(t).20("2o-1R");i&&I.1D(t),i=b(),e(t).20("2o-1R",i),12.1R=i,"7W"==e.1t(n)&&!p.2k(n)?(r=n,n=1C):r=r||{},12.1a=I.6b(r),r=t.6c("5i"),n||((i=t.6c("20-2o"))?n=i:r&&(n=r)),r&&(e(t).20("5j",r),t.7X("5i","")),12.2M=n,12.2j=12.1a.2j||+I.1a.4p,12.1r={3a:{14:1,19:1},5k:[],3b:[],2p:{4q:!1,2v:!1,1M:!1,3k:!1,1O:!1,4r:!1,5l:!1,3y:!1},5m:""},t=12.1a.1E,12.1E="2N"==t?"2N":"4s"==t||!t?12.1j:t&&1y.6d(t)||12.1j,12.6e(),I.30(12)}}1b t,h=6f.3z.7Y,p={7Z:13(t,n){1c 13(){1b r=[e.1w(t,12)].6g(h.5n(5o));1c n.5p(12,r)}},2k:13(e){1c e&&1==e.80},4t:13(e,t){1b n=h.5n(5o,2);1c 81(13(){1c e.5p(e,n)},t)},3T:13(e){1c p.4t.5p(12,[e,1].6g(h.5n(5o,1)))},5q:13(e){1c{x:e.5r,y:e.6h}},1j:{4u:13(e){1b t=0,r=0;82 t+=e.4v||0,r+=e.4w||0,e=e.4x;83(e);1c n(r,t)},4y:13(t){1b r=e(t).1F(),t=p.1j.4u(t),i=e(1S).4v(),s=e(1S).4w();1c r.15+=t.15-s,r.17+=t.17-i,n(r.15,r.17)},5s:13(e){21(;e&&e.4x;)e=e.4x;1c!!e&&!!e.3c}}},d=84.85,v=13(e){1c(e=6i(e+"([\\\\d.]+)").86(d))?6j(e[1]):!0};t=!!1S.87&&-1===d.3l("6k")&&v("88 "),-1<d.3l("6k")&&1S.5t&&5t.6l&&6j(5t.6l()),-1<d.3l("6m/")&&v("6m/"),-1<d.3l("89")&&-1===d.3l("8a")&&v("8b:"),d.3d(/8c.*8d.*8e/),-1<d.3l("6n")&&v("6n/");1b m=13(e){21(1b t=(e=e.3d(g))&&e[1]&&e[1].2O(".")||[],n=0,r=0,i=t.23;r<i;r++)n+=2P(t[r]*1d.4z(10,6-2*r));1c e&&e[3]?n-1:n},g=/^(\\d+(\\.?\\d+){0,3})([A-6o-8f-]+[A-6o-8g-9]+)?/,y={32:{3U:{5u:"1.4.4",5v:1S.3U&&3U.8h.8i}},6p:13(e){!12.32[e].6q&&(12.32[e].6q=!0,!12.32[e].5v||m(12.32[e].5v)<m(12.32[e].5u)&&!12.32[e].6r)&&((12.32[e].6r=!0,e="1V 6s "+e+" >= "+12.32[e].5u,1S.5w)?5w[5w.6t?"6t":"8j"](e):6u(e))}},b,w=0;b=13(e){e=e||"8k";21(w++;1y.6d(e+w);)w++;1c e+w},e.1m(1V,{33:{3e:13(){1b e=1y.24("3e");1c!!e.3A&&!!e.3A("2d")}(),4A:13(){6v{1c!!("8l"5g 1S||1S.6w&&1y 8m 6w)}6x(e){1c!1}}(),3V:13(){1b t=!1;1c e.1z(["8n","8o","8p"],13(e,n){6v{1y.8q(n),t=!0}6x(r){}}),t}()},3m:13(){1h(!12.33.3e&&!1S.3W){1h(!t)1c;6u("1V 6s 8r (8s.8t)")}y.6p("3U"),e(1y).6y(13(){I.6z()})},4B:13(e,t,n){1c r.4B(e,t,n),12.1v(e)},1v:13(e){1c 3n r(e)},5x:13(e){1c I.5x(e)},1T:13(e){1c 12.1v(e).1T(),12},1J:13(e){1c 12.1v(e).1J(),12},34:13(e){1c 12.1v(e).34(),12},2Q:13(e){1c 12.1v(e).2Q(),12},1D:13(e){1c 12.1v(e).1D(),12},4C:13(){1c I.4C(),12},5y:13(e){1c I.5y(e),12},5z:13(e){1c I.5z(e),12},1M:13(t){1h(p.2k(t))1c I.5A(t);1h("5B"!=e.1t(t)){1b t=e(t),n=0;1c e.1z(t,13(e,t){I.5A(t)&&n++}),n}1c I.3B().23}}),e.1m(r,{4B:13(t,n,r){1h(t){1b i=r||{},s=[];1c I.6A(),p.2k(t)?s.2R(3n c(t,n,i)):e(t).1z(13(e,t){s.2R(3n c(t,n,i))}),s}}}),e.1m(r.3z,{3X:13(){1c I.2w.4D={x:0,y:0},I.1v(12.1j)},1T:13(){1c e.1z(12.3X(),13(e,t){t.1T()}),12},1J:13(){1c e.1z(12.3X(),13(e,t){t.1J()}),12},34:13(){1c e.1z(12.3X(),13(e,t){t.34()}),12},2Q:13(){1c e.1z(12.3X(),13(e,t){t.2Q()}),12},1D:13(){1c I.1D(12.1j),12}}),v=1S.3W&&!1V.33.3e&&t?13(e){3W.8u(e)}:13(){};1b E={3m:v,6B:13(t,n){1b r=e.1m({17:0,15:0,14:0,19:0,1p:0},n||{}),i=r.15,s=r.17,u=r.14,a=r.19;(r=r.1p)?(t.2e(),t.3o(i+r,s),t.29(i+u-r,s+r,r,o(-90),o(0),!1),t.29(i+u-r,s+a-r,r,o(0),o(90),!1),t.29(i+r,s+a-r,r,o(90),o(2C),!1),t.29(i+r,s+r,r,o(-2C),o(-90),!1),t.2f(),t.35()):t.6C(i,s,u,a)},8v:13(t,n,r){21(1b r=e.1m({x:0,y:0,1P:"#4o"},r||{}),i=0,s=n.23;i<s;i++)21(1b o=0,u=n[i].23;o<u;o++){1b a=2P(n[i].3p(o))*(1/9);t.2S=N.2T(r.1P,a),a&&t.6C(r.x+o,r.y+i,1,1)}},3Y:13(t,n,r){1b i;1c"2q"==e.1t(n)?i=N.2T(n):"2q"==e.1t(n.1P)?i=N.2T(n.1P,"2x"==e.1t(n.1K)?n.1K:1):e.6D(n.1P)&&(r=e.1m({3C:0,3D:0,3E:0,3F:0},r||{}),i=E.6E.6F(t.8w(r.3C,r.3D,r.3E,r.3F),n.1P,n.1K)),i},6E:{6F:13(t,n,r){21(1b r="2x"==e.1t(r)?r:1,i=0,s=n.23;i<s;i++){1b o=n[i];1h("5B"==e.1t(o.1K)||"2x"!=e.1t(o.1K))o.1K=1;t.8x(o.1e,N.2T(o.1P,o.1K*r))}1c t}}},S={17:"19",15:"14",1W:"19",1X:"14"},x={3Z:"3G 40 3H 3I 41 42 43 44 46 47 48 3J".2O(" "),49:{6G:/^(17|15|1W|1X)(17|15|1W|1X|2U|2V)$/,1U:/^(17|1W)/,36:/(2U|2V)/,6H:/^(17|1W|15|1X)/},6I:13(e){1c S[e]},36:13(e){1c!!e.3q().3d(12.49.36)},6J:13(e){1c!12.36(e)},2D:13(e){1c e.3q().3d(12.49.1U)?"1U":"2E"},5C:13(e){1b t=1C;1c(e=e.3q().3d(12.49.6H))&&e[1]&&(t=e[1]),t},2O:13(e){1c e.3q().3d(12.49.6G)}},T={5D:13(e){1c e=e.1a.1o,{14:e.14,19:e.19}},4a:13(t,n,r){1c r=e.1m({3K:"1G"},r||{}),t=t.1a.1o,n=12.4E(t.14,t.19,n),r.3K&&(n.14=1d[r.3K](n.14),n.19=1d[r.3K](n.19)),{14:n.14,19:n.19}},4E:13(e,t,n){1b r=2C-s(1d.6K(.5*(t/e))),n=1d.4F(o(r-90))*n,n=e+2*n;1c{14:n,19:n*t/e}},3L:13(e,t){1b n=12.4a(e,t),r=12.5D(e);x.36(e.22);1b i=1d.1G(n.19+t);1c{3f:{1g:{14:1d.1G(n.14),19:1d.1G(i)}},1l:{1g:n},1o:{1g:{14:r.14,19:r.19}}}},5E:13(t,n,r){1b i=t.1a,s={17:0,15:0},o={17:0,15:0},u=e.1m({},n),a=t.1l,f=f||12.3L(t,t.1l),l=f.3f.1g;r&&(l.19=r,a=0);1h(t.1a.1o){1b c=x.5C(t.22);"17"==c?s.17=l.19-a:"15"==c&&(s.15=l.19-a);1b r=x.2O(t.22),h=x.2D(t.22);1h("1U"==h){1Q(r[2]){1i"2U":1i"2V":o.15=.5*u.14;1B;1i"1X":o.15=u.14}"1W"==r[1]&&(o.17=u.19-a+l.19)}26{1Q(r[2]){1i"2U":1i"2V":o.17=.5*u.19;1B;1i"1W":o.17=u.19}"1X"==r[1]&&(o.15=u.14-a+l.19)}u[x.6I(c)]+=l.19-a}26 1h(r=x.2O(t.22),h=x.2D(t.22),"1U"==h){1Q(r[2]){1i"2U":1i"2V":o.15=.5*u.14;1B;1i"1X":o.15=u.14}"1W"==r[1]&&(o.17=u.19)}26{1Q(r[2]){1i"2U":1i"2V":o.17=.5*u.19;1B;1i"1W":o.17=u.19}"1X"==r[1]&&(o.15=u.14)}c=i.1p&&i.1p.2y||0,a=i.1l&&i.1l.2y||0;1h(t.1a.1o){1b p=i.1o&&i.1o.1F||{x:0,y:0},t=c&&"1n"==i.1p.1e?c:0,c=c&&"1l"==i.1p.1e?c:c+a,d=a+t+.5*f.1o.1g.14-.5*f.1l.1g.14,f=1d.1G(a+t+.5*f.1o.1g.14+(c>d?c-d:0));1h("1U"==h)1Q(r[2]){1i"15":o.15+=f;1B;1i"1X":o.15-=f}26 1Q(r[2]){1i"17":o.17+=f;1B;1i"1W":o.17-=f}}1h(i.1o&&(p=i.1o.1F))1h("1U"==h)1Q(r[2]){1i"15":o.15+=p.x;1B;1i"1X":o.15-=p.x}26 1Q(r[2]){1i"17":o.17+=p.y;1B;1i"1W":o.17-=p.y}1b v;1h(i.1o&&(v=i.1o.8y))1h("1U"==h)1Q(r[1]){1i"17":o.17-=v;1B;1i"1W":o.17+=v}26 1Q(r[1]){1i"15":o.15-=v;1B;1i"1X":o.15+=v}1c{1g:u,1e:{17:0,15:0},1n:{1e:s,1g:n},1o:{1g:l},2l:o}}},N,C=13(e){1c e.6L=e[0],e.6M=e[1],e.6N=e[2],e},k=13(e){1b t=6f(3);0==e.3l("#")&&(e=e.4G(1)),e=e.3q();1h(""!=e.8z(L,""))1c 1C;3==e.23?(t[0]=e.3p(0)+e.3p(0),t[1]=e.3p(1)+e.3p(1),t[2]=e.3p(2)+e.3p(2)):(t[0]=e.4G(0,2),t[1]=e.4G(2,4),t[2]=e.4G(4));21(e=0;e<t.23;e++)t[e]=2P(t[e],16);1c C(t)},L=6i("[8A]","g");N={8B:k,2T:13(t,n){"5B"==e.1t(n)&&(n=1);1b r=n,i=k(t);1c i[3]=r,i.1K=r,"8C("+i.8D()+")"},8E:13(e){1b e=k(e),e=C(e),t=e.6L,n=e.6M,r=e.6N,i,s=t>n?t:n;r>s&&(s=r);1b o=t<n?t:n;r<o&&(o=r),i=s/8F,e=0!=s?(s-o)/s:0;1h(0==e)t=0;26{1b u=(s-t)/(s-o),a=(s-n)/(s-o),r=(s-r)/(s-o),t=(t==s?r-a:n==s?2+u-r:4+a-u)/6;0>t&&(t+=1)}1c t=1d.27(6O*t),e=1d.27(5F*e),i=1d.27(5F*i),n=[],n[0]=t,n[1]=e,n[2]=i,n.8G=t,n.8H=e,n.8I=i,"#"+(50<n[2]?"4o":"8J")}};1b A={4H:{},1v:13(t){1h(!t)1c 1C;1b n=1C;1c(t=e(t).20("2o-1R"))&&(n=12.4H[t]),n},30:13(e){12.4H[e.1R]=e},1D:13(e){1h(e=12.1v(e))4b 12.4H[e.1R],e.1D()}};e.1m(u.3z,{4I:13(){1b e=12.2c();12.3a=e.1r.3a,e=e.1a,12.1p=e.1p&&e.1p.2y||0,12.1l=e.1l&&e.1l.2y||0,12.2m=e.2m,e=1d.5G(12.3a.19,12.3a.14),12.1p>e/2&&(12.1p=1d.5H(e/2)),"1l"==12.1a.1p.1e&&12.1p>12.1l&&(12.1l=12.1p),12.1r={1a:{1p:12.1p,1l:12.1l,2m:12.2m}}},6P:13(){12.1r.1s={};1b t=12.22;e.1z(x.3Z,e.1w(13(t,n){1b r,i=12.1r.1s[n]={};12.22=n,r=12.2n(),i.2l=r.2l,i.1H={1g:r.1H.1g,1e:{17:r.1H.1e.17,15:r.1H.1e.15}},i.1x={1g:r.2a.1g};1h(12.1u){r=12.1u.2n();1b s=r.2a.1e,o=i.1H.1e;e.1m(!0,i,{2l:r.2l,1H:{1e:{17:o.17+s.17,15:o.15+s.15}},1x:{1g:r.1x.1g}})}},12)),12.22=t},1O:13(){12.37(),1S.3W&&1S.3W.8K(1y);1b n=12.2c(),r=12.1a;12.1H=e("<2g>").1Y("8L")[0],e(n.4J).1Z(12.1H),12.4I(),12.6Q(n),r.1A&&(12.6R(n),r.1A.1u&&(12.2W?(12.2W.1a=r.1A.1u,12.2W.1O()):12.2W=3n f(12.1j,e.1m({2L:12.2u},r.1A.1u)))),t&&7>t&&e(n.1k).5I(12.2X=e("<8M>").1Y("8N").2F({8O:0,4c:"8P:\'\';"})),12.4K(),r.1u&&(12.1u?(12.1u.1a=r.1u,12.1u.1O()):12.1u=3n a(12.1j,12,e.1m({2L:12.2u},r.1u))),12.6P()},1D:13(){12.37(),12.1a.1u&&(O.1D(12.1j),12.1a.1A&&12.1a.1A.1u&&M.1D(12.1j)),12.2X&&(12.2X.1D(),12.2X=1C),12.1k&&(e(12.1k).1D(),12.1k=1C)},37:13(){12.1H&&(12.1A&&(e(12.1A).1D(),12.5J=12.5K=12.1A=1C),e(12.1H).1D(),12.1H=12.1n=12.1o=1C,12.1r={})},2c:13(){1c I.1v(12.1j)[0]},2Q:13(){1b t=12.2c(),n=e(t.1k),r=e(t.1k).5L(".6S").6T()[0];1h(r){e(r).1q({14:"5M",19:"5M"});1b i=2P(n.1q("17")),s=2P(n.1q("15")),o=2P(n.1q("14"));n.1q({15:"-6U",17:"-6U",14:"8Q",19:"5M"}),t.1I("1M")||e(t.1k).1T();1b u=I.4L.5N(r);t.1a.3g&&"2x"==e.1t(t.1a.3g)&&u.14>t.1a.3g&&(e(r).1q({14:t.1a.3g+"2t"}),u=I.4L.5N(r)),t.1I("1M")||e(t.1k).1J(),t.1r.3a=u,n.1q({15:s+"2t",17:i+"2t",14:o+"2t"}),12.1O()}},4d:13(e){12.22!=e&&(12.22=e,12.1O())},6R:13(t){1b n=t.1a.1A,n={14:n.3r+2*n.1l,19:n.3r+2*n.1l};e(t.1k).1Z(e(12.1A=1y.24("2g")).1Y("6V").1q(i(n)).1Z(e(12.6W=1y.24("2g")).1Y("8R").1q(i(n)))),12.5O(t,"5P"),12.5O(t,"5Q"),1V.33.4A||e(12.1A).3M("4e",e.1w(12.6X,12)).3M("4M",e.1w(12.6Y,12))},5O:13(t,n){1b r=t.1a.1A,s=r.3r,u=r.1l||0,a=r.x.3r,f=r.x.2y,l=r.2p[n||"5P"],c={14:s+2*u,19:s+2*u};a>=s&&(a=s-2);1b h;e(12.6W).1Z(e(12[n+"6Z"]=1y.24("2g")).1Y("8S").1q(e.1m(i(c),{15:("5Q"==n?c.14:0)+"2t"}))),e(1y.3c).1Z(e(h=1y.24("3e")).2F(c)),E.3m(h),r=h.3A("2d"),r.2L=12.2u,e(12[n+"6Z"]).1Z(h),r.8T(c.14/2,c.19/2),r.2S=E.3Y(r,l.1n,{3C:0,3D:0-s/2,3E:0,3F:0+s/2}),r.2e(),r.29(0,0,s/2,0,2*1d.2Z,!0),r.2f(),r.35(),u&&(r.2S=E.3Y(r,l.1l,{3C:0,3D:0-s/2-u,3E:0,3F:0+s/2+u}),r.2e(),r.29(0,0,s/2,1d.2Z,0,!1),r.1f((s+u)/2,0),r.29(0,0,s/2+u,0,1d.2Z,!0),r.29(0,0,s/2+u,1d.2Z,0,!0),r.1f(s/2,0),r.29(0,0,s/2,0,1d.2Z,!1),r.2f(),r.35()),s=a/2,f/=2,f>s&&(u=f,f=s,s=u),r.2S=N.2T(l.x.1P||l.x,l.x.1K||1),r.4N(o(45)),r.2e(),r.3o(0,0),r.1f(0,s);21(l=0;4>l;l++)r.1f(0,s),r.1f(f,s),r.1f(f,s-(s-f)),r.1f(s,f),r.1f(s,0),r.4N(o(90));r.2f(),r.35()},6Q:13(t){1b n=12.2n(),r=12.1a.1o&&12.4f(),i=12.22&&12.22.3q(),s=12.1p,o=12.1l,t=t.1a.1o&&t.1a.1o.1F||{x:0,y:0},u=0,a=0;s&&(u="1n"==12.1a.1p.1e?s:0,a="1l"==12.1a.1p.1e?s:u+o),e(1y.3c).1Z(12.38=1y.24("3e")),e(12.38).2F(n.1H.1g),E.3m(12.38),s=12.38.3A("2d"),s.2L=12.2u,e(12.1H).1Z(12.38),s.2S=E.3Y(s,12.1a.1n,{3C:0,3D:n.1n.1e.17+o,3E:0,3F:n.1n.1e.17+n.1n.1g.19-o}),s.8U=0,12.5R(s,{2e:!0,2f:!0,1l:o,1p:u,4O:a,3s:n,3t:r,1o:12.1a.1o,3u:i,3v:t}),s.35();1h(o){1b f=E.3Y(s,12.1a.1l,{3C:0,3D:n.1n.1e.17,3E:0,3F:n.1n.1e.17+n.1n.1g.19});s.2S=f,12.5R(s,{2e:!0,2f:!1,1l:o,1p:u,4O:a,3s:n,3t:r,1o:12.1a.1o,3u:i,3v:t}),12.70(s,{2e:!1,2f:!0,1l:o,71:u,1p:{2y:a,1e:12.1a.1p.1e},3s:n,3t:r,1o:12.1a.1o,3u:i,3v:t}),s.35()}},5R:13(t,n){1b r=e.1m({1o:!1,3u:1C,2e:!1,2f:!1,3s:1C,3t:1C,1p:0,1l:0,4O:0,3v:{x:0,y:0}},n||{}),i=r.3s,s=r.3t,u=r.3v,a=r.1l,f=r.1p,l=r.3u,c=i.1n.1e,i=i.1n.1g,h,p,d;s&&(h=s.1o.1g,p=s.3f.1g,d=r.4O,s=a+f+.5*h.14-.5*s.1l.1g.14,d=1d.1G(d>s?d-s:0));1b v,s=f?c.15+a+f:c.15+a;v=c.17+a,u&&u.x&&/^(3G|3J)$/.4P(l)&&(s+=u.x),r.2e&&t.2e(),t.3o(s,v);1h(r.1o)1Q(l){1i"3G":s=c.15+a,f&&(s+=f),s+=1d.1N(d,u.x||0),t.1f(s,v),v-=h.19,s+=.5*h.14,t.1f(s,v),v+=h.19,s+=.5*h.14,t.1f(s,v);1B;1i"40":1i"4Q":s=c.15+.5*i.14-.5*h.14,t.1f(s,v),v-=h.19,s+=.5*h.14,t.1f(s,v),v+=h.19,s+=.5*h.14,t.1f(s,v),s=c.15+.5*i.14-.5*p.14,t.1f(s,v);1B;1i"3H":s=c.15+i.14-a-h.14,f&&(s-=f),s-=1d.1N(d,u.x||0),t.1f(s,v),v-=h.19,s+=.5*h.14,t.1f(s,v),v+=h.19,s+=.5*h.14,t.1f(s,v)}f?f&&(t.29(c.15+i.14-a-f,c.17+a+f,f,o(-90),o(0),!1),s=c.15+i.14-a,v=c.17+a+f):(s=c.15+i.14-a,v=c.17+a,t.1f(s,v));1h(r.1o)1Q(l){1i"3I":v=c.17+a,f&&(v+=f),v+=1d.1N(d,u.y||0),t.1f(s,v),s+=h.19,v+=.5*h.14,t.1f(s,v),s-=h.19,v+=.5*h.14,t.1f(s,v);1B;1i"41":1i"4R":v=c.17+.5*i.19-.5*h.14,t.1f(s,v),s+=h.19,v+=.5*h.14,t.1f(s,v),s-=h.19,v+=.5*h.14,t.1f(s,v);1B;1i"42":v=c.17+i.19-a,f&&(v-=f),v-=h.14,v-=1d.1N(d,u.y||0),t.1f(s,v),s+=h.19,v+=.5*h.14,t.1f(s,v),s-=h.19,v+=.5*h.14,t.1f(s,v)}f?f&&(t.29(c.15+i.14-a-f,c.17+i.19-a-f,f,o(0),o(90),!1),s=c.15+i.14-a-f,v=c.17+i.19-a):(s=c.15+i.14-a,v=c.17+i.19-a,t.1f(s,v));1h(r.1o)1Q(l){1i"43":s=c.15+i.14-a,f&&(s-=f),s-=1d.1N(d,u.x||0),t.1f(s,v),s-=.5*h.14,v+=h.19,t.1f(s,v),s-=.5*h.14,v-=h.19,t.1f(s,v);1B;1i"44":1i"4S":s=c.15+.5*i.14+.5*h.14,t.1f(s,v),s-=.5*h.14,v+=h.19,t.1f(s,v),s-=.5*h.14,v-=h.19,t.1f(s,v);1B;1i"46":s=c.15+a+h.14,f&&(s+=f),s+=1d.1N(d,u.x||0),t.1f(s,v),s-=.5*h.14,v+=h.19,t.1f(s,v),s-=.5*h.14,v-=h.19,t.1f(s,v)}f?f&&(t.29(c.15+a+f,c.17+i.19-a-f,f,o(90),o(2C),!1),s=c.15+a,v=c.17+i.19-a-f):(s=c.15+a,v=c.17+i.19-a,t.1f(s,v));1h(r.1o)1Q(l){1i"47":v=c.17+i.19-a,f&&(v-=f),v-=1d.1N(d,u.y||0),t.1f(s,v),s-=h.19,v-=.5*h.14,t.1f(s,v),s+=h.19,v-=.5*h.14,t.1f(s,v);1B;1i"48":1i"4T":v=c.17+.5*i.19+.5*h.14,t.1f(s,v),s-=h.19,v-=.5*h.14,t.1f(s,v),s+=h.19,v-=.5*h.14,t.1f(s,v);1B;1i"3J":v=c.17+a+h.14,f&&(v+=f),v+=1d.1N(d,u.y||0),t.1f(s,v),s-=h.19,v-=.5*h.14,t.1f(s,v),s+=h.19,v-=.5*h.14,t.1f(s,v)}1c f?f&&(t.29(c.15+a+f,c.17+a+f,f,o(-2C),o(-90),!1),s=c.15+a+f,v=c.17+a,s+=1,t.1f(s,v)):(s=c.15+a,v=c.17+a,t.1f(s,v)),r.2f&&t.2f(),{x:s,y:v}},70:13(t,n){1b r=e.1m({1o:!1,3u:1C,2e:!1,2f:!1,3s:1C,3t:1C,1p:0,1l:0,8V:0,3v:{x:0,y:0}},n||{}),i=r.3s,s=r.3t,u=r.3v,a=r.1l,f=r.1p&&r.1p.2y||0,l=r.71,c=r.3u,h=i.1n.1e,i=i.1n.1g,p,d,v;s&&(p=s.1o.1g,d=s.1l.1g,v=a+l+.5*p.14-.5*d.14,v=1d.1G(f>v?f-v:0));1b s=h.15+a+l,m=h.17+a;l&&(s+=1),e.1m({},{x:s,y:m}),r.2e&&t.2e();1b g=e.1m({},{x:s,y:m}),m=m-a;t.1f(s,m),f?f&&(t.29(h.15+f,h.17+f,f,o(-90),o(-2C),!0),s=h.15,m=h.17+f):(s=h.15,m=h.17,t.1f(s,m));1h(r.1o)1Q(c){1i"3J":m=h.17+a,l&&(m+=l),m-=.5*d.14,m+=.5*p.14,m+=1d.1N(v,u.y||0),t.1f(s,m),s-=d.19,m+=.5*d.14,t.1f(s,m),s+=d.19,m+=.5*d.14,t.1f(s,m);1B;1i"48":1i"4T":m=h.17+.5*i.19-.5*d.14,t.1f(s,m),s-=d.19,m+=.5*d.14,t.1f(s,m),s+=d.19,m+=.5*d.14,t.1f(s,m);1B;1i"47":m=h.17+i.19-a-d.14,l&&(m-=l),m+=.5*d.14,m-=.5*p.14,m-=1d.1N(v,u.y||0),t.1f(s,m),s-=d.19,m+=.5*d.14,t.1f(s,m),s+=d.19,m+=.5*d.14,t.1f(s,m)}f?f&&(t.29(h.15+f,h.17+i.19-f,f,o(-2C),o(-8W),!0),s=h.15+f,m=h.17+i.19):(s=h.15,m=h.17+i.19,t.1f(s,m));1h(r.1o)1Q(c){1i"46":s=h.15+a,l&&(s+=l),s-=.5*d.14,s+=.5*p.14,s+=1d.1N(v,u.x||0),t.1f(s,m),m+=d.19,s+=.5*d.14,t.1f(s,m),m-=d.19,s+=.5*d.14,t.1f(s,m);1B;1i"44":1i"4S":s=h.15+.5*i.14-.5*d.14,t.1f(s,m),m+=d.19,s+=.5*d.14,t.1f(s,m),m-=d.19,s+=.5*d.14,t.1f(s,m),s=h.15+.5*i.14+d.14,t.1f(s,m);1B;1i"43":s=h.15+i.14-a-d.14,l&&(s-=l),s+=.5*d.14,s-=.5*p.14,s-=1d.1N(v,u.x||0),t.1f(s,m),m+=d.19,s+=.5*d.14,t.1f(s,m),m-=d.19,s+=.5*d.14,t.1f(s,m)}f?f&&(t.29(h.15+i.14-f,h.17+i.19-f,f,o(90),o(0),!0),s=h.15+i.14,m=h.17+i.14+f):(s=h.15+i.14,m=h.17+i.19,t.1f(s,m));1h(r.1o)1Q(c){1i"42":m=h.17+i.19-a,m+=.5*d.14,m-=.5*p.14,l&&(m-=l),m-=1d.1N(v,u.y||0),t.1f(s,m),s+=d.19,m-=.5*d.14,t.1f(s,m),s-=d.19,m-=.5*d.14,t.1f(s,m);1B;1i"41":1i"4R":m=h.17+.5*i.19+.5*d.14,t.1f(s,m),s+=d.19,m-=.5*d.14,t.1f(s,m),s-=d.19,m-=.5*d.14,t.1f(s,m);1B;1i"3I":m=h.17+a,l&&(m+=l),m+=d.14,m-=.5*d.14-.5*p.14,m+=1d.1N(v,u.y||0),t.1f(s,m),s+=d.19,m-=.5*d.14,t.1f(s,m),s-=d.19,m-=.5*d.14,t.1f(s,m)}f?f&&(t.29(h.15+i.14-f,h.17+f,f,o(0),o(-90),!0),m=h.17):(s=h.15+i.14,m=h.17,t.1f(s,m));1h(r.1o)1Q(c){1i"3H":s=h.15+i.14-a,s+=.5*d.14-.5*p.14,l&&(s-=l),s-=1d.1N(v,u.x||0),t.1f(s,m),m-=d.19,s-=.5*d.14,t.1f(s,m),m+=d.19,s-=.5*d.14,t.1f(s,m);1B;1i"40":1i"4Q":s=h.15+.5*i.14+.5*d.14,t.1f(s,m),m-=d.19,s-=.5*d.14,t.1f(s,m),m+=d.19,s-=.5*d.14,t.1f(s,m),s=h.15+.5*i.14-d.14,t.1f(s,m),t.1f(s,m);1B;1i"3G":s=h.15+a+d.14,s-=.5*d.14,s+=.5*p.14,l&&(s+=l),s+=1d.1N(v,u.x||0),t.1f(s,m),m-=d.19,s-=.5*d.14,t.1f(s,m),m+=d.19,s-=.5*d.14,t.1f(s,m)}t.1f(g.x,g.y-a),t.1f(g.x,g.y),r.2f&&t.2f()},6X:13(){1b t=12.2c().1a.1A,t=t.3r+2*t.1l;e(12.5K).1q({15:-1*t+"2t"}),e(12.5J).1q({15:0})},6Y:13(){1b t=12.2c().1a.1A,t=t.3r+2*t.1l;e(12.5K).1q({15:0}),e(12.5J).1q({15:t+"2t"})},4f:13(){1c T.3L(12,12.1l)},2n:13(){1b e,t,n,r,i,s,u=12.2c(),a=12.3a,f=u.1a,l=12.1p,c=12.1l,u=12.2m,a={14:2*c+2*u+a.14,19:2*c+2*u+a.19};12.1a.1o&&12.4f();1b h=T.5E(12,a),u=h.1g,p=h.1e,a=h.1n.1g,d=h.1n.1e,v=0,m=0,g=u.14,y=u.19;1c f.1A&&(i=l,"1n"==f.1p.1e&&(i+=c),v=i-1d.8X(o(45))*i,c="1X",12.22.3q().3d(/^(3H|3I)$/)&&(c="15"),s=i=f=f.1A.3r+2*f.1A.1l,m=d.15-f/2+("15"==c?v:a.14-v),v=d.17-f/2+v,"15"==c?0>m&&(f=1d.2z(m),g+=f,p.15+=f,m=0):(f=m+f-g,0<f&&(g+=f)),0>v&&(f=1d.2z(v),y+=f,p.17+=f,v=0),12.1a.1A.1u)&&(e=12.1a.1A.1u,t=e.31,f=e.1F,n=i+2*t,r=s+2*t,e=v-t+f.y,t=m-t+f.x,"15"==c?0>t&&(f=1d.2z(t),g+=f,p.15+=f,m+=f,t=0):(f=t+n-g,0<f&&(g+=f)),0>e)&&(f=1d.2z(e),y+=f,p.17+=f,v+=f,e=0),h=h.2l,h.17+=p.17,h.15+=p.15,c={15:1d.1G(p.15+d.15+12.1l+12.1a.2m),17:1d.1G(p.17+d.17+12.1l+12.1a.2m)},a={1x:{1g:{14:1d.1G(g),19:1d.1G(y)}},2a:{1g:{14:1d.1G(g),19:1d.1G(y)}},1H:{1g:u,1e:{17:1d.27(p.17),15:1d.27(p.15)}},1n:{1g:{14:1d.1G(a.14),19:1d.1G(a.19)},1e:{17:1d.27(d.17),15:1d.27(d.15)}},2l:{17:1d.27(h.17),15:1d.27(h.15)},2M:{1e:c}},12.1a.1A&&(a.1A={1g:{14:1d.1G(i),19:1d.1G(s)},1e:{17:1d.27(v),15:1d.27(m)}},12.1a.1A.1u&&(a.2W={1g:{14:1d.1G(n),19:1d.1G(r)},1e:{17:1d.27(e),15:1d.27(t)}})),a},4K:13(){1b t=12.2n(),n=12.2c();e(n.1k).1q(i(t.1x.1g)),e(n.4J).1q(i(t.2a.1g)),12.2X&&12.2X.1q(i(t.1x.1g)),e(12.1H).1q(e.1m(i(t.1H.1g),i(t.1H.1e))),12.1A&&(e(12.1A).1q(i(t.1A.1e)),t.2W&&e(12.2W.1k).1q(i(t.2W.1e))),e(n.3h).1q(i(t.2M.1e))},72:13(e){12.2u=e||0,12.1u&&(12.1u.2u=12.2u)},8Y:13(e){12.72(e),12.1O()}});1b O={3i:{},1v:13(t){1h(!t)1c 1C;1b n=1C;1c(t=e(t).20("2o-1R"))&&(n=12.3i[t]),n},30:13(e){12.3i[e.1R]=e},1D:13(e){1h(e=12.1v(e))4b 12.3i[e.1R],e.1D()},4g:13(e){1c 1d.2Z/2-1d.4z(e,1d.4F(e)*1d.2Z)},4h:{4a:13(e,t){1b n=A.1v(e.1j).4f().1l.1g,n=12.4E(n.14,n.19,t,{3K:!1});1c{14:n.14,19:n.19}},8Z:13(e,t,n){1b r=.5*e,i=2C-s(1d.91(r/1d.73(r*r+t*t)))-90,i=o(i),n=1/1d.4F(i)*n,r=2*(r+n);1c{14:r,19:r/e*t}},4E:13(e,t,n){1b r=2C-s(1d.6K(.5*(t/e))),n=1d.4F(o(r-90))*n,n=e+2*n;1c{14:n,19:n*t/e}},3L:13(t){1b n=A.1v(t.1j),r=t.1a.31,i=x.6J(n.22);x.2D(n.22),n=O.4h.4a(t,r),n={3f:{1g:{14:1d.1G(n.14),19:1d.1G(n.19)},1e:{17:0,15:0}}};1h(r){n.2Y=[];21(1b s=0;s<=r;s++){1b o=O.4h.4a(t,s,{3K:!1});n.2Y.2R({1e:{17:n.3f.1g.19-o.19,15:i?r-s:(n.3f.1g.14-o.14)/2},1g:o})}}26 n.2Y=[e.1m({},n.3f)];1c n},4N:13(e,t,n){T.4N(e,t.3j(),n)}}};e.1m(a.3z,{4I:13(){},1D:13(){12.37()},37:13(){12.1k&&(e(12.1k).1D(),12.1k=12.1H=12.1n=12.1o=1C,12.1r={})},1O:13(){12.37(),12.4I();1b t=12.2c(),n=12.3j();12.1k=e("<2g>").1Y("92")[0],e(t.1k).5I(12.1k),n.2X&&e(t.1k).5I(n.2X),n.2n(),e(12.1k).1q({17:0,15:0}),12.74(),12.4K()},2c:13(){1c I.1v(12.1j)[0]},3j:13(){1c A.1v(12.1j)},2n:13(){1b t=12.3j(),n=t.2n();12.2c();1b r=12.1a.31,i=e.1m({},n.1n.1g);i.14+=2*r,i.19+=2*r;1b s;t.1a.1o&&(s=O.4h.3L(12).3f.1g,s=s.19);1b o=T.5E(t,i,s);s=o.1g;1b u=o.1e,i=o.1n.1g,o=o.1n.1e,a=n.1H.1e,f=n.1n.1e,r={17:a.17+f.17-(o.17+r)+12.1a.1F.y,15:a.15+f.15-(o.15+r)+12.1a.1F.x},a=n.2l,f=n.2a.1g,l={17:0,15:0};1h(0>r.17){1b c=1d.2z(r.17);l.17+=c,r.17=0,a.17+=c}1c 0>r.15&&(c=1d.2z(r.15),l.15+=c,r.15=0,a.15+=c),c={19:1d.1N(s.19+r.17,f.19+l.17),14:1d.1N(s.14+r.15,f.14+l.15)},t={15:1d.1G(l.15+n.1H.1e.15+n.1n.1e.15+t.1l+t.2m),17:1d.1G(l.17+n.1H.1e.17+n.1n.1e.17+t.1l+t.2m)},{1x:{1g:c},2a:{1g:f,1e:l},1k:{1g:s,1e:r},1H:{1g:s,1e:{17:1d.27(u.17),15:1d.27(u.15)}},1n:{1g:{14:1d.1G(i.14),19:1d.1G(i.19)},1e:{17:1d.27(o.17),15:1d.27(o.15)}},2l:a,2M:{1e:t}}},75:13(){1c 12.1a.1K/(12.1a.31+1)},74:13(){1b t=12.3j(),n=t.2n(),r=12.2c(),s=12.2n(),o=12.1a.31,u=O.4h.3L(12),a=t.22,f=x.5C(a),l=o,c=o;1h(r.1a.1o){1b h=u.2Y[u.2Y.23-1];"15"==f&&(c+=1d.1G(h.1g.19)),"17"==f&&(l+=1d.1G(h.1g.19))}1b p=t.1r.1a,h=p.1p,p=p.1l;"1n"==r.1a.1p.1e&&h&&(h+=p),r=s.1H.1g,e(12.1k).1Z(e(12.1H=1y.24("2g")).1Y("93").1q(i(r))).1q(i(r)),e(1y.3c).1Z(e(12.38=1y.24("3e")).2F(s.1H.1g)),E.3m(12.38),s=12.38.3A("2d"),s.2L=12.2u,e(12.1H).1Z(12.38);21(1b r=o+1,d=0;d<=o;d++)s.2S=N.2T(12.1a.1P,O.4g(d*(1/r))*(12.1a.1K/r)),E.6B(s,{14:n.1n.1g.14+2*d,19:n.1n.1g.19+2*d,17:l-d,15:c-d,1p:h+d});1h(t.1a.1o){1b d=u.2Y[0].1g,v=t.1a.1o,o=p+.5*v.14,m=t.1a.1p&&"1n"==t.1a.1p.1e?t.1a.1p.2y||0:0;m&&(o+=m),p=p+m+.5*v.14-.5*d.14,h=1d.1G(h>p?h-p:0),o+=1d.1N(h,t.1a.1o.1F&&t.1a.1o.1F[f&&/^(15|1X)$/.4P(f)?"y":"x"]||0);1h("17"==f||"1W"==f){1Q(a){1i"3G":1i"46":c+=o;1B;1i"40":1i"4Q":1i"44":1i"4S":c+=.5*n.1n.1g.14;1B;1i"3H":1i"43":c+=n.1n.1g.14-o}"1W"==f&&(l+=n.1n.1g.19),d=0;21(t=u.2Y.23;d<t;d++)s.2S=N.2T(12.1a.1P,O.4g(d*(1/r))*(12.1a.1K/r)),o=u.2Y[d],s.2e(),"17"==f?(s.3o(c,l-d),s.1f(c-.5*o.1g.14,l-d),s.1f(c,l-d-o.1g.19),s.1f(c+.5*o.1g.14,l-d)):(s.3o(c,l+d),s.1f(c-.5*o.1g.14,l+d),s.1f(c,l+d+o.1g.19),s.1f(c+.5*o.1g.14,l+d)),s.2f(),s.35()}26{1Q(a){1i"3J":1i"3I":l+=o;1B;1i"48":1i"4T":1i"41":1i"4R":l+=.5*n.1n.1g.19;1B;1i"47":1i"42":l+=n.1n.1g.19-o}"1X"==f&&(c+=n.1n.1g.14),d=0;21(t=u.2Y.23;d<t;d++)s.2S=N.2T(12.1a.1P,O.4g(d*(1/r))*(12.1a.1K/r)),o=u.2Y[d],s.2e(),"15"==f?(s.3o(c-d,l),s.1f(c-d,l-.5*o.1g.14),s.1f(c-d-o.1g.19,l),s.1f(c-d,l+.5*o.1g.14)):(s.3o(c+d,l),s.1f(c+d,l-.5*o.1g.14),s.1f(c+d+o.1g.19,l),s.1f(c+d,l+.5*o.1g.14)),s.2f(),s.35()}}},4K:13(){1b t=12.2n(),n=12.3j(),r=12.2c();e(r.1k).1q(i(t.1x.1g)),e(r.4J).1q(e.1m(i(t.2a.1e),i(t.2a.1g))),n.2X&&n.2X.1q(i(t.1x.1g));1h(r.1a.1A){1b s=n.2n(),o=t.2a.1e,u=s.1A.1e;e(n.1A).1q(i({17:o.17+u.17,15:o.15+u.15})),r.1a.1A.1u&&(s=s.2W.1e,e(n.2W.1k).1q(i({17:o.17+s.17,15:o.15+s.15})))}e(12.1k).1q(e.1m(i(t.1k.1g),i(t.1k.1e))),e(12.1H).1q(i(t.1H.1g)),e(r.3h).1q(i(t.2M.1e))}});1b M={3i:{},1v:13(t){1c t?(t=e(t).20("2o-1R"))?12.3i[t]:1C:1C},30:13(e){12.3i[e.1R]=e},1D:13(e){1h(e=12.1v(e))4b 12.3i[e.1R],e.1D()}};e.1m(f.3z,{1O:13(){12.37(),12.2c();1b t=12.3j(),n=t.2n().1A.1g,r=e.1m({},n),i=12.1a.31;r.14+=2*i,r.19+=2*i,e(t.1A).5S(e(12.1k=1y.24("2g")).1Y("94")),e(1y.3c).1Z(e(12.4U=1y.24("3e")).2F(r)),E.3m(12.4U),t=12.4U.3A("2d"),t.2L=12.2u,e(12.1k).1Z(12.4U);21(1b s=r.14/2,r=r.19/2,n=n.19/2,u=i+1,a=0;a<=i;a++)t.2S=N.2T(12.1a.1P,O.4g(a*(1/u))*(12.1a.1K/u)),t.2e(),t.29(s,r,n+a,o(0),o(6O),!0),t.2f(),t.35()},1D:13(){12.37()},37:13(){12.1k&&(e(12.1k).1D(),12.1k=1C)},2c:13(){1c I.1v(12.1j)[0]},3j:13(){1c A.1v(12.1j)},75:13(){1c 12.1a.1K/(12.1a.31+1)}});1b 5T=13(t){1c"2q"==e.1t(t)?{1j:B.28&&B.28.1j||H.28.1j,2r:t}:l(e.1m({},H.28),t)},D=13(t){1c H=1V.2G.76,B=l(e.1m({},H),1V.2G.5U),j=1V.2G.5V.76,F=l(e.1m({},j),1V.2G.5V.5U),D=P,P(t)},P=13(t){t.2a=t.2a||(1V.2G[I.1a.3N]?I.1a.3N:"5W");1b n=t.2a?e.1m({},1V.2G[t.2a]||1V.2G[I.1a.3N]):{},n=l(e.1m({},B),n),n=l(e.1m({},n),t);1h(n.2h){1b r=B.2h||{},i=H.2h;"4i"==e.1t(n.2h)&&(n.2h={4j:r.4j||i.4j,1t:r.1t||i.1t}),n.2h=l(e.1m({},i),n.2h)}n.1n&&"2q"==e.1t(n.1n)&&(n.1n={1P:n.1n,1K:1}),n.1l&&(r=B.1l||{},i=H.1l,r="2x"==e.1t(n.1l)?{2y:n.1l,1P:r.1P||i.1P,1K:r.1K||i.1K}:l(e.1m({},i),n.1l),n.1l=0===r.2y?!1:r),n.1p&&(r="2x"==e.1t(n.1p)?{2y:n.1p,1e:B.1p&&B.1p.1e||H.1p.1e}:l(e.1m({},H.1p),n.1p),n.1p=0===r.2y?!1:r),r=r=n.1s&&n.1s.1E||"2q"==e.1t(n.1s)&&n.1s||B.1s&&B.1s.1E||"2q"==e.1t(B.1s)&&B.1s||H.1s&&H.1s.1E||H.1s,i=n.1s&&n.1s.1x||B.1s&&B.1s.1x||H.1s&&H.1s.1x||I.2w.77(r);1h(n.1s){1h("2q"==e.1t(n.1s))r={1E:n.1s,1x:I.2w.78(n.1s)};26 1h(r={1x:i,1E:r},n.1s.1x&&(r.1x=n.1s.1x),n.1s.1E)r.1E=n.1s.1E}26 r={1x:i,1E:r};n.1s=r,"2N"==n.1E?(i=e.1m({},H.1F.2N),e.1m(i,1V.2G.5U.1F||{}),t.2a&&e.1m(i,(1V.2G[t.2a]||1V.2G[I.1a.3N]).1F||{}),i=I.2w.79(H.1F.2N,H.1s,r.1E),t.1F&&(i=e.1m(i,t.1F||{})),n.3O=0):i={x:n.1F.x,y:n.1F.y},n.1F=i;1h(n.1A&&n.7a){1b t=e.1m({},1V.2G.5V[n.7a]),s=l(e.1m({},F),t);s.2p&&e.1z(["5P","5Q"],13(t,n){1b r=s.2p[n],i=F.2p&&F.2p[n];1h(r.1n){1b o=i&&i.1n;e.1t(r.1n)=="2x"?r.1n={1P:o&&o.1P||j.2p[n].1n.1P,1K:r.1n}:e.1t(r.1n)=="2q"?(o=o&&e.1t(o.1K)=="2x"&&o.1K||j.2p[n].1n.1K,r.1n={1P:r.1n,1K:o}):r.1n=l(e.1m({},j.2p[n].1n),r.1n)}r.1l&&(i=i&&i.1l,r.1l=e.1t(r.1l)=="2x"?{1P:i&&i.1P||j.2p[n].1l.1P,1K:r.1l}:l(e.1m({},j.2p[n].1l),r.1l))}),s.1u&&(t=F.1u&&F.1u.3x&&F.1u.3x==5h?F.1u:j.1u,s.1u.3x&&s.1u.3x==5h&&(t=l(t,s.1u)),s.1u=t),n.1A=s}n.1u&&(t="4i"==e.1t(n.1u)?B.1u&&"4i"==e.1t(B.1u)?H.1u:B.1u?B.1u:H.1u:l(e.1m({},H.1u),n.1u||{}),"2x"==e.1t(t.1F)&&(t.1F={x:t.1F,y:t.1F}),n.1u=t),n.1o&&(t={},t="4i"==e.1t(n.1o)?l({},H.1o):l(l({},H.1o),e.1m({},n.1o)),"2x"==e.1t(t.1F)&&(t.1F={x:t.1F,y:t.1F}),n.1o=t),n.2s&&("2q"==e.1t(n.2s)?n.2s={4V:n.2s,7b:!0}:"4i"==e.1t(n.2s)&&(n.2s=n.2s?{4V:"7c",7b:!0}:!1)),n.28&&"2A-95"==n.28&&(n.7d=!0,n.28=!1);1h(n.28)1h(e.6D(n.28)){1b o=[];e.1z(n.28,13(e,t){o.2R(5T(t))}),n.28=o}26 n.28=[5T(n.28)];1c n.2H&&"2q"==e.1t(n.2H)&&(n.2H=[""+n.2H]),n.2m=0,n.1L&&!1S.5X&&(n.1L=!1),n},H,B,j,F,I={2I:{},1a:{3N:"5W",4p:96},6z:13(){1b t=["2A"];1V.33.4A&&(t.2R("97"),e(1y.3c).3M("2A",13(){})),e.1z(t,13(t,n){e(1y.7e).98(".3w .6V, .3w .99-1x",n,13(t){t.9a(),t.9b(),I.5Y(e(t.1E).4W(".3w")[0]).1J()})}),e(1S).3M("9c",e.1w(12.7f,12))},7f:13(){12.4X&&(1S.5Z(12.4X),12.4X=1C),12.4X=p.4t(e.1w(13(){1b t=12.3B();e.1z(t,13(e,t){t.1e()})},12),9d)},4Y:13(t){1b n=e(t).20("2o-1R"),r;n||(t=12.5Y(e(t).4W(".3w")[0]))&&t.1j&&(n=e(t.1j).20("2o-1R"));1h(n&&(r=12.2I[n]))1c r},5x:13(e){1b t;1c p.2k(e)&&(t=12.4Y(e)),t&&t.1j},1v:13(t){1b n=[];1h(p.2k(t)){1b r=12.4Y(t);r&&(n=[r])}26 e.1z(12.2I,13(r,i){i.1j&&e(i.1j).7g(t)&&n.2R(i)});1c n},5Y:13(t){1h(!t)1c 1C;1b n=1C;1c e.1z(12.2I,13(e,r){r.1I("1O")&&r.1k===t&&(n=r)}),n},9e:13(t){1b n=[];1c e.1z(12.2I,13(r,i){i.1j&&e(i.1j).7g(t)&&n.2R(i)}),n},1T:13(t){p.2k(t)?(t=12.1v(t)[0])&&t.1T():e(t).1z(e.1w(13(e,t){1b n=12.1v(t)[0];n&&n.1T()},12))},1J:13(t){p.2k(t)?(t=12.1v(t)[0])&&t.1J():e(t).1z(e.1w(13(e,t){1b n=12.1v(t)[0];n&&n.1J()},12))},34:13(t){p.2k(t)?(t=12.1v(t)[0])&&t.34():e(t).1z(e.1w(13(e,t){1b n=12.1v(t)[0];n&&n.34()},12))},4C:13(){e.1z(12.3B(),13(e,t){t.1J()})},2Q:13(t){p.2k(t)?(t=12.1v(t)[0])&&t.2Q():e(t).1z(e.1w(13(e,t){1b n=12.1v(t)[0];n&&n.2Q()},12))},3B:13(){1b t=[];1c e.1z(12.2I,13(e,n){n.1M()&&t.2R(n)}),t},5A:13(t){1b n=!1;1c p.2k(t)&&e.1z(12.3B()||[],13(e,r){1h(r.1j==t)1c n=!0,!1}),n},7h:13(){1b t=0,n;1c e.1z(12.2I,13(e,r){r.2j>t&&(t=r.2j,n=r)}),n},7i:13(){1>=12.3B().23&&e.1z(12.2I,13(t,n){n.1I("1O")&&!n.1a.2j&&e(n.1k).1q({2j:n.2j=+I.1a.4p})})},30:13(e){12.2I[e.1R]=e},4Z:13(t){1h(t=12.4Y(t)){1b n=e(t.1j).20("2o-1R");4b 12.2I[n],t.1J(),t.1D()}},1D:13(t){p.2k(t)?12.4Z(t):e(t).1z(e.1w(13(e,t){12.4Z(t)},12))},6A:13(){e.1z(12.2I,e.1w(13(e,t){t.1j&&!p.1j.5s(t.1j)&&12.4Z(t.1j)},12))},5y:13(e){12.1a.3N=e||"5W"},5z:13(e){12.1a.4p=e||0},6b:D},q=13(t,n){1b r=x.2O(t),i=r[1],r=r[2],s=x.2D(t),o=e.1m({1U:!0,2E:!0},n||{});1c"1U"==s?(o.2E&&(i=K[i]),o.1U&&(r=K[r])):(o.2E&&(r=K[r]),o.1U&&(i=K[i])),i+r},R=13(t,n){1h(t.1a.2s){1b r=n,i=J(t),s=i.1g,i=i.1e,o=A.1v(t.1j).1r.1s[r.1s.1x].1x.1g,u=r.1e;i.15>u.15&&(r.1e.15=i.15),i.17>u.17&&(r.1e.17=i.17),i.15+s.14<u.15+o.14&&(r.1e.15=i.15+s.14-o.14),i.17+s.19<u.17+o.19&&(r.1e.17=i.17+s.19-o.19),n=r}t.4d(n.1s.1x),r=n.1e,e(t.1k).1q({17:r.17+"2t",15:r.15+"2t"})},U=13(e){1c e&&(/^2N|2A|4A$/.4P("2q"==7j e.1t&&e.1t||"")||0<=e.5r)},z=13(e,t,n,r){1b i=e>=n&&e<=r,s=t>=n&&t<=r;1c i&&s?t-e:i&&!s?r-e:!i&&s?t-n:(i=n>=e&&n<=t,s=r>=e&&r<=t,i&&s?r-n:i&&!s?t-n:!i&&s?r-e:0)},W=13(e,t){1b n=e.1g.14*e.1g.19;1c n?z(e.1e.15,e.1e.15+e.1g.14,t.1e.15,t.1e.15+t.1g.14)*z(e.1e.17,e.1e.17+e.1g.19,t.1e.17,t.1e.17+t.1g.19)/n:0},X=13(e,t){1b n=x.2O(t),r={15:0,17:0};1h("1U"==x.2D(t)){1Q(n[2]){1i"2U":1i"2V":r.15=.5*e.14;1B;1i"1X":r.15=e.14}"1W"==n[1]&&(r.17=e.19)}26{1Q(n[2]){1i"2U":1i"2V":r.17=.5*e.19;1B;1i"1W":r.17=e.19}"1X"==n[1]&&(r.15=e.14)}1c r},V=13(t){1b n=p.1j.4y(t),t=p.1j.4u(t),r=e(1S).4v(),i=e(1S).4w();1c n.15+=-1*(t.15-i),n.17+=-1*(t.17-r),n},$=13(t,n,r,i){1b s,o,u=A.1v(t.1j),a=u.1a,f=a.1F,l=U(r);l||!r?(o={14:1,19:1},l?(s=p.5q(r),s={17:s.y,15:s.x}):(s=t.1r.2r,s={17:s?s.y:0,15:s?s.x:0}),t.1r.2r={x:s.15,y:s.17}):(s=V(r),o={14:e(r).7k(),19:e(r).7l()});1h(a.1o&&"2N"!=a.1E){1b r=x.2O(i),c=x.2O(n),h=x.2D(i),d=u.1r.1a,u=u.4f().1l.1g,v=d.1p,d=d.1l,m=v&&"1n"==a.1p.1e?v:0,v=v&&"1l"==a.1p.1e?v:v+d,u=d+m+.5*a.1o.14-.5*u.14;4k=1d.1G(d+m+.5*a.1o.14+(v>u?v-u:0)+a.1o.1F["1U"==h?"x":"y"]);1h("1U"==h&&"15"==r[2]&&"15"==c[2]||"1X"==r[2]&&"1X"==c[2])o.14-=2*4k,s.15+=4k;26 1h("2E"==h&&"17"==r[2]&&"17"==c[2]||"1W"==r[2]&&"1W"==c[2])o.19-=2*4k,s.17+=4k}r=e.1m({},s),a=l?q(a.1s.1x):a.1s.1E,X(o,a),l=X(o,i),s={15:s.15+l.15,17:s.17+l.17},f=e.1m({},f),f=Q(f,a,i),s.17+=f.y,s.15+=f.x,u=A.1v(t.1j),f=u.1r.1s,a=e.1m({},f[n]),s={17:s.17-a.2l.17,15:s.15-a.2l.15},a.1x.1e=s,a={1U:!0,2E:!0};1h(t.1a.2s){1h(l=J(t),t=(t.1a.1u?O.1v(t.1j):u).2n().1x.1g,a.2J=W({1g:t,1e:s},l),1>a.2J){1h(s.15<l.1e.15||s.15+t.14>l.1e.15+l.1g.14)a.1U=!1;1h(s.17<l.1e.17||s.17+t.19>l.1e.17+l.1g.19)a.2E=!1}}26 a.2J=1;1c t=f[n].1H,o=W({1g:o,1e:r},{1g:t.1g,1e:{17:s.17+t.1e.17,15:s.15+t.1e.15}}),{1e:s,2J:{1E:o},3P:a,1s:{1x:n,1E:i}}},J=13(t){1b n={17:e(1S).4v(),15:e(1S).4w()},r=t.1a,i=r.1E;1h("2N"==i||"4s"==i)i=t.1j;1c t=e(i).4W(r.2s.4V).6T()[0],!t||"7c"==r.2s.4V?{1g:{14:e(1S).14(),19:e(1S).19()},1e:n}:(r=p.1j.4y(t),i=p.1j.4u(t),r.15+=-1*(i.15-n.15),r.17+=-1*(i.17-n.17),{1g:{14:e(t).7m(),19:e(t).7n()},1e:r})},K={15:"1X",1X:"15",17:"1W",1W:"17",2U:"2U",2V:"2V"},Q,G=[[-1,-1],[0,-1],[1,-1],[-1,0],[0,0],[1,0],[-1,1],[0,1],[1,1]],Y={3J:0,3G:0,40:1,4Q:1,3H:2,3I:2,41:5,4R:5,42:8,43:8,44:7,4S:7,46:6,47:6,48:3,4T:3};Q=13(e,t,n){1b r=G[Y[t]],i=G[Y[n]],r=[1d.5H(.5*1d.2z(r[0]-i[0]))?-1:1,1d.5H(.5*1d.2z(r[1]-i[1]))?-1:1];1c!x.36(t)&&x.36(n)&&("1U"==x.2D(n)?r[0]=0:r[1]=0),{x:r[0]*e.x,y:r[1]*e.y}},I.2w={1v:$,7o:13(e,t,n,r){1b i=$(e,t,n,r);/9f$/.4P(n&&"2q"==7j n.1t?n.1t:"");1h(1===i.3P.2J)R(e,i);26{1b s=t,o=r,o={1U:!i.3P.1U,2E:!i.3P.2E};1h(!x.36(t))1c s=q(t,o),o=q(r,o),i=$(e,s,n,o),R(e,i),i;1h("1U"==x.2D(t)&&o.2E||"2E"==x.2D(t)&&o.1U)1h(s=q(t,o),o=q(r,o),i=$(e,s,n,o),1===i.3P.2J)1c R(e,i),i;t=[],r=x.3Z,s=0;21(o=r.23;s<o;s++)21(1b u=r[s],a=0,f=x.3Z.23;a<f;a++)t.2R($(e,x.3Z[a],n,u));21(1b n=i,l=A.1v(e.1j).1r.1s,s=l[n.1s.1x],r=0,c=n.1e.15+s.2l.15,h=n.1e.17+s.2l.17,p=0,d=1,v={1g:s.1x.1g,1e:n.1e},m=0,s=1,u=o=0,a=t.23;u<a;u++){f=t[u],f.2K={},f.2K.2s=f.3P.2J;1b g=l[f.1s.1x].2l,g=1d.73(1d.4z(1d.2z(f.1e.15+g.15-c),2)+1d.4z(1d.2z(f.1e.17+g.17-h),2)),r=1d.1N(r,g);f.2K.7p=g,g=f.2J.1E,d=1d.5G(d,g),p=1d.1N(p,g),f.2K.7q=g,g=W(v,{1g:l[f.1s.1x].1x.1g,1e:f.1e}),s=1d.5G(s,g),m=1d.1N(m,g),f.2K.7r=g,g="1U"==x.2D(n.1s.1E)?"17":"15",g=1d.2z(n.1e[g]-f.1e[g]),o=1d.1N(o,g),f.2K.7s=g}21(1b l=0,y,p=1d.1N(n.2J.1E-d,p-n.2J.1E),d=m-s,u=0,a=t.23;u<a;u++)f=t[u],m=51*f.2K.2s,m+=18*(1-f.2K.7p/r)||9,c=1d.2z(n.2J.1E-f.2K.7q)||0,m+=4*(1-(c/p||1)),m+=11*((f.2K.7r-s)/d||0),m+=x.36(f.1s.1x)?0:25*(1-f.2K.7s/(o||1)),l=1d.1N(l,m),m==l&&(y=u);R(e,t[y])}1c i},77:q,78:13(e){1c e=x.2O(e),q(e[1]+K[e[2]])},7t:V,79:Q,60:U},I.2w.4D={x:0,y:0},e(1y).6y(13(){1b t=I.2w;e(1y).3M("52",13(e){t.4D={x:e.5r,y:e.6h}})});1b Z=13(t){1c{14:e(t).7m(),19:e(t).7n()}},53=13(t){1b n=Z(t),r=t.4x;1c r&&e(r).1q({14:n.14+"2t"})&&Z(t).19>n.19&&n.14++,e(r).1q({14:"5F%"}),n};I.4L={1O:13(){e(1y.3c).1Z(e(1y.24("2g")).1Y("9g").1Z(e(1y.24("2g")).1Y("3w").1Z(e(12.1k=1y.24("2g")).1Y("7u"))))},3Q:13(t,n,r,i){12.1k||12.1O();1b s=t.1a,i=e.1m({1L:!1},i||{});(s.7v||p.2k(n))&&!e(n).20("7w")&&(s.7v&&"2q"==e.1t(n)&&(t.39=e("#"+n)[0],n=t.39),!t.3R&&n&&p.1j.5s(n))&&(e(t.39).20("7x",e(t.39).1q("7y")),t.3R=1y.24("2g"),e(t.39).5S(e(t.3R).1J()));1b o=1y.24("2g");e(12.1k).1Z(e(o).1Y("6S 9h").1Z(n)),p.2k(n)&&e(n).1T(),s.2a&&e(o).1Y("9i"+t.1a.2a);1b u=e(o).5L("7z[4c]").9j(13(){1c!e(12).2F("19")||!e(12).2F("14")});1h(0<u.23&&!t.1I("3y")){t.2b("3y",!0),s.1L&&(!i.1L&&!t.1L&&(t.1L=t.61(s.1L)),t.1I("1M")&&(t.1e(),e(t.1k).1T()),t.1L.62());1b a=0,n=1d.1N(9k,9l*(u.23||0));t.2i("3y"),t.3S("3y",e.1w(13(){u.1z(13(){12.63=13(){}}),a>=u.23||(12.54(t,o),r&&r())},12),n),e.1z(u,e.1w(13(n,i){1b s=3n 9m;s.63=e.1w(13(){s.63=13(){};1b n=s.14,f=s.19,l=e(i).2F("14"),c=e(i).2F("19");1h(!l||!c)!l&&c?(n=1d.27(c*n/f),f=c):!c&&l&&(f=1d.27(l*f/n),n=l),e(i).2F({14:n,19:f}),a++;a==u.23&&(t.2i("3y"),t.1L&&(t.1L.1D(),t.1L=1C),t.1I("1M")&&e(t.1k).1J(),12.54(t,o),r&&r())},12),s.4c=i.4c},12))}26 12.54(t,o),r&&r()},54:13(t,n){1b r=53(n),i=r.14-(2P(e(n).1q("2m-15"))||0)-(2P(e(n).1q("2m-1X"))||0);2P(e(n).1q("2m-17")),2P(e(n).1q("2m-1W")),t.1a.3g&&"2x"==e.1t(t.1a.3g)&&i>t.1a.3g&&(e(n).1q({14:t.1a.3g+"2t"}),r=53(n)),t.1r.3a=r,e(t.3h).7A(n)},5N:53},e.1m(c.3z,{1O:13(){12.1I("1O")||(e(1y.3c).1Z(e(12.1k).1q({15:"-55",17:"-55",2j:12.2j}).1Z(e(12.4J=1y.24("2g")).1Y("9n")).1Z(e(12.3h=1y.24("2g")).1Y("7u"))),e(12.1k).1Y("9o"+12.1a.2a),12.1a.7d&&(e(12.1j).1Y("7B"),12.2B(1y.7e,"2A",e.1w(13(t){12.1M()&&(t=e(t.1E).4W(".3w, .7B")[0],(!t||t&&t!=12.1k&&t!=12.1j)&&12.1J())},12))),1V.33.3V&&(12.1a.4l||12.1a.3O)&&(12.56(12.1a.4l),e(12.1k).1Y("64")),12.7C(),12.2b("1O",!0),I.30(12))},6e:13(){e(12.1k=1y.24("2g")).1Y("3w"),12.7D()},7E:13(){12.1O();1b e=A.1v(12.1j);e?e.1O():(3n u(12.1j),12.2b("4r",!0))},7D:13(){12.2B(12.1j,"4e",12.57),12.2B(12.1j,"4M",e.1w(13(e){12.65(e)},12)),12.1a.2H&&e.1z(12.1a.2H,e.1w(13(t,n){1b r=!1;"2A"==n&&(12.1a.28&&e.1z(12.1a.28,13(e,t){1h("4s"==t.1j&&"2A"==t.2r)1c r=!0,!1}),12.2b("5l",r)),12.2B(12.1j,n,"2A"==n?r?12.34:12.1T:e.1w(13(){12.7F()},12))},12)),12.1a.28?e.1z(12.1a.28,e.1w(13(t,n){1b r;1Q(n.1j){1i"4s":1h(12.1I("5l")&&"2A"==n.2r)1c;r=12.1j;1B;1i"1E":r=12.1E}r&&12.2B(r,n.2r,"2A"==n.2r?12.1J:e.1w(13(){12.66()},12))},12)):12.1a.7G&&12.1a.2H&&-1<!e.67("2A",12.1a.2H)&&12.2B(12.1j,"4M",e.1w(13(){12.2i("1T")},12));1b t=!1;!12.1a.9p&&12.1a.2H&&((t=-1<e.67("52",12.1a.2H))||-1<e.67("7H",12.1a.2H))&&"2N"==12.1E&&12.2B(12.1j,t?"52":"7H",13(e){12.1I("4r")&&12.1e(e)})},7C:13(){12.2B(12.1k,"4e",12.57),12.2B(12.1k,"4M",12.65),12.2B(12.1k,"4e",e.1w(13(){12.58("4m")||12.1T()},12)),12.1a.28&&e.1z(12.1a.28,e.1w(13(t,n){1b r;1Q(n.1j){1i"1x":r=12.1k}r&&12.2B(r,n.2r,n.2r.3d(/^(2A|52|4e)$/)?12.1J:e.1w(13(){12.66()},12))},12))},1T:13(t){12.2i("1J"),12.2i("4m");1h(!12.1M()){1h("13"==e.1t(12.2M)||"13"==e.1t(12.1r.59)){"13"!=e.1t(12.1r.59)&&(12.1r.59=12.2M);1b n=12.1r.59(12.1j)||!1;n!=12.1r.5m&&(12.1r.5m=n,12.2b("3k",!1),12.68()),12.2M=n;1h(!n)1c}12.1a.9q&&I.4C(),12.2b("1M",!0),12.1a.2h?12.7I(t):12.1I("3k")||12.3Q(12.2M),12.1I("4r")&&12.1e(t),12.5a(),12.1a.5b&&p.3T(e.1w(13(){12.57()},12)),"13"==e.1t(12.1a.5c)&&(!12.1a.2h||12.1a.2h&&12.1a.2h.4j&&12.1I("3k"))&&12.1a.5c(12.3h.5d,12.1j),1V.33.3V&&(12.1a.4l||12.1a.3O)&&(12.56(12.1a.4l),e(12.1k).1Y("7J").7K("64")),e(12.1k).1T()}},1J:13(){12.2i("1T"),12.1I("1M")&&(12.2b("1M",!1),1V.33.3V&&(12.1a.4l||12.1a.3O)?(12.56(12.1a.3O),e(12.1k).7K("7J").1Y("64"),12.3S("4m",e.1w(12.69,12),12.1a.3O)):12.69(),12.1r.2v)&&(12.1r.2v.7L(),12.1r.2v=1C,12.2b("2v",!1))},69:13(){12.1I("1O")&&(e(12.1k).1q({15:"-55",17:"-55"}),I.7i(),12.7M(),"13"==e.1t(12.1a.7N)&&!12.1L)&&12.1a.7N(12.3h.5d,12.1j)},34:13(e){12[12.1M()?"1J":"1T"](e)},1M:13(){1c 12.1I("1M")},7F:13(t){12.2i("1J"),12.2i("4m"),!12.1I("1M")&&!12.58("1T")&&12.3S("1T",e.1w(13(){12.2i("1T"),12.1T(t)},12),12.1a.7G||1)},66:13(){12.2i("1T"),!12.58("1J")&&12.1I("1M")&&12.3S("1J",e.1w(13(){12.2i("1J"),12.2i("4m"),12.1J()},12),12.1a.9r||1)},56:13(e){1h(1V.33.3V){1b e=e||0,t=12.1k.9s;t.9t=e+"5e",t.9u=e+"5e",t.9v=e+"5e",t.9w=e+"5e"}},2b:13(e,t){12.1r.2p[e]=t},1I:13(e){1c 12.1r.2p[e]},57:13(){12.2b("4q",!0),12.1I("1M")&&12.5a(),12.1a.5b&&12.2i("6a")},65:13(){12.2b("4q",!1),12.1a.5b&&12.3S("6a",e.1w(13(){12.2i("6a"),12.1I("4q")||12.1J()},12),12.1a.5b)},58:13(e){1c 12.1r.3b[e]},3S:13(e,t,n){12.1r.3b[e]=p.4t(t,n)},2i:13(e){12.1r.3b[e]&&(1S.5Z(12.1r.3b[e]),4b 12.1r.3b[e])},7O:13(){e.1z(12.1r.3b,13(e,t){1S.5Z(t)}),12.1r.3b=[]},2B:13(t,n,r,i){r=e.1w(r,i||12),12.1r.5k.2R({1j:t,7P:n,7Q:r}),e(t).3M(n,r)},7R:13(){e.1z(12.1r.5k,13(t,n){e(n.1j).7S(n.7P,n.7Q)})},4d:13(e){1b t=A.1v(12.1j);t&&t.4d(e)},7M:13(){12.4d(12.1a.1s.1x)},2Q:13(){1b e=A.1v(12.1j);e&&(e.2Q(),12.1M()&&12.1e())},3Q:13(t,n){1b r=e.1m({4n:12.1a.4n,1L:!1},n||{});12.1O(),12.1I("1M")&&e(12.1k).1J(),I.4L.3Q(12,t,e.1w(13(){1b t=12.1I("1M");t||12.2b("1M",!0),12.7E(),t||12.2b("1M",!1),12.1I("1M")&&(e(12.1k).1J(),12.1e(),12.5a(),e(12.1k).1T()),12.2b("3k",!0),r.4n&&r.4n(12.3h.5d,12.1j),r.5f&&r.5f()},12),{1L:r.1L})},7I:13(t){12.1I("2v")||12.1a.2h.4j&&12.1I("3k")||(12.2b("2v",!0),12.1a.1L&&(12.1L?12.1L.62():(12.1L=12.61(12.1a.1L),12.2b("3k",!1)),12.1e(t)),12.1r.2v&&(12.1r.2v.7L(),12.1r.2v=1C),12.1r.2v=e.2h({9x:12.2M,1t:12.1a.2h.1t,20:12.1a.2h.20||{},7T:12.1a.2h.7T||"7A",9y:e.1w(13(t,n,r){r.9z!==0&&12.3Q(r.9A,{1L:12.1a.1L&&12.1L,5f:e.1w(13(){12.2b("2v",!1),12.1I("1M")&&12.1a.5c&&12.1a.5c(12.3h.5d,12.1j),12.1L&&(12.1L.1D(),12.1L=1C)},12)})},12)}))},61:13(t){1b n=1y.24("2g");e(n).20("7w",!0);1b r=5X.4B(n,e.1m({},t||{})),t=5X.5D(n);1c e(n).1q(i(t)),12.3Q(n,{4n:!1,5f:13(){r.62()}}),r},1e:13(t){1h(12.1M()){1b n;1h("2N"==12.1a.1E){n=I.2w.60(t);1b r=I.2w.4D;n?r.x||r.y?(12.1r.2r={x:r.x,y:r.y},n=1C):n=t:(r.x||r.y?12.1r.2r={x:r.x,y:r.y}:12.1r.2r||(n=I.2w.7t(12.1j),12.1r.2r={x:n.15,y:n.17}),n=1C)}26 n=12.1E;I.2w.7o(12,12.1a.1s.1x,n,12.1a.1s.1E);1h(t&&I.2w.60(t)){1b r=e(12.1k).7k(),i=e(12.1k).7l(),t=p.5q(t);n=p.1j.4y(12.1k),t.x>=n.15&&t.x<=n.15+r&&t.y>=n.17&&t.y<=n.17+i&&p.3T(e.1w(13(){12.2i("1J")},12))}}},5a:13(){1h(12.1I("1O")&&!12.1a.2j){1b t=I.7h();t&&t!=12&&12.2j<=t.2j&&e(12.1k).1q({2j:12.2j=t.2j+1})}},68:13(){1b t;12.3R&&12.39&&((t=e(12.39).20("7x"))&&e(12.39).1q({7y:t}),e(12.3R).5S(12.39).1D(),12.3R=1C)},1D:13(){p.3T(e.1w(13(){12.7R()},12)),12.7O(),12.68(),p.3T(e.1w(13(){e(12.1k).5L("7z[4c]").7S("9B")},12)),A.1D(12.1j),12.1I("1O")&&12.1k&&(e(12.1k).1D(),12.1k=1C);1b t;(t=e(12.1j).20("5j"))&&e(12.1j).2F("5i",t).7U("5j"),e(12.1j).7U("2o-1R")}}),1V.3m()})(3U)',62,596,"||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||this|function|width|left||top||height|options|var|return|Math|position|lineTo|dimensions|if|case|element|container|border|extend|background|stem|radius|css|_cache|hook|type|shadow|get|proxy|tooltip|document|each|closeButton|break|null|remove|target|offset|ceil|bubble|getState|hide|opacity|spinner|visible|max|build|color|switch|uid|window|show|horizontal|Tipped|bottom|right|addClass|append|data|for|_hookPosition|length|createElement||else|round|hideOn|arc|skin|setState|getTooltip||beginPath|closePath|div|ajax|clearTimer|zIndex|isElement|anchor|padding|getOrderLayout|tipped|states|string|event|containment|px|_globalAlpha|xhr|Position|number|size|abs|click|setEvent|180|getOrientation|vertical|attr|Skins|showOn|tooltips|overlap|score|globalAlpha|content|mouse|split|parseInt|refresh|push|fillStyle|hex2fill|middle|center|closeButtonShadow|iframeShim|blurs|PI|add|blur|scripts|support|toggle|fill|isCenter|cleanup|bubbleCanvas|inlineContent|contentDimensions|timers|body|match|canvas|box|maxWidth|contentElement|shadows|getSkin|updated|indexOf|init|new|moveTo|charAt|toLowerCase|diameter|layout|stemLayout|hookPosition|cornerOffset|t_Tooltip|constructor|preloading_images|prototype|getContext|getVisible|x1|y1|x2|y2|topleft|topright|righttop|lefttop|math|getLayout|bind|defaultSkin|fadeOut|contained|update|inlineMarker|setTimer|defer|jQuery|cssTransitions|G_vmlCanvasManager|items|createFillStyle|positions|topmiddle|rightmiddle|rightbottom|bottomright|bottommiddle||bottomleft|leftbottom|leftmiddle|regex|getBorderDimensions|delete|src|setHookPosition|mouseenter|getStemLayout|transition|Stem|boolean|cache|sideOffset|fadeIn|fadeTransition|afterUpdate|000|startingZIndex|active|skinned|self|delay|cumulativeScrollOffset|scrollTop|scrollLeft|parentNode|cumulativeOffset|pow|touch|create|hideAll|mouseBuffer|getCenterBorderDimensions|cos|substring|skins|prepare|skinElement|order|UpdateQueue|mouseleave|rotate|borderRadius|test|topcenter|rightcenter|bottomcenter|leftcenter|closeButtonCanvas|selector|closest|_resizeTimer|_getTooltip|_remove|||mousemove|et|_updateTooltip|10000px|setFadeDuration|setActive|getTimer|contentFunction|raise|hideAfter|onShow|firstChild|ms|callback|in|Object|title|tipped_restore_title|events|toggles|fnCallContent|call|arguments|apply|pointer|pageX|isAttached|opera|required|available|console|findElement|setDefaultSkin|setStartingZIndex|isVisibleByElement|undefined|getSide|getDimensions|getBubbleLayout|100|min|floor|prepend|hoverCloseButton|defaultCloseButton|find|auto|getMeasureElementDimensions|drawCloseButtonState|default|hover|_drawBackgroundPath|before|_|reset|CloseButtons|black|Spinners|getByTooltipElement|clearTimeout|isPointerEvent|insertSpinner|play|onload|t_hidden|setIdle|hideDelayed|inArray|_restoreInlineContent|_hide|idle|createOptions|getAttribute|getElementById|_preBuild|Array|concat|pageY|RegExp|parseFloat|Opera|version|AppleWebKit|Chrome|Za|check|checked|notified|requires|warn|alert|try|DocumentTouch|catch|ready|startDelegating|removeDetached|drawRoundedRectangle|fillRect|isArray|Gradient|addColorStops|toOrientation|side|toDimension|isCorner|atan|red|green|blue|360|createHookCache|drawBubble|drawCloseButton|t_ContentContainer|first|25000px|t_Close|closeButtonShift|closeButtonMouseover|closeButtonMouseout|CloseButton|_drawBorderPath|backgroundRadius|setGlobalAlpha|sqrt|drawBackground|getBlurOpacity|base|getInversedPosition|getTooltipPositionFromTarget|adjustOffsetBasedOnHooks|closeButtonSkin|flip|viewport|hideOnClickOutside|documentElement|onWindowResize|is|getHighestTooltip|resetZ|typeof|outerWidth|outerHeight|innerWidth|innerHeight|set|distance|targetOverlap|tooltipOverlap|orientationOffset|getAbsoluteOffset|t_Content|inline|isSpinner|tipped_restore_inline_display|display|img|html|t_hideOnClickOutside|createPostBuildObservers|createPreBuildObservers|_buildSkin|showDelayed|showDelay|touchmove|ajaxUpdate|t_visible|removeClass|abort|resetHookPosition|onHide|clearTimers|eventName|handler|clearEvents|unbind|dataType|removeData|_stemPosition|object|setAttribute|slice|wrap|nodeType|setTimeout|do|while|navigator|userAgent|exec|attachEvent|MSIE|Gecko|KHTML|rv|Apple|Mobile|Safari|z_|z0|fn|jquery|log|_t_uid_|ontouchstart|instanceof|WebKitTransitionEvent|TransitionEvent|OTransitionEvent|createEvent|ExplorerCanvas|excanvas|js|initElement|drawPixelArray|createLinearGradient|addColorStop|spacing|replace|0123456789abcdef|hex2rgb|rgba|join|getSaturatedBW|255|hue|saturation|brightness|fff|init_|t_Bubble|iframe|t_iframeShim|frameBorder|javascript|15000px|t_CloseButtonShift|t_CloseState|translate|lineWidth|stemOffset|270|sin|setOpacity|getCenterBorderDimensions2||acos|t_Shadow|t_ShadowBubble|t_CloseButtonShadow|outside|999999|touchstart|delegate|close|preventDefault|stopPropagation|resize|200|getBySelector|move|t_UpdateQueue|t_clearfix|t_Content_|filter|8e3|750|Image|t_Skin|t_Tooltip_|fixed|hideOthers|hideDelay|style|MozTransitionDuration|webkitTransitionDuration|OTransitionDuration|transitionDuration|url|success|status|responseText|load".split("|"),0,{})),function(){}.call(this),function(){}.call(this),/*!
 * jQuery UI 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(e,t){function n(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.curCSS(this,"visibility")||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){n=e(this[0]);for(var i;n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,i&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),r&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?a["inner"+i].call(this):this.each(function(){e(this).css(s,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){var i=t.nodeName.toLowerCase(),r=e.attr(t,"tabindex");return"area"===i?(i=t.parentNode,r=i.name,t.href&&r&&"map"===i.nodeName.toLowerCase()?(t=e("img[usemap=#"+r+"]")[0],!!t&&n(t)):!1):(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||!isNaN(r):!isNaN(r))&&n(t)},tabbable:function(t){var n=e.attr(t,"tabindex");return(isNaN(n)||n>=0)&&e(t).is(":focusable")}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,i){t=e.ui[t].prototype;for(var r in i)t.plugins[r]=t.plugins[r]||[],t.plugins[r].push([n,i[r]])},call:function(e,t,n){if((t=e.plugins[t])&&e.element[0].parentNode)for(var i=0;t.length>i;i++)e.options[t[i][0]]&&t[i][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?16&e.compareDocumentPosition(t):e!==t&&e.contains(t)},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;n=n&&"left"===n?"scrollLeft":"scrollTop";var i=!1;return t[n]>0?!0:(t[n]=1,i=t[n]>0,t[n]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,i,r,o,s){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,s)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var i,r=0;null!=(i=t[r]);r++)e(i).triggerHandler("remove");n(t)}}else{var i=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){e(this).triggerHandler("remove")}),i.call(e(this),t,n)})}}e.widget=function(t,n,i){var r,o=t.split(".")[0];t=t.split(".")[1],r=o+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r]=function(n){return!!e.data(n,t)},e[o]=e[o]||{},e[o][t]=function(e,t){arguments.length&&this._createWidget(e,t)},n=new n,n.options=e.extend(!0,{},n.options),e[o][t].prototype=e.extend(!0,n,{namespace:o,widgetName:t,widgetEventPrefix:e[o][t].prototype.widgetEventPrefix||t,widgetBaseClass:r},i),e.widget.bridge(t,e[o][t])},e.widget.bridge=function(n,i){e.fn[n]=function(r){var o="string"==typeof r,s=Array.prototype.slice.call(arguments,1),a=this;return r=!o&&s.length?e.extend.apply(null,[!0,r].concat(s)):r,o&&"_"===r.charAt(0)?a:(o?this.each(function(){var i=e.data(this,n),o=i&&e.isFunction(i[r])?i[r].apply(i,s):i;return o!==i&&o!==t?(a=o,!1):void 0}):this.each(function(){var t=e.data(this,n);t?t.option(r||{})._init():e.data(this,n,new i(r,this))}),a)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,i){var r=n;if(0===arguments.length)return e.extend({},this.options);if("string"==typeof n){if(i===t)return this.options[n];r={},r[n]=i}return this._setOptions(r),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,i){var r=this.options[t];if(n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i=i||{},n.originalEvent){t=e.event.props.length;for(var o;t;)o=e.event.props[--t],n[o]=n.originalEvent[o]}return this.element.trigger(n,i),!(e.isFunction(r)&&r.call(this.element[0],n,i)===!1||n.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(t){if(t.originalEvent=t.originalEvent||{},!t.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1==t.which,r="string"==typeof this.options.cancel?e(t.target).parents().add(t.target).filter(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),t.originalEvent.mouseHandled=!0)):!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*
 * jQuery UI Resizable 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var r=0;i.length>r;r++){var o=e.trim(i[r]),s=e('<div class="ui-resizable-handle '+("ui-resizable-"+o)+'"></div>');/sw|se|ne|nw/.test(o)&&s.css({zIndex:++n.zIndex}),"se"==o&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(s)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){if(this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=e(this.handles[n],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,r),this._proportionallyResize()}e(this.handles[n])}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide"),t._handles.show()},function(){t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;n.after(this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var i in this.handles)e(this.handles[i])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(n){var i=this.options,r=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:r.top,left:r.left}),e.browser.opera&&/relative/.test(o.css("position"))&&o.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy(),r=t(this.helper.css("left"));var s=t(this.helper.css("top"));return i.containment&&(r+=e(i.containment).scrollLeft()||0,s+=e(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:s},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:r,top:s},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"==i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",n),!0},_mouseDrag:function(e){var t=this.helper,n=this.originalMousePosition,i=this._change[this.axis];return i?(n=i.apply(this,[e,e.pageX-n.left||0,e.pageY-n.top||0]),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(n),this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,i=this;if(this._helper){var r=this._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName);r=o&&e.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,o=o?0:i.sizeDiff.width,o={width:i.helper.width()-o,height:i.helper.height()-r},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null;var s=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;n.animate||this.element.css(e.extend(o,{top:s,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return e.height?e.width=n.height*this.aspectRatio:e.width&&(e.height=n.width/this.aspectRatio),"sw"==i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"==i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this.options,i=this.axis,r=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height;s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,d=/sw|nw|w/.test(i);return i=/nw|ne|n/.test(i),s&&d&&(e.left=l-t.minWidth),r&&d&&(e.left=l-t.maxWidth),a&&i&&(e.top=c-t.minHeight),o&&i&&(e.top=c-t.maxHeight),(t=!e.width&&!e.height)&&!e.left&&e.top?e.top=null:t&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,n=0;this._proportionallyResizeElements.length>n;n++){var i=this._proportionallyResizeElements[n];if(!this.borderDif){var r=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(r,function(e,t){return e=parseInt(e,10)||0,t=parseInt(o[t],10)||0,e+t})}e.browser.msie&&(e(t).is(":hidden")||e(t).parents(":hidden").length)||i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.options;if(this.elementOffset=this.element.offset(),this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var n=e.browser.msie&&7>e.browser.version,i=n?1:0;n=n?2:-1,this.helper.addClass(this._helper).css({width:this.element.outerWidth()+n,height:this.element.outerHeight()+n,position:"absolute",left:this.elementOffset.left-i+"px",top:this.elementOffset.top-i+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){return{left:this.originalPosition.left+t,width:this.originalSize.width-t}},n:function(e,t,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!=t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.extend(e.ui.resizable,{version:"1.8.11"}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("resizable").options,n=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10),position:t.css("position")})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?n(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],n(t.alsoResize)):e.each(t.alsoResize,function(e){n(e)})},resize:function(t,n){var i=e(this).data("resizable");t=i.options;var r=i.originalSize,o=i.originalPosition,s={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),o=e(this).data("resizable-alsoresize"),a={},l=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(l,function(e,t){(e=(o[t]||0)+(s[t]||0))&&e>=0&&(a[t]=e||null)}),e.browser.opera&&/relative/.test(t.css("position"))&&(i._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(a)})};"object"!=typeof t.alsoResize||t.alsoResize.nodeType?a(t.alsoResize):e.each(t.alsoResize,function(e,t){a(e,t)})},stop:function(){var t=e(this).data("resizable"),n=t.options,i=function(t){e(t).each(function(){var t=e(this);t.css({position:t.data("resizable-alsoresize").position})})};t._revertToRelativePosition&&(t._revertToRelativePosition=!1,"object"!=typeof n.alsoResize||n.alsoResize.nodeType?i(n.alsoResize):e.each(n.alsoResize,function(e){i(e)})),e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("resizable"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&e.ui.hasScroll(r[0],"left")?0:n.sizeDiff.height;o={width:n.size.width-(o?0:n.sizeDiff.width),height:n.size.height-s},s=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null;var a=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(o,a&&s?{top:a,left:s}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n=e(this).data("resizable"),i=n.element,r=n.options.containment;if(i=r instanceof e?r.get(0):/parent/.test(r)?i.parent().get(0):r)if(n.containerElement=e(i),/document/.test(r)||r==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var o=e(i),s=[];e(["Top","Right","Left","Bottom"]).each(function(e,n){s[e]=t(o.css("padding"+n))}),n.containerOffset=o.offset(),n.containerPosition=o.position(),n.containerSize={height:o.innerHeight()-s[3],width:o.innerWidth()-s[1]},r=n.containerOffset;var a=n.containerSize.height,l=n.containerSize.width;l=e.ui.hasScroll(i,"left")?i.scrollWidth:l,a=e.ui.hasScroll(i)?i.scrollHeight:a,n.parentData={element:i,left:r.left,top:r.top,width:l,height:a}}},resize:function(t){var n=e(this).data("resizable"),i=n.options,r=n.containerOffset,o=n.position;t=n._aspectRatio||t.shiftKey;var s={top:0,left:0},a=n.containerElement;a[0]!=document&&/static/.test(a.css("position"))&&(s=r),o.left<(n._helper?r.left:0)&&(n.size.width+=n._helper?n.position.left-r.left:n.position.left-s.left,t&&(n.size.height=n.size.width/i.aspectRatio),n.position.left=i.helper?r.left:0),o.top<(n._helper?r.top:0)&&(n.size.height+=n._helper?n.position.top-r.top:n.position.top,t&&(n.size.width=n.size.height*i.aspectRatio),n.position.top=n._helper?r.top:0),n.offset.left=n.parentData.left+n.position.left,n.offset.top=n.parentData.top+n.position.top,i=Math.abs((n._helper?n.offset.left-s.left:n.offset.left-s.left)+n.sizeDiff.width),r=Math.abs((n._helper?n.offset.top-s.top:n.offset.top-r.top)+n.sizeDiff.height),o=n.containerElement.get(0)==n.element.parent().get(0),s=/relative|absolute/.test(n.containerElement.css("position")),o&&s&&(i-=n.parentData.left),i+n.size.width>=n.parentData.width&&(n.size.width=n.parentData.width-i,t&&(n.size.height=n.size.width/n.aspectRatio)),r+n.size.height>=n.parentData.height&&(n.size.height=n.parentData.height-r,t&&(n.size.width=n.size.height*n.aspectRatio))},stop:function(){var t=e(this).data("resizable"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width;s=s.outerHeight()-t.sizeDiff.height,t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:s}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-r.left-i.left,width:l,height:s})}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("resizable"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("resizable"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,s=t.axis;n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var a=Math.round((i.width-r.width)/(n.grid[0]||1))*(n.grid[0]||1);n=Math.round((i.height-r.height)/(n.grid[1]||1))*(n.grid[1]||1),/^(se|s|e)$/.test(s)?(t.size.width=r.width+a,t.size.height=r.height+n):/^(ne)$/.test(s)?(t.size.width=r.width+a,t.size.height=r.height+n,t.position.top=o.top-n):(/^(sw)$/.test(s)?(t.size.width=r.width+a,t.size.height=r.height+n):(t.size.width=r.width+a,t.size.height=r.height+n,t.position.top=o.top-n),t.position.left=o.left-a)}});var t=function(e){return parseInt(e,10)||0},n=function(e){return!isNaN(parseInt(e,10))}}(jQuery),/*!
 * jQuery JavaScript Library v1.5.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Feb 23 13:55:29 2011 -0500
 */
function(e,t){function n(e){return W.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}function i(e){if(!tn[e]){var t=W("<"+e+">").appendTo("body"),n=t.css("display");t.remove(),("none"===n||""===n)&&(n="block"),tn[e]=n}return tn[e]}function r(e,t){var n={};return W.each(on.concat.apply([],on.slice(0,t)),function(){n[this]=e}),n}function o(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function s(){try{return new e.XMLHttpRequest}catch(t){}}function a(){W(e).unload(function(){for(var e in Gt)Gt[e](0,1)})}function l(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var i,r,o,s,a,l,c,d,u=e.dataTypes,h={},p=u.length,f=u[0];for(i=1;p>i;i++){if(1===i)for(r in e.converters)"string"==typeof r&&(h[r.toLowerCase()]=e.converters[r]);if(s=f,f=u[i],"*"===f)f=s;else if("*"!==s&&s!==f){if(a=s+" "+f,l=h[a]||h["* "+f],!l){d=t;for(c in h)if(o=c.split(" "),(o[0]===s||"*"===o[0])&&(d=h[o[1]+" "+f])){c=h[c],c===!0?l=d:d===!0&&(l=c);break}}!l&&!d&&W.error("No conversion from "+a.replace(" "," to ")),l!==!0&&(n=l?l(n):d(c(n)))}}return n}function c(e,n,i){var r,o,s,a,l=e.contents,c=e.dataTypes,d=e.responseFields;for(o in d)o in i&&(n[d[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)s=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function d(e,t,n,i){if(W.isArray(t)&&t.length)W.each(t,function(t,r){n||Wt.test(e)?i(e,r):d(e+"["+("object"==typeof r||W.isArray(r)?t:"")+"]",r,n,i)});else if(n||null==t||"object"!=typeof t)i(e,t);else if(W.isArray(t)||W.isEmptyObject(t))i(e,"");else for(var r in t)d(e+"["+r+"]",t[r],n,i)}function u(e,n,i,r,o,s){o=o||n.dataTypes[0],s=s||{},s[o]=!0;for(var a,l=e[o],c=0,d=l?l.length:0,h=e===qt;d>c&&(h||!a);c++)a=l[c](n,i,r),"string"==typeof a&&(!h||s[a]?a=t:(n.dataTypes.unshift(a),a=u(e,n,i,r,a,s)));return(h||!a)&&!s["*"]&&(a=u(e,n,i,r,"*",s)),a}function h(e){return function(t,n){if("string"!=typeof t&&(n=t,t="*"),W.isFunction(n))for(var i,r,o,s=t.toLowerCase().split(Ht),a=0,l=s.length;l>a;a++)i=s[a],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function p(e,t,n){var i="width"===t?Ct:Tt,r="width"===t?e.offsetWidth:e.offsetHeight;return"border"===n?r:(W.each(i,function(){n||(r-=parseFloat(W.css(e,"padding"+this))||0),"margin"===n?r+=parseFloat(W.css(e,"margin"+this))||0:r-=parseFloat(W.css(e,"border"+this+"Width"))||0}),r)}function f(e,t){t.src?W.ajax({url:t.src,async:!1,dataType:"script"}):W.globalEval(t.text||t.textContent||t.innerHTML||""),t.parentNode&&t.parentNode.removeChild(t)}function m(e){return"getElementsByTagName"in e?e.getElementsByTagName("*"):"querySelectorAll"in e?e.querySelectorAll("*"):[]}function g(e,t){if(1===t.nodeType){var n=t.nodeName.toLowerCase();t.clearAttributes(),t.mergeAttributes(e),"object"===n?t.outerHTML=e.outerHTML:"input"!==n||"checkbox"!==e.type&&"radio"!==e.type?"option"===n?t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(W.expando)}}function y(e,t){if(1===t.nodeType&&W.hasData(e)){var n=W.expando,i=W.data(e),r=W.data(t,i);if(i=i[n]){var o=i.events;if(r=r[n]=W.extend({},i),o){delete r.handle,r.events={};for(var s in o)for(var a=0,l=o[s].length;l>a;a++)W.event.add(t,s+(o[s][a].namespace?".":"")+o[s][a].namespace,o[s][a],o[s][a].data)}}}}function v(e){return W.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _(e,t,n){if(W.isFunction(t))return W.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return W.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=W.grep(e,function(e){return 1===e.nodeType});if(et.test(t))return W.filter(t,i,!n);t=W.filter(t,i)}return W.grep(e,function(e){return W.inArray(e,t)>=0===n})}function b(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function w(e,t){return(e&&"*"!==e?e+".":"")+t.replace(B,"`").replace($,"&")}function x(e){var t,n,i,r,o,s,a,l,c,d,u,h,p=[],f=[],m=W._data(this,"events");if(e.liveFired!==this&&m&&m.live&&!e.target.disabled&&(!e.button||"click"!==e.type)){e.namespace&&(u=new RegExp("(^|\\.)"+e.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)")),e.liveFired=this;var g=m.live.slice(0);for(a=0;g.length>a;a++)o=g[a],o.origType.replace(P,"")===e.type?f.push(o.selector):g.splice(a--,1);for(r=W(e.target).closest(f,e.currentTarget),l=0,c=r.length;c>l;l++)for(d=r[l],a=0;g.length>a;a++)o=g[a],d.selector!==o.selector||u&&!u.test(o.namespace)||d.elem.disabled||(s=d.elem,i=null,("mouseenter"===o.preType||"mouseleave"===o.preType)&&(e.type=o.preType,i=W(e.relatedTarget).closest(o.selector)[0]),(!i||i!==s)&&p.push({elem:s,handleObj:o,level:d.level}));for(l=0,c=p.length;c>l&&(r=p[l],!(n&&r.level>n))&&(e.currentTarget=r.elem,e.data=r.handleObj.data,e.handleObj=r.handleObj,h=r.handleObj.origHandler.apply(r.elem,arguments),h!==!1&&!e.isPropagationStopped()||(n=r.level,h===!1&&(t=!1),!e.isImmediatePropagationStopped()));l++);return t}}function C(e,n,i){var r=W.extend({},i[0]);r.type=e,r.originalEvent={},r.liveFired=t,W.event.handle.call(n,r),r.isDefaultPrevented()&&i[0].preventDefault()}function T(){return!0}function E(){return!1}function S(e){for(var t in e)if("toJSON"!==t)return!1;return!0}function M(e,n,i){if(i===t&&1===e.nodeType)if(i=e.getAttribute("data-"+n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:W.isNaN(i)?k.test(i)?W.parseJSON(i):i:parseFloat(i)}catch(r){}W.data(e,n,i)}else i=t;return i}var N=e.document,W=function(){function n(){if(!a.isReady){try{N.documentElement.doScroll("left")}catch(e){return setTimeout(n,1),void 0}a.ready()}}var i,r,o,s,a=function(e,t){return new a.fn.init(e,t,i)},l=e.jQuery,c=e.$,d=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,u=/\S/,h=/^\s+/,p=/\s+$/,f=/\d/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,y=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,x=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,T=navigator.userAgent,E=!1,S="then done fail isResolved isRejected promise".split(" "),M=Object.prototype.toString,W=Object.prototype.hasOwnProperty,k=Array.prototype.push,A=Array.prototype.slice,R=String.prototype.trim,L=Array.prototype.indexOf,Y={};return a.fn=a.prototype={constructor:a,init:function(e,n,i){var r,o,s,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("body"===e&&!n&&N.body)return this.context=N,this[0]=N.body,this.selector="body",this.length=1,this;if("string"==typeof e){if(r=d.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof a?n[0]:n,l=n?n.ownerDocument||n:N,s=m.exec(e),s?a.isPlainObject(n)?(e=[N.createElement(s[1])],a.fn.attr.call(e,n,!0)):e=[l.createElement(s[1])]:(s=a.buildFragment([r[1]],[l]),e=(s.cacheable?a.clone(s.fragment):s.fragment).childNodes),a.merge(this,e);if(o=N.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=N,this.selector=e,this}return a.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),a.makeArray(e,this))},selector:"",jquery:"1.5.1",length:0,size:function(){return this.length},toArray:function(){return A.call(this,0)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return a.isArray(e)?k.apply(i,e):a.merge(i,e),i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return a.each(this,e,t)},ready:function(e){return a.bindReady(),o.done(e),this},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(A.apply(this,arguments),"slice",A.call(arguments).join(","))},map:function(e){return this.pushStack(a.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:k,sort:[].sort,splice:[].splice},a.fn.init.prototype=a.fn,a.extend=a.fn.extend=function(){var e,n,i,r,o,s,l=arguments[0]||{},c=1,d=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},c=2),"object"!=typeof l&&!a.isFunction(l)&&(l={}),d===c&&(l=this,--c);d>c;c++)if(null!=(e=arguments[c]))for(n in e)i=l[n],r=e[n],l!==r&&(u&&r&&(a.isPlainObject(r)||(o=a.isArray(r)))?(o?(o=!1,s=i&&a.isArray(i)?i:[]):s=i&&a.isPlainObject(i)?i:{},l[n]=a.extend(u,s,r)):r!==t&&(l[n]=r));return l},a.extend({noConflict:function(t){return e.$=c,t&&(e.jQuery=l),a},isReady:!1,readyWait:1,ready:function(e){if(e===!0&&a.readyWait--,!a.readyWait||e!==!0&&!a.isReady){if(!N.body)return setTimeout(a.ready,1);if(a.isReady=!0,e!==!0&&--a.readyWait>0)return;o.resolveWith(N,[a]),a.fn.trigger&&a(N).trigger("ready").unbind("ready")}},bindReady:function(){if(!E){if(E=!0,"complete"===N.readyState)return setTimeout(a.ready,1);if(N.addEventListener)N.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",a.ready,!1);else if(N.attachEvent){N.attachEvent("onreadystatechange",s),e.attachEvent("onload",a.ready);var t=!1;try{t=null==e.frameElement}catch(i){}N.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return"function"===a.type(e)},isArray:Array.isArray||function(e){return"array"===a.type(e)},isWindow:function(e){return e&&"object"==typeof e&&"setInterval"in e},isNaN:function(e){return null==e||!f.test(e)||isNaN(e)},type:function(e){return null==e?String(e):Y[M.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==a.type(e)||e.nodeType||a.isWindow(e))return!1;if(e.constructor&&!W.call(e,"constructor")&&!W.call(e.constructor.prototype,"isPrototypeOf"))return!1;var n;for(n in e);return n===t||W.call(e,n)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw e},parseJSON:function(t){return"string"==typeof t&&t?(t=a.trim(t),g.test(t.replace(y,"@").replace(v,"]").replace(_,""))?e.JSON&&e.JSON.parse?e.JSON.parse(t):new Function("return "+t)():(a.error("Invalid JSON: "+t),void 0)):null},parseXML:function(t,n,i){return e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t)),i=n.documentElement,(!i||!i.nodeName||"parsererror"===i.nodeName)&&a.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(e){if(e&&u.test(e)){var t=N.head||N.getElementsByTagName("head")[0]||N.documentElement,n=N.createElement("script");a.support.scriptEval()?n.appendChild(N.createTextNode(e)):n.text=e,t.insertBefore(n,t.firstChild),t.removeChild(n)}},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var r,o=0,s=e.length,l=s===t||a.isFunction(e);if(i)if(l){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>o&&n.apply(e[o++],i)!==!1;);else if(l){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(var c=e[0];s>o&&n.call(c,o,c)!==!1;c=e[++o]);return e},trim:R?function(e){return null==e?"":R.call(e)}:function(e){return null==e?"":(e+"").replace(h,"").replace(p,"")},makeArray:function(e,t){var n=t||[];if(null!=e){var i=a.type(e);null==e.length||"string"===i||"function"===i||"regexp"===i||a.isWindow(e)?k.call(n,e):a.merge(n,e)}return n},inArray:function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},merge:function(e,n){var i=e.length,r=0;if("number"==typeof n.length)for(var o=n.length;o>r;r++)e[i++]=n[r];else for(;n[r]!==t;)e[i++]=n[r++];return e.length=i,e},grep:function(e,t,n){var i,r=[];n=!!n;for(var o=0,s=e.length;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,n){for(var i,r=[],o=0,s=e.length;s>o;o++)i=t(e[o],o,n),null!=i&&(r[r.length]=i);return r.concat.apply([],r)},guid:1,proxy:function(e,n,i){return 2===arguments.length&&("string"==typeof n?(i=e,e=i[n],n=t):n&&!a.isFunction(n)&&(i=n,n=t)),!n&&e&&(n=function(){return e.apply(i||this,arguments)}),e&&(n.guid=e.guid=e.guid||n.guid||a.guid++),n},access:function(e,n,i,r,o,s){var l=e.length;if("object"==typeof n){for(var c in n)a.access(e,c,n[c],r,o,i);return e}if(i!==t){r=!s&&r&&a.isFunction(i);for(var d=0;l>d;d++)o(e[d],n,r?i.call(e[d],d,o(e[d],n)):i,s);return e}return l?o(e[0],n):t},now:function(){return(new Date).getTime()},_Deferred:function(){var e,t,n,i=[],r={done:function(){if(!n){var t,o,s,l,c,d=arguments;for(e&&(c=e,e=0),t=0,o=d.length;o>t;t++)s=d[t],l=a.type(s),"array"===l?r.done.apply(r,s):"function"===l&&i.push(s);c&&r.resolveWith(c[0],c[1])}return this},resolveWith:function(r,o){if(!n&&!e&&!t){t=1;try{for(;i[0];)i.shift().apply(r,o)}catch(s){throw s}finally{e=[r,o],t=0}}return this},resolve:function(){return r.resolveWith(a.isFunction(this.promise)?this.promise():this,arguments),this},isResolved:function(){return t||e},cancel:function(){return n=1,i=[],this}};return r},Deferred:function(e){var t,n=a._Deferred(),i=a._Deferred();return a.extend(n,{then:function(e,t){return n.done(e).fail(t),this},fail:i.done,rejectWith:i.resolveWith,reject:i.resolve,isRejected:i.isResolved,promise:function(e){if(null==e){if(t)return t;t=e={}}for(var i=S.length;i--;)e[S[i]]=n[S[i]];return e}}),n.done(i.cancel).fail(n.cancel),delete n.cancel,e&&e.call(n,n),n},when:function(e){var t=arguments.length,n=1>=t&&e&&a.isFunction(e.promise)?e:a.Deferred(),i=n.promise();if(t>1){for(var r=A.call(arguments,0),o=t,s=function(e){return function(t){r[e]=arguments.length>1?A.call(arguments,0):t,--o||n.resolveWith(i,r)}};t--;)e=r[t],e&&a.isFunction(e.promise)?e.promise().then(s(t),n.reject):--o;o||n.resolveWith(i,r)}else n!==e&&n.resolve(e);return i},uaMatch:function(e){e=e.toLowerCase();var t=b.exec(e)||w.exec(e)||x.exec(e)||0>e.indexOf("compatible")&&C.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}a.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.subclass=this.subclass,e.fn.init=function(n,i){return i&&i instanceof a&&!(i instanceof e)&&(i=e(i)),a.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(N);return e},browser:{}}),o=a._Deferred(),a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),r=a.uaMatch(T),r.browser&&(a.browser[r.browser]=!0,a.browser.version=r.version),a.browser.webkit&&(a.browser.safari=!0),L&&(a.inArray=function(e,t){return L.call(t,e)}),u.test(" ")&&(h=/^[\s\xA0]+/,p=/[\s\xA0]+$/),i=a(N),N.addEventListener?s=function(){N.removeEventListener("DOMContentLoaded",s,!1),a.ready()}:N.attachEvent&&(s=function(){"complete"===N.readyState&&(N.detachEvent("onreadystatechange",s),a.ready())}),a}();(function(){W.support={};var t=N.createElement("div");t.style.display="none",t.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var n=t.getElementsByTagName("*"),i=t.getElementsByTagName("a")[0],r=N.createElement("select"),o=r.appendChild(N.createElement("option")),s=t.getElementsByTagName("input")[0];if(n&&n.length&&i){W.support={leadingWhitespace:3===t.firstChild.nodeType,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/red/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55$/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:o.selected,deleteExpando:!0,optDisabled:!1,checkClone:!1,noCloneEvent:!0,noCloneChecked:!0,boxModel:null,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableHiddenOffsets:!0},s.checked=!0,W.support.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,W.support.optDisabled=!o.disabled;var a=null;W.support.scriptEval=function(){if(null===a){var t=N.documentElement,n=N.createElement("script"),i="script"+W.now();try{n.appendChild(N.createTextNode("window."+i+"=1;"))}catch(r){}t.insertBefore(n,t.firstChild),e[i]?(a=!0,delete e[i]):a=!1,t.removeChild(n),t=n=i=null}return a};try{delete t.test}catch(l){W.support.deleteExpando=!1}!t.addEventListener&&t.attachEvent&&t.fireEvent&&(t.attachEvent("onclick",function c(){W.support.noCloneEvent=!1,t.detachEvent("onclick",c)}),t.cloneNode(!0).fireEvent("onclick")),t=N.createElement("div"),t.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var d=N.createDocumentFragment();d.appendChild(t.firstChild),W.support.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,W(function(){var e=N.createElement("div"),t=N.getElementsByTagName("body")[0];if(t){e.style.width=e.style.paddingLeft="1px",t.appendChild(e),W.boxModel=W.support.boxModel=2===e.offsetWidth,"zoom"in e.style&&(e.style.display="inline",e.style.zoom=1,W.support.inlineBlockNeedsLayout=2===e.offsetWidth,e.style.display="",e.innerHTML="<div style='width:4px;'></div>",W.support.shrinkWrapBlocks=2!==e.offsetWidth),e.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";var n=e.getElementsByTagName("td");W.support.reliableHiddenOffsets=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",W.support.reliableHiddenOffsets=W.support.reliableHiddenOffsets&&0===n[0].offsetHeight,e.innerHTML="",t.removeChild(e).style.display="none",e=n=null}});var u=function(e){var t=N.createElement("div");if(e="on"+e,!t.attachEvent)return!0;var n=e in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n};W.support.submitBubbles=u("submit"),W.support.changeBubbles=u("change"),t=n=i=null}})();var k=/^(?:\{.*\}|\[.*\])$/;W.extend({cache:{},uuid:0,expando:"jQuery"+(W.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?W.cache[e[W.expando]]:e[W.expando],!!e&&!S(e)},data:function(e,n,i,r){if(W.acceptData(e)){var o,s=W.expando,a="string"==typeof n,l=e.nodeType,c=l?W.cache:e,d=l?e[W.expando]:e[W.expando]&&W.expando;if((!d||r&&d&&!c[d][s])&&a&&i===t)return;return d||(l?e[W.expando]=d=++W.uuid:d=W.expando),c[d]||(c[d]={},l||(c[d].toJSON=W.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d][s]=W.extend(c[d][s],n):c[d]=W.extend(c[d],n)),o=c[d],r&&(o[s]||(o[s]={}),o=o[s]),i!==t&&(o[n]=i),"events"!==n||o[n]?a?o[n]:o:o[s]&&o[s].events}},removeData:function(t,n,i){if(W.acceptData(t)){var r=W.expando,o=t.nodeType,s=o?W.cache:t,a=o?t[W.expando]:W.expando;if(!s[a])return;if(n){var l=i?s[a][r]:s[a];if(l&&(delete l[n],!S(l)))return}if(i&&(delete s[a][r],!S(s[a])))return;var c=s[a][r];W.support.deleteExpando||s!=e?delete s[a]:s[a]=null,c?(s[a]={},o||(s[a].toJSON=W.noop),s[a][r]=c):o&&(W.support.deleteExpando?delete t[W.expando]:t.removeAttribute?t.removeAttribute(W.expando):t[W.expando]=null)}},_data:function(e,t,n){return W.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=W.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),W.fn.extend({data:function(e,n){var i=null;if("undefined"==typeof e){if(this.length&&(i=W.data(this[0]),1===this[0].nodeType))for(var r,o=this[0].attributes,s=0,a=o.length;a>s;s++)r=o[s].name,0===r.indexOf("data-")&&(r=r.substr(5),M(this[0],r,i[r]));return i}if("object"==typeof e)return this.each(function(){W.data(this,e)});var l=e.split(".");return l[1]=l[1]?"."+l[1]:"",n===t?(i=this.triggerHandler("getData"+l[1]+"!",[l[0]]),i===t&&this.length&&(i=W.data(this[0],e),i=M(this[0],e,i)),i===t&&l[1]?this.data(l[0]):i):this.each(function(){var t=W(this),i=[l[0],n];t.triggerHandler("setData"+l[1]+"!",i),W.data(this,e,n),t.triggerHandler("changeData"+l[1]+"!",i)})},removeData:function(e){return this.each(function(){W.removeData(this,e)})}}),W.extend({queue:function(e,t,n){if(e){t=(t||"fx")+"queue";var i=W._data(e,t);return n?(!i||W.isArray(n)?i=W._data(e,t,W.makeArray(n)):i.push(n),i):i||[]}},dequeue:function(e,t){t=t||"fx";var n=W.queue(e,t),i=n.shift();"inprogress"===i&&(i=n.shift()),i&&("fx"===t&&n.unshift("inprogress"),i.call(e,function(){W.dequeue(e,t)})),n.length||W.removeData(e,t+"queue",!0)}}),W.fn.extend({queue:function(e,n){return"string"!=typeof e&&(n=e,e="fx"),n===t?W.queue(this[0],e):this.each(function(){var t=W.queue(this,e,n);"fx"===e&&"inprogress"!==t[0]&&W.dequeue(this,e)})},dequeue:function(e){return this.each(function(){W.dequeue(this,e)})},delay:function(e,t){return e=W.fx?W.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(){var n=this;setTimeout(function(){W.dequeue(n,t)},e)})},clearQueue:function(e){return this.queue(e||"fx",[])}});var A=/[\n\t\r]/g,R=/\s+/,L=/\r/g,Y=/^(?:href|src|style)$/,I=/^(?:button|input)$/i,O=/^(?:button|input|object|select|textarea)$/i,D=/^a(?:rea)?$/i,j=/^(?:radio|checkbox)$/i;W.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"},W.fn.extend({attr:function(e,t){return W.access(this,e,t,!0,W.attr)},removeAttr:function(e){return this.each(function(){W.attr(this,e,""),1===this.nodeType&&this.removeAttribute(e)})},addClass:function(e){if(W.isFunction(e))return this.each(function(t){var n=W(this);n.addClass(e.call(this,t,n.attr("class")))});if(e&&"string"==typeof e)for(var t=(e||"").split(R),n=0,i=this.length;i>n;n++){var r=this[n];if(1===r.nodeType)if(r.className){for(var o=" "+r.className+" ",s=r.className,a=0,l=t.length;l>a;a++)0>o.indexOf(" "+t[a]+" ")&&(s+=" "+t[a]);r.className=W.trim(s)}else r.className=e}return this},removeClass:function(e){if(W.isFunction(e))return this.each(function(t){var n=W(this);n.removeClass(e.call(this,t,n.attr("class")))});if(e&&"string"==typeof e||e===t)for(var n=(e||"").split(R),i=0,r=this.length;r>i;i++){var o=this[i];if(1===o.nodeType&&o.className)if(e){for(var s=(" "+o.className+" ").replace(A," "),a=0,l=n.length;l>a;a++)s=s.replace(" "+n[a]+" "," ");o.className=W.trim(s)}else o.className=""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return W.isFunction(e)?this.each(function(n){var i=W(this);i.toggleClass(e.call(this,n,i.attr("class"),t),t)}):this.each(function(){if("string"===n)for(var r,o=0,s=W(this),a=t,l=e.split(R);r=l[o++];)a=i?a:!s.hasClass(r),s[a?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&W._data(this,"__className__",this.className),this.className=this.className||e===!1?"":W._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if((" "+this[n].className+" ").replace(A," ").indexOf(t)>-1)return!0;return!1},val:function(e){if(!arguments.length){var n=this[0];if(n){if(W.nodeName(n,"option")){var i=n.attributes.value;return!i||i.specified?n.value:n.text}if(W.nodeName(n,"select")){var r=n.selectedIndex,o=[],s=n.options,a="select-one"===n.type;if(0>r)return null;for(var l=a?r:0,c=a?r+1:s.length;c>l;l++){var d=s[l];if(!(!d.selected||(W.support.optDisabled?d.disabled:null!==d.getAttribute("disabled"))||d.parentNode.disabled&&W.nodeName(d.parentNode,"optgroup"))){if(e=W(d).val(),a)return e;o.push(e)}}return a&&!o.length&&s.length?W(s[r]).val():o}return j.test(n.type)&&!W.support.checkOn?null===n.getAttribute("value")?"on":n.value:(n.value||"").replace(L,"")}return t}var u=W.isFunction(e);return this.each(function(t){var n=W(this),i=e;if(1===this.nodeType)if(u&&(i=e.call(this,t,n.val())),null==i?i="":"number"==typeof i?i+="":W.isArray(i)&&(i=W.map(i,function(e){return null==e?"":e+""})),W.isArray(i)&&j.test(this.type))this.checked=W.inArray(n.val(),i)>=0;else if(W.nodeName(this,"select")){var r=W.makeArray(i);W("option",this).each(function(){this.selected=W.inArray(W(this).val(),r)>=0}),r.length||(this.selectedIndex=-1)}else this.value=i})}}),W.extend({attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,i,r){if(!e||3===e.nodeType||8===e.nodeType||2===e.nodeType)return t;if(r&&n in W.attrFn)return W(e)[n](i);var o=1!==e.nodeType||!W.isXMLDoc(e),s=i!==t;if(n=o&&W.props[n]||n,1===e.nodeType){var a=Y.test(n);if("selected"===n&&!W.support.optSelected){var l=e.parentNode;l&&(l.selectedIndex,l.parentNode&&l.parentNode.selectedIndex)}if((n in e||e[n]!==t)&&o&&!a){if(s&&("type"===n&&I.test(e.nodeName)&&e.parentNode&&W.error("type property can't be changed"),null===i?1===e.nodeType&&e.removeAttribute(n):e[n]=i),W.nodeName(e,"form")&&e.getAttributeNode(n))return e.getAttributeNode(n).nodeValue;if("tabIndex"===n){var c=e.getAttributeNode("tabIndex");return c&&c.specified?c.value:O.test(e.nodeName)||D.test(e.nodeName)&&e.href?0:t}return e[n]}if(!W.support.style&&o&&"style"===n)return s&&(e.style.cssText=""+i),e.style.cssText;if(s&&e.setAttribute(n,""+i),!e.attributes[n]&&e.hasAttribute&&!e.hasAttribute(n))return t;var d=!W.support.hrefNormalized&&o&&a?e.getAttribute(n,2):e.getAttribute(n);return null===d?t:d}return s&&(e[n]=i),e[n]}});var P=/\.(.*)$/,H=/^(?:textarea|input|select)$/i,B=/\./g,$=/ /g,F=/[^\w\s.|`]/g,Q=function(e){return e.replace(F,"\\$&")};W.event={add:function(n,i,r,o){if(3!==n.nodeType&&8!==n.nodeType){try{W.isWindow(n)&&n!==e&&!n.frameElement&&(n=e)}catch(s){}if(r===!1)r=E;else if(!r)return;var a,l;r.handler&&(a=r,r=a.handler),r.guid||(r.guid=W.guid++);var c=W._data(n);if(!c)return;var d=c.events,u=c.handle;d||(c.events=d={}),u||(c.handle=u=function(){return"undefined"==typeof W||W.event.triggered?t:W.event.handle.apply(u.elem,arguments)}),u.elem=n,i=i.split(" ");for(var h,p,f=0;h=i[f++];){l=a?W.extend({},a):{handler:r,data:o},h.indexOf(".")>-1?(p=h.split("."),h=p.shift(),l.namespace=p.slice(0).sort().join(".")):(p=[],l.namespace=""),l.type=h,l.guid||(l.guid=r.guid);var m=d[h],g=W.event.special[h]||{};m||(m=d[h]=[],g.setup&&g.setup.call(n,o,p,u)!==!1||(n.addEventListener?n.addEventListener(h,u,!1):n.attachEvent&&n.attachEvent("on"+h,u))),g.add&&(g.add.call(n,l),l.handler.guid||(l.handler.guid=r.guid)),m.push(l),W.event.global[h]=!0}n=null}},global:{},remove:function(e,n,i,r){if(3!==e.nodeType&&8!==e.nodeType){i===!1&&(i=E);var o,s,a,l,c,d,u,h,p,f,m=0,g=W.hasData(e)&&W._data(e),y=g&&g.events;if(!g||!y)return;if(n&&n.type&&(i=n.handler,n=n.type),!n||"string"==typeof n&&"."===n.charAt(0)){n=n||"";for(s in y)W.event.remove(e,s+n);return}for(n=n.split(" ");s=n[m++];)if(f=s,p=null,l=0>s.indexOf("."),c=[],l||(c=s.split("."),s=c.shift(),d=new RegExp("(^|\\.)"+W.map(c.slice(0).sort(),Q).join("\\.(?:.*\\.)?")+"(\\.|$)")),h=y[s],h)if(i){for(u=W.event.special[s]||{},a=r||0;h.length>a&&(p=h[a],i.guid!==p.guid||((l||d.test(p.namespace))&&(null==r&&h.splice(a--,1),u.remove&&u.remove.call(e,p)),null==r));a++);(0===h.length||null!=r&&1===h.length)&&((!u.teardown||u.teardown.call(e,c)===!1)&&W.removeEvent(e,s,g.handle),o=null,delete y[s])}else for(a=0;h.length>a;a++)p=h[a],(l||d.test(p.namespace))&&(W.event.remove(e,f,p.handler,a),h.splice(a--,1));if(W.isEmptyObject(y)){var v=g.handle;v&&(v.elem=null),delete g.events,delete g.handle,W.isEmptyObject(g)&&W.removeData(e,t,!0)}}},trigger:function(e,n,i){var r=e.type||e,o=arguments[3];if(!o){if(e="object"==typeof e?e[W.expando]?e:W.extend(W.Event(r),e):W.Event(r),r.indexOf("!")>=0&&(e.type=r=r.slice(0,-1),e.exclusive=!0),i||(e.stopPropagation(),W.event.global[r]&&W.each(W.cache,function(){var t=W.expando,i=this[t];i&&i.events&&i.events[r]&&W.event.trigger(e,n,i.handle.elem)})),!i||3===i.nodeType||8===i.nodeType)return t;e.result=t,e.target=i,n=W.makeArray(n),n.unshift(e)}e.currentTarget=i;var s=W._data(i,"handle");s&&s.apply(i,n);var a=i.parentNode||i.ownerDocument;try{i&&i.nodeName&&W.noData[i.nodeName.toLowerCase()]||i["on"+r]&&i["on"+r].apply(i,n)===!1&&(e.result=!1,e.preventDefault())}catch(l){}if(!e.isPropagationStopped()&&a)W.event.trigger(e,n,a,!0);else if(!e.isDefaultPrevented()){var c,d=e.target,u=r.replace(P,""),h=W.nodeName(d,"a")&&"click"===u,p=W.event.special[u]||{};if(!(p._default&&p._default.call(i,e)!==!1||h||d&&d.nodeName&&W.noData[d.nodeName.toLowerCase()])){try{d[u]&&(c=d["on"+u],c&&(d["on"+u]=null),W.event.triggered=!0,d[u]())}catch(f){}c&&(d["on"+u]=c),W.event.triggered=!1}}},handle:function(n){var i,r,o,s,a,l=[],c=W.makeArray(arguments);if(n=c[0]=W.event.fix(n||e.event),n.currentTarget=this,i=0>n.type.indexOf(".")&&!n.exclusive,i||(o=n.type.split("."),n.type=o.shift(),l=o.slice(0).sort(),s=new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)")),n.namespace=n.namespace||l.join("."),a=W._data(this,"events"),r=(a||{})[n.type],a&&r){r=r.slice(0);for(var d=0,u=r.length;u>d;d++){var h=r[d];if(i||s.test(h.namespace)){n.handler=h.handler,n.data=h.data,n.handleObj=h;var p=h.handler.apply(this,c);if(p!==t&&(n.result=p,p===!1&&(n.preventDefault(),n.stopPropagation())),n.isImmediatePropagationStopped())break}}}return n.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(e){if(e[W.expando])return e;var n=e;e=W.Event(n);for(var i,r=this.props.length;r;)i=this.props[--r],e[i]=n[i];if(e.target||(e.target=e.srcElement||N),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var o=N.documentElement,s=N.body;e.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return null==e.which&&(null!=e.charCode||null!=e.keyCode)&&(e.which=null!=e.charCode?e.charCode:e.keyCode),!e.metaKey&&e.ctrlKey&&(e.metaKey=e.ctrlKey),!e.which&&e.button!==t&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e},guid:1e8,proxy:W.proxy,special:{ready:{setup:W.bindReady,teardown:W.noop},live:{add:function(e){W.event.add(this,w(e.origType,e.selector),W.extend({},e,{handler:x,guid:e.handler.guid}))},remove:function(e){W.event.remove(this,w(e.origType,e.selector),e)}},beforeunload:{setup:function(e,t,n){W.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}}},W.removeEvent=N.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},W.Event=function(e){return this.preventDefault?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?T:E):this.type=e,this.timeStamp=W.now(),this[W.expando]=!0,void 0):new W.Event(e)},W.Event.prototype={preventDefault:function(){this.isDefaultPrevented=T;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=T;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=T,this.stopPropagation()},isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E};var z=function(e){var t=e.relatedTarget;try{if(t!==N&&!t.parentNode)return;for(;t&&t!==this;)t=t.parentNode;t!==this&&(e.type=e.data,W.event.handle.apply(this,arguments))}catch(n){}},q=function(e){e.type=e.data,W.event.handle.apply(this,arguments)};if(W.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){W.event.special[e]={setup:function(n){W.event.add(this,t,n&&n.selector?q:z,e)},teardown:function(e){W.event.remove(this,t,e&&e.selector?q:z)}}}),W.support.submitBubbles||(W.event.special.submit={setup:function(){return this.nodeName&&"form"!==this.nodeName.toLowerCase()?(W.event.add(this,"click.specialSubmit",function(e){var t=e.target,n=t.type;("submit"===n||"image"===n)&&W(t).closest("form").length&&C("submit",this,arguments)}),W.event.add(this,"keypress.specialSubmit",function(e){var t=e.target,n=t.type;("text"===n||"password"===n)&&W(t).closest("form").length&&13===e.keyCode&&C("submit",this,arguments)}),void 0):!1},teardown:function(){W.event.remove(this,".specialSubmit")}}),!W.support.changeBubbles){var X,U=function(e){var t=e.type,n=e.value;return"radio"===t||"checkbox"===t?n=e.checked:"select-multiple"===t?n=e.selectedIndex>-1?W.map(e.options,function(e){return e.selected}).join("-"):"":"select"===e.nodeName.toLowerCase()&&(n=e.selectedIndex),n
},K=function K(e){var n,i,r=e.target;if(H.test(r.nodeName)&&!r.readOnly){if(n=W._data(r,"_change_data"),i=U(r),("focusout"!==e.type||"radio"!==r.type)&&W._data(r,"_change_data",i),n===t||i===n)return;(null!=n||i)&&(e.type="change",e.liveFired=t,W.event.trigger(e,arguments[1],r))}};W.event.special.change={filters:{focusout:K,beforedeactivate:K,click:function(e){var t=e.target,n=t.type;("radio"===n||"checkbox"===n||"select"===t.nodeName.toLowerCase())&&K.call(this,e)},keydown:function(e){var t=e.target,n=t.type;(13===e.keyCode&&"textarea"!==t.nodeName.toLowerCase()||32===e.keyCode&&("checkbox"===n||"radio"===n)||"select-multiple"===n)&&K.call(this,e)},beforeactivate:function(e){var t=e.target;W._data(t,"_change_data",U(t))}},setup:function(){if("file"===this.type)return!1;for(var e in X)W.event.add(this,e+".specialChange",X[e]);return H.test(this.nodeName)},teardown:function(){return W.event.remove(this,".specialChange"),H.test(this.nodeName)}},X=W.event.special.change.filters,X.focus=X.beforeactivate}N.addEventListener&&W.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){return e=W.event.fix(e),e.type=t,W.event.handle.call(this,e)}W.event.special[t]={setup:function(){this.addEventListener(e,n,!0)},teardown:function(){this.removeEventListener(e,n,!0)}}}),W.each(["bind","one"],function(e,n){W.fn[n]=function(e,i,r){if("object"==typeof e){for(var o in e)this[n](o,i,e[o],r);return this}(W.isFunction(i)||i===!1)&&(r=i,i=t);var s="one"===n?W.proxy(r,function(e){return W(this).unbind(e,s),r.apply(this,arguments)}):r;if("unload"===e&&"one"!==n)this.one(e,i,r);else for(var a=0,l=this.length;l>a;a++)W.event.add(this[a],e,s,i);return this}}),W.fn.extend({unbind:function(e,t){if("object"!=typeof e||e.preventDefault)for(var n=0,i=this.length;i>n;n++)W.event.remove(this[n],e,t);else for(var r in e)this.unbind(r,e[r]);return this},delegate:function(e,t,n,i){return this.live(t,n,i,e)},undelegate:function(e,t,n){return 0===arguments.length?this.unbind("live"):this.die(t,null,n,e)},trigger:function(e,t){return this.each(function(){W.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0]){var n=W.Event(e);return n.preventDefault(),n.stopPropagation(),W.event.trigger(n,t,this[0]),n.result}},toggle:function(e){for(var t=arguments,n=1;t.length>n;)W.proxy(e,t[n++]);return this.click(W.proxy(e,function(i){var r=(W._data(this,"lastToggle"+e.guid)||0)%n;return W._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1}))},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var V={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};W.each(["live","die"],function(e,n){W.fn[n]=function(e,i,r,o){var s,a,l,c,d=0,u=o||this.selector,h=o?this:W(this.context);if("object"==typeof e&&!e.preventDefault){for(var p in e)h[n](p,i,e[p],u);return this}for(W.isFunction(i)&&(r=i,i=t),e=(e||"").split(" ");null!=(s=e[d++]);)if(a=P.exec(s),l="",a&&(l=a[0],s=s.replace(P,"")),"hover"!==s)if(c=s,"focus"===s||"blur"===s?(e.push(V[s]+l),s+=l):s=(V[s]||s)+l,"live"===n)for(var f=0,m=h.length;m>f;f++)W.event.add(h[f],"live."+w(s,u),{data:i,selector:u,handler:r,origType:s,origHandler:r,preType:c});else h.unbind("live."+w(s,u),r);else e.push("mouseenter"+l,"mouseleave"+l);return this}}),W.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(e,t){W.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.bind(t,e,n):this.trigger(t)},W.attrFn&&(W.attrFn[t]=!0)}),function(){function e(e,t,n,i,r,o){for(var s=0,a=i.length;a>s;s++){var l=i[s];if(l){var c=!1;for(l=l[e];l;){if(l.sizcache===n){c=i[l.sizset];break}if(1===l.nodeType)if(o||(l.sizcache=n,l.sizset=s),"string"!=typeof t){if(l===t){c=!0;break}}else if(d.filter(t,[l]).length>0){c=l;break}l=l[e]}i[s]=c}}}function n(e,t,n,i,r,o){for(var s=0,a=i.length;a>s;s++){var l=i[s];if(l){var c=!1;for(l=l[e];l;){if(l.sizcache===n){c=i[l.sizset];break}if(1===l.nodeType&&!o&&(l.sizcache=n,l.sizset=s),l.nodeName.toLowerCase()===t){c=l;break}l=l[e]}i[s]=c}}}var i=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r=0,o=Object.prototype.toString,s=!1,a=!0,l=/\\/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var d=function(e,t,n,r){n=n||[],t=t||N;var s=t;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return n;var a,l,c,p,f,g,y,v,b=!0,w=d.isXML(t),x=[],C=e;do if(i.exec(""),a=i.exec(C),a&&(C=a[3],x.push(a[1]),a[2])){p=a[3];break}while(a);if(x.length>1&&h.exec(e))if(2===x.length&&u.relative[x[0]])l=_(x[0]+x[1],t);else for(l=u.relative[x[0]]?[t]:d(x.shift(),t);x.length;)e=x.shift(),u.relative[e]&&(e+=x.shift()),l=_(e,l);else if(!r&&x.length>1&&9===t.nodeType&&!w&&u.match.ID.test(x[0])&&!u.match.ID.test(x[x.length-1])&&(f=d.find(x.shift(),t,w),t=f.expr?d.filter(f.expr,f.set)[0]:f.set[0]),t)for(f=r?{expr:x.pop(),set:m(r)}:d.find(x.pop(),1!==x.length||"~"!==x[0]&&"+"!==x[0]||!t.parentNode?t:t.parentNode,w),l=f.expr?d.filter(f.expr,f.set):f.set,x.length>0?c=m(l):b=!1;x.length;)g=x.pop(),y=g,u.relative[g]?y=x.pop():g="",null==y&&(y=t),u.relative[g](c,y,w);else c=x=[];if(c||(c=l),c||d.error(g||e),"[object Array]"===o.call(c))if(b)if(t&&1===t.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&d.contains(t,c[v]))&&n.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&n.push(l[v]);else n.push.apply(n,c);else m(c,n);return p&&(d(p,s,n,r),d.uniqueSort(n)),n};d.uniqueSort=function(e){if(y&&(s=a,e.sort(y),s))for(var t=1;e.length>t;t++)e[t]===e[t-1]&&e.splice(t--,1);return e},d.matches=function(e,t){return d(e,null,null,t)},d.matchesSelector=function(e,t){return d(t,null,null,[e]).length>0},d.find=function(e,t,n){var i;if(!e)return[];for(var r=0,o=u.order.length;o>r;r++){var s,a=u.order[r];if(s=u.leftMatch[a].exec(e)){var c=s[1];if(s.splice(1,1),"\\"!==c.substr(c.length-1)&&(s[1]=(s[1]||"").replace(l,""),i=u.find[a](s,t,n),null!=i)){e=e.replace(u.match[a],"");break}}}return i||(i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):[]),{set:i,expr:e}},d.filter=function(e,n,i,r){for(var o,s,a=e,l=[],c=n,h=n&&n[0]&&d.isXML(n[0]);e&&n.length;){for(var p in u.filter)if(null!=(o=u.leftMatch[p].exec(e))&&o[2]){var f,m,g=u.filter[p],y=o[1];if(s=!1,o.splice(1,1),"\\"===y.substr(y.length-1))continue;if(c===l&&(l=[]),u.preFilter[p])if(o=u.preFilter[p](o,c,i,l,r,h)){if(o===!0)continue}else s=f=!0;if(o)for(var v=0;null!=(m=c[v]);v++)if(m){f=g(m,o,v,c);var _=r^!!f;i&&null!=f?_?s=!0:c[v]=!1:_&&(l.push(m),s=!0)}if(f!==t){if(i||(c=l),e=e.replace(u.match[p],""),!s)return[];break}}if(e===a){if(null!=s)break;d.error(e)}a=e}return c},d.error=function(e){throw"Syntax error, unrecognized expression: "+e};var u=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n="string"==typeof t,i=n&&!c.test(t),r=n&&!i;i&&(t=t.toLowerCase());for(var o,s=0,a=e.length;a>s;s++)if(o=e[s]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[s]=r||o&&o.nodeName.toLowerCase()===t?o||!1:o===t}r&&d.filter(t,e,!0)},">":function(e,t){var n,i="string"==typeof t,r=0,o=e.length;if(i&&!c.test(t)){for(t=t.toLowerCase();o>r;r++)if(n=e[r]){var s=n.parentNode;e[r]=s.nodeName.toLowerCase()===t?s:!1}}else{for(;o>r;r++)n=e[r],n&&(e[r]=i?n.parentNode:n.parentNode===t);i&&d.filter(t,e,!0)}},"":function(t,i,o){var s,a=r++,l=e;"string"==typeof i&&!c.test(i)&&(i=i.toLowerCase(),s=i,l=n),l("parentNode",i,a,t,s,o)},"~":function(t,i,o){var s,a=r++,l=e;"string"==typeof i&&!c.test(i)&&(i=i.toLowerCase(),s=i,l=n),l("previousSibling",i,a,t,s,o)}},find:{ID:function(e,t,n){if("undefined"!=typeof t.getElementById&&!n){var i=t.getElementById(e[1]);return i&&i.parentNode?[i]:[]}},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],i=t.getElementsByName(e[1]),r=0,o=i.length;o>r;r++)i[r].getAttribute("name")===e[1]&&n.push(i[r]);return 0===n.length?null:n}},TAG:function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e[1]):void 0}},preFilter:{CLASS:function(e,t,n,i,r,o){if(e=" "+e[1].replace(l,"")+" ",o)return e;for(var s,a=0;null!=(s=t[a]);a++)s&&(r^(s.className&&(" "+s.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||i.push(s):n&&(t[a]=!1));return!1},ID:function(e){return e[1].replace(l,"")},TAG:function(e){return e[1].replace(l,"").toLowerCase()},CHILD:function(e){if("nth"===e[1]){e[2]||d.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===e[2]&&"2n"||"odd"===e[2]&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&d.error(e[0]);return e[0]=r++,e},ATTR:function(e,t,n,i,r,o){var s=e[1]=e[1].replace(l,"");return!o&&u.attrMap[s]&&(e[1]=u.attrMap[s]),e[4]=(e[4]||e[5]||"").replace(l,""),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,r,o){if("not"===e[1]){if(!((i.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var s=d.filter(e[3],t,n,!0^o);return n||r.push.apply(r,s),!1}e[3]=d(e[3],null,null,t)}else if(u.match.POS.test(e[0])||u.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&"hidden"!==e.type},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!d(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){return"text"===e.getAttribute("type")},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"button"===e.nodeName.toLowerCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,i){return t===i.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return n[3]-0>t},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,i){var r=t[1],o=u.filters[r];if(o)return o(e,n,t,i);if("contains"===r)return(e.textContent||e.innerText||d.getText([e])||"").indexOf(t[3])>=0;if("not"===r){for(var s=t[3],a=0,l=s.length;l>a;a++)if(s[a]===e)return!1;return!0}d.error(r)},CHILD:function(e,t){var n=t[1],i=e;switch(n){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===n)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0;case"nth":var r=t[2],o=t[3];if(1===r&&0===o)return!0;var s=t[0],a=e.parentNode;if(a&&(a.sizcache!==s||!e.nodeIndex)){var l=0;for(i=a.firstChild;i;i=i.nextSibling)1===i.nodeType&&(i.nodeIndex=++l);a.sizcache=s}var c=e.nodeIndex-o;return 0===r?0===c:0===c%r&&c/r>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],i=u.attrHandle[n]?u.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=i+"",o=t[2],s=t[4];return null==i?"!="===o:"="===o?r===s:"*="===o?r.indexOf(s)>=0:"~="===o?(" "+r+" ").indexOf(s)>=0:s?"!="===o?r!==s:"^="===o?0===r.indexOf(s):"$="===o?r.substr(r.length-s.length)===s:"|="===o?r===s||r.substr(0,s.length+1)===s+"-":!1:r&&i!==!1},POS:function(e,t,n,i){var r=t[2],o=u.setFilters[r];return o?o(e,n,t,i):void 0}}},h=u.match.POS,p=function(e,t){return"\\"+(t-0+1)};for(var f in u.match)u.match[f]=new RegExp(u.match[f].source+/(?![^\[]*\])(?![^\(]*\))/.source),u.leftMatch[f]=new RegExp(/(^(?:.|\r|\n)*?)/.source+u.match[f].source.replace(/\\(\d+)/g,p));var m=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(N.documentElement.childNodes,0)[0].nodeType}catch(g){m=function(e,t){var n=0,i=t||[];if("[object Array]"===o.call(e))Array.prototype.push.apply(i,e);else if("number"==typeof e.length)for(var r=e.length;r>n;n++)i.push(e[n]);else for(;e[n];n++)i.push(e[n]);return i}}var y,v;N.documentElement.compareDocumentPosition?y=function(e,t){return e===t?(s=!0,0):e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t)?-1:1:e.compareDocumentPosition?-1:1}:(y=function(e,t){var n,i,r=[],o=[],a=e.parentNode,l=t.parentNode,c=a;if(e===t)return s=!0,0;if(a===l)return v(e,t);if(!a)return-1;if(!l)return 1;for(;c;)r.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var d=0;n>d&&i>d;d++)if(r[d]!==o[d])return v(r[d],o[d]);return d===n?v(e,o[d],-1):v(r[d],t,1)},v=function(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}),d.getText=function(e){for(var t,n="",i=0;e[i];i++)t=e[i],3===t.nodeType||4===t.nodeType?n+=t.nodeValue:8!==t.nodeType&&(n+=d.getText(t.childNodes));return n},function(){var e=N.createElement("div"),n="script"+(new Date).getTime(),i=N.documentElement;e.innerHTML="<a name='"+n+"'/>",i.insertBefore(e,i.firstChild),N.getElementById(n)&&(u.find.ID=function(e,n,i){if("undefined"!=typeof n.getElementById&&!i){var r=n.getElementById(e[1]);return r?r.id===e[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===e[1]?[r]:t:[]}},u.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=N.createElement("div");e.appendChild(N.createComment("")),e.getElementsByTagName("*").length>0&&(u.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var i=[],r=0;n[r];r++)1===n[r].nodeType&&i.push(n[r]);n=i}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(u.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),N.querySelectorAll&&function(){var e=d,t=N.createElement("div"),n="__sizzle__";if(t.innerHTML="<p class='TEST'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){d=function(t,i,r,o){if(i=i||N,!o&&!d.isXML(i)){var s=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(s&&(1===i.nodeType||9===i.nodeType)){if(s[1])return m(i.getElementsByTagName(t),r);if(s[2]&&u.find.CLASS&&i.getElementsByClassName)return m(i.getElementsByClassName(s[2]),r)}if(9===i.nodeType){if("body"===t&&i.body)return m([i.body],r);if(s&&s[3]){var a=i.getElementById(s[3]);if(!a||!a.parentNode)return m([],r);if(a.id===s[3])return m([a],r)}try{return m(i.querySelectorAll(t),r)}catch(l){}}else if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){var c=i,h=i.getAttribute("id"),p=h||n,f=i.parentNode,g=/^\s*[+~]/.test(t);h?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),g&&f&&(i=i.parentNode);try{if(!g||f)return m(i.querySelectorAll("[id='"+p+"'] "+t),r)}catch(y){}finally{h||c.removeAttribute("id")}}}return e(t,i,r,o)};for(var i in e)d[i]=e[i];t=null}}(),function(){var e=N.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector,n=!1;try{t.call(N.documentElement,"[test!='']:sizzle")}catch(i){n=!0}t&&(d.matchesSelector=function(e,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(e))try{if(n||!u.match.PSEUDO.test(i)&&!/!=/.test(i))return t.call(e,i)}catch(r){}return d(i,null,null,[e]).length>0})}(),function(){var e=N.createElement("div");if(e.innerHTML="<div class='test e'></div><div class='test'></div>",e.getElementsByClassName&&0!==e.getElementsByClassName("e").length){if(e.lastChild.className="e",1===e.getElementsByClassName("e").length)return;u.order.splice(1,0,"CLASS"),u.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null}}(),d.contains=N.documentElement.contains?function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:N.documentElement.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:function(){return!1},d.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1};var _=function(e,t){for(var n,i=[],r="",o=t.nodeType?[t]:t;n=u.match.PSEUDO.exec(e);)r+=n[0],e=e.replace(u.match.PSEUDO,"");e=u.relative[e]?e+"*":e;for(var s=0,a=o.length;a>s;s++)d(e,o[s],i);return d.filter(r,i)};W.find=d,W.expr=d.selectors,W.expr[":"]=W.expr.filters,W.unique=d.uniqueSort,W.text=d.getText,W.isXMLDoc=d.isXML,W.contains=d.contains}();var G=/Until$/,J=/^(?:parents|prevUntil|prevAll)/,Z=/,/,et=/^.[^:#\[\.,]*$/,tt=Array.prototype.slice,nt=W.expr.match.POS,it={children:!0,contents:!0,next:!0,prev:!0};W.fn.extend({find:function(e){for(var t=this.pushStack("","find",e),n=0,i=0,r=this.length;r>i;i++)if(n=t.length,W.find(e,this[i],t),i>0)for(var o=n;t.length>o;o++)for(var s=0;n>s;s++)if(t[s]===t[o]){t.splice(o--,1);break}return t},has:function(e){var t=W(e);return this.filter(function(){for(var e=0,n=t.length;n>e;e++)if(W.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(_(this,e,!1),"not",e)},filter:function(e){return this.pushStack(_(this,e,!0),"filter",e)},is:function(e){return!!e&&W.filter(e,this).length>0},closest:function(e,t){var n,i,r=[],o=this[0];if(W.isArray(e)){var s,a,l={},c=1;if(o&&e.length){for(n=0,i=e.length;i>n;n++)a=e[n],l[a]||(l[a]=W.expr.match.POS.test(a)?W(a,t||this.context):a);for(;o&&o.ownerDocument&&o!==t;){for(a in l)s=l[a],(s.jquery?s.index(o)>-1:W(o).is(s))&&r.push({selector:a,elem:o,level:c});o=o.parentNode,c++}}return r}var d=nt.test(e)?W(e,t||this.context):null;for(n=0,i=this.length;i>n;n++)for(o=this[n];o;){if(d?d.index(o)>-1:W.find.matchesSelector(o,e)){r.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===t)break}return r=r.length>1?W.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e&&"string"!=typeof e?W.inArray(e.jquery?e[0]:e,this):W.inArray(this[0],e?W(e):this.parent().children())},add:function(e,t){var n="string"==typeof e?W(e,t):W.makeArray(e),i=W.merge(this.get(),n);return this.pushStack(b(n[0])||b(i[0])?i:W.unique(i))},andSelf:function(){return this.add(this.prevObject)}}),W.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return W.dir(e,"parentNode")},parentsUntil:function(e,t,n){return W.dir(e,"parentNode",n)},next:function(e){return W.nth(e,2,"nextSibling")},prev:function(e){return W.nth(e,2,"previousSibling")},nextAll:function(e){return W.dir(e,"nextSibling")},prevAll:function(e){return W.dir(e,"previousSibling")},nextUntil:function(e,t,n){return W.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return W.dir(e,"previousSibling",n)},siblings:function(e){return W.sibling(e.parentNode.firstChild,e)},children:function(e){return W.sibling(e.firstChild)},contents:function(e){return W.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:W.makeArray(e.childNodes)}},function(e,t){W.fn[e]=function(n,i){var r=W.map(this,t,n),o=tt.call(arguments);return G.test(e)||(i=n),i&&"string"==typeof i&&(r=W.filter(i,r)),r=this.length>1&&!it[e]?W.unique(r):r,(this.length>1||Z.test(i))&&J.test(e)&&(r=r.reverse()),this.pushStack(r,e,o.join(","))}}),W.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?W.find.matchesSelector(t[0],e)?[t[0]]:[]:W.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!W(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},nth:function(e,t,n){t=t||1;for(var i=0;e&&(1!==e.nodeType||++i!==t);e=e[n]);return e},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var rt=/ jQuery\d+="(?:\d+|null)"/g,ot=/^\s+/,st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,at=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,dt=/<(?:script|object|embed|option|style)/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,ht={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};ht.optgroup=ht.option,ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td,W.support.htmlSerialize||(ht._default=[1,"div<div>","</div>"]),W.fn.extend({text:function(e){return W.isFunction(e)?this.each(function(t){var n=W(this);n.text(e.call(this,t,n.text()))}):"object"!=typeof e&&e!==t?this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(e)):W.text(this)},wrapAll:function(e){if(W.isFunction(e))return this.each(function(t){W(this).wrapAll(e.call(this,t))});if(this[0]){var t=W(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return W.isFunction(e)?this.each(function(t){W(this).wrapInner(e.call(this,t))}):this.each(function(){var t=W(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){return this.each(function(){W(this).wrapAll(e)})},unwrap:function(){return this.parent().each(function(){W.nodeName(this,"body")||W(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=W(arguments[0]);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,W(arguments[0]).toArray()),e}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||W.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(W.cleanData(n.getElementsByTagName("*")),W.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&W.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return W.clone(this,e,t)})},html:function(e){if(e===t)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(rt,""):null;if("string"!=typeof e||dt.test(e)||!W.support.leadingWhitespace&&ot.test(e)||ht[(at.exec(e)||["",""])[1].toLowerCase()])W.isFunction(e)?this.each(function(t){var n=W(this);n.html(e.call(this,t,n.html()))}):this.empty().append(e);else{e=e.replace(st,"<$1></$2>");try{for(var n=0,i=this.length;i>n;n++)1===this[n].nodeType&&(W.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=e)}catch(r){this.empty().append(e)}}return this},replaceWith:function(e){return this[0]&&this[0].parentNode?W.isFunction(e)?this.each(function(t){var n=W(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=W(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;W(this).remove(),t?W(t).before(e):W(n).append(e)})):this.pushStack(W(W.isFunction(e)?e():e),"replaceWith",e)},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){var r,o,s,a,l=e[0],c=[];if(!W.support.checkClone&&3===arguments.length&&"string"==typeof l&&ut.test(l))return this.each(function(){W(this).domManip(e,n,i,!0)});if(W.isFunction(l))return this.each(function(r){var o=W(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(a=l&&l.parentNode,r=W.support.parentNode&&a&&11===a.nodeType&&a.childNodes.length===this.length?{fragment:a}:W.buildFragment(e,this,c),s=r.fragment,o=1===s.childNodes.length?s=s.firstChild:s.firstChild,o){n=n&&W.nodeName(o,"tr");for(var d=0,u=this.length,h=u-1;u>d;d++)i.call(n?v(this[d],o):this[d],r.cacheable||u>1&&h>d?W.clone(s,!0,!0):s)}c.length&&W.each(c,f)}return this}}),W.buildFragment=function(e,t,n){var i,r,o,s=t&&t[0]?t[0].ownerDocument||t[0]:N;return 1===e.length&&"string"==typeof e[0]&&512>e[0].length&&s===N&&"<"===e[0].charAt(0)&&!dt.test(e[0])&&(W.support.checkClone||!ut.test(e[0]))&&(r=!0,o=W.fragments[e[0]],o&&1!==o&&(i=o)),i||(i=s.createDocumentFragment(),W.clean(e,s,i,n)),r&&(W.fragments[e[0]]=o?i:1),{fragment:i,cacheable:r}},W.fragments={},W.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){W.fn[e]=function(n){var i=[],r=W(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===r.length)return r[t](this[0]),this;for(var s=0,a=r.length;a>s;s++){var l=(s>0?this.clone(!0):this).get();W(r[s])[t](l),i=i.concat(l)}return this.pushStack(i,e,r.selector)}}),W.extend({clone:function(e,t,n){var i,r,o,s=e.cloneNode(!0);if(!(W.support.noCloneEvent&&W.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||W.isXMLDoc(e)))for(g(e,s),i=m(e),r=m(s),o=0;i[o];++o)g(i[o],r[o]);if(t&&(y(e,s),n))for(i=m(e),r=m(s),o=0;i[o];++o)y(i[o],r[o]);return s},clean:function(e,t,n,i){t=t||N,"undefined"==typeof t.createElement&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||N);for(var r,o=[],s=0;null!=(r=e[s]);s++)if("number"==typeof r&&(r+=""),r){if("string"!=typeof r||ct.test(r)){if("string"==typeof r){r=r.replace(st,"<$1></$2>");var a=(at.exec(r)||["",""])[1].toLowerCase(),l=ht[a]||ht._default,c=l[0],d=t.createElement("div");for(d.innerHTML=l[1]+r+l[2];c--;)d=d.lastChild;if(!W.support.tbody)for(var u=lt.test(r),h="table"!==a||u?"<table>"!==l[1]||u?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,p=h.length-1;p>=0;--p)W.nodeName(h[p],"tbody")&&!h[p].childNodes.length&&h[p].parentNode.removeChild(h[p]);!W.support.leadingWhitespace&&ot.test(r)&&d.insertBefore(t.createTextNode(ot.exec(r)[0]),d.firstChild),r=d.childNodes}}else r=t.createTextNode(r);r.nodeType?o.push(r):o=W.merge(o,r)}if(n)for(s=0;o[s];s++)!i||!W.nodeName(o[s],"script")||o[s].type&&"text/javascript"!==o[s].type.toLowerCase()?(1===o[s].nodeType&&o.splice.apply(o,[s+1,0].concat(W.makeArray(o[s].getElementsByTagName("script")))),n.appendChild(o[s])):i.push(o[s].parentNode?o[s].parentNode.removeChild(o[s]):o[s]);return o},cleanData:function(e){for(var t,n,i,r=W.cache,o=W.expando,s=W.event.special,a=W.support.deleteExpando,l=0;null!=(i=e[l]);l++)if((!i.nodeName||!W.noData[i.nodeName.toLowerCase()])&&(n=i[W.expando])){if(t=r[n]&&r[n][o],t&&t.events){for(var c in t.events)s[c]?W.event.remove(i,c):W.removeEvent(i,c,t.handle);t.handle&&(t.handle.elem=null)}a?delete i[W.expando]:i.removeAttribute&&i.removeAttribute(W.expando),delete r[n]}}});var pt,ft,mt,gt=/alpha\([^)]*\)/i,yt=/opacity=([^)]*)/,vt=/-([a-z])/gi,_t=/([A-Z])/g,bt=/^-?\d+(?:px)?$/i,wt=/^-?\d/,xt={position:"absolute",visibility:"hidden",display:"block"},Ct=["Left","Right"],Tt=["Top","Bottom"],Et=function(e,t){return t.toUpperCase()};W.fn.css=function(e,n){return 2===arguments.length&&n===t?this:W.access(this,e,n,!0,function(e,n,i){return i!==t?W.style(e,n,i):W.css(e,n)})},W.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pt(e,"opacity","opacity");return""===n?"1":n}return e.style.opacity}}},cssNumber:{zIndex:!0,fontWeight:!0,opacity:!0,zoom:!0,lineHeight:!0},cssProps:{"float":W.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s=W.camelCase(n),a=e.style,l=W.cssHooks[s];if(n=W.cssProps[s]||s,i===t)return l&&"get"in l&&(o=l.get(e,!1,r))!==t?o:a[n];if("number"==typeof i&&isNaN(i)||null==i)return;if("number"==typeof i&&!W.cssNumber[s]&&(i+="px"),!(l&&"set"in l&&(i=l.set(e,i))===t))try{a[n]=i}catch(c){}}},css:function(e,n,i){var r,o=W.camelCase(n),s=W.cssHooks[o];return n=W.cssProps[o]||o,s&&"get"in s&&(r=s.get(e,!0,i))!==t?r:pt?pt(e,n,o):void 0},swap:function(e,t,n){var i={};for(var r in t)i[r]=e.style[r],e.style[r]=t[r];n.call(e);for(r in t)e.style[r]=i[r]},camelCase:function(e){return e.replace(vt,Et)}}),W.curCSS=W.css,W.each(["height","width"],function(e,t){W.cssHooks[t]={get:function(e,n,i){var r;return n?(0!==e.offsetWidth?r=p(e,t,i):W.swap(e,xt,function(){r=p(e,t,i)}),0>=r&&(r=pt(e,t,t),"0px"===r&&mt&&(r=mt(e,t,t)),null!=r)?""===r||"auto"===r?"0px":r:0>r||null==r?(r=e.style[t],""===r||"auto"===r?"0px":r):"string"==typeof r?r:r+"px"):void 0},set:function(e,t){return bt.test(t)?(t=parseFloat(t),t>=0?t+"px":void 0):t}}}),W.support.opacity||(W.cssHooks.opacity={get:function(e,t){return yt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style;n.zoom=1;var i=W.isNaN(t)?"":"alpha(opacity="+100*t+")",r=n.filter||"";n.filter=gt.test(r)?r.replace(gt,i):n.filter+" "+i}}),N.defaultView&&N.defaultView.getComputedStyle&&(ft=function(e,n,i){var r,o,s;return i=i.replace(_t,"-$1").toLowerCase(),(o=e.ownerDocument.defaultView)?((s=o.getComputedStyle(e,null))&&(r=s.getPropertyValue(i),""===r&&!W.contains(e.ownerDocument.documentElement,e)&&(r=W.style(e,i))),r):t}),N.documentElement.currentStyle&&(mt=function(e,t){var n,i=e.currentStyle&&e.currentStyle[t],r=e.runtimeStyle&&e.runtimeStyle[t],o=e.style;return!bt.test(i)&&wt.test(i)&&(n=o.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":i||0,i=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),pt=ft||mt,W.expr&&W.expr.filters&&(W.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return 0===t&&0===n||!W.support.reliableHiddenOffsets&&"none"===(e.style.display||W.css(e,"display"))},W.expr.filters.visible=function(e){return!W.expr.filters.hidden(e)});var St,Mt,Nt=/%20/g,Wt=/\[\]$/,kt=/\r?\n/g,At=/#.*$/,Rt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lt=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Yt=/(?:^file|^widget|\-extension):$/,It=/^(?:GET|HEAD)$/,Ot=/^\/\//,Dt=/\?/,jt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pt=/^(?:select|textarea)/i,Ht=/\s+/,Bt=/([?&])_=[^&]*/,$t=/(^|\-)([a-z])/g,Ft=function(e,t,n){return t+n.toUpperCase()},Qt=/^([\w\+\.\-]+:)\/\/([^\/?#:]*)(?::(\d+))?/,zt=W.fn.load,qt={},Xt={};try{St=N.location.href}catch(Ut){St=N.createElement("a"),St.href="",St=St.href}Mt=Qt.exec(St.toLowerCase()),W.fn.extend({load:function(e,n,i){if("string"!=typeof e&&zt)return zt.apply(this,arguments);if(!this.length)return this;var r=e.indexOf(" ");if(r>=0){var o=e.slice(r,e.length);e=e.slice(0,r)}var s="GET";n&&(W.isFunction(n)?(i=n,n=t):"object"==typeof n&&(n=W.param(n,W.ajaxSettings.traditional),s="POST"));var a=this;return W.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(o?W("<div>").append(n.replace(jt,"")).find(o):n)),i&&a.each(i,[n,t,e])}}),this},serialize:function(){return W.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?W.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Pt.test(this.nodeName)||Lt.test(this.type))}).map(function(e,t){var n=W(this).val();return null==n?null:W.isArray(n)?W.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),W.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){W.fn[t]=function(e){return this.bind(t,e)
}}),W.each(["get","post"],function(e,n){W[n]=function(e,i,r,o){return W.isFunction(i)&&(o=o||r,r=i,i=t),W.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),W.extend({getScript:function(e,n){return W.get(e,t,n,"script")},getJSON:function(e,t,n){return W.get(e,t,n,"json")},ajaxSetup:function(e,t){t?W.extend(!0,e,W.ajaxSettings,t):(t=e,e=W.extend(!0,W.ajaxSettings,t));for(var n in{context:1,url:1})n in t?e[n]=t[n]:n in W.ajaxSettings&&(e[n]=W.ajaxSettings[n]);return e},ajaxSettings:{url:St,isLocal:Yt.test(Mt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":W.parseJSON,"text xml":W.parseXML}},ajaxPrefilter:h(qt),ajaxTransport:h(Xt),ajax:function(e,n){function i(e,n,i,s){if(2!==x){x=2,d&&clearTimeout(d),a=t,o=s||"",C.readyState=e?4:0;var u,h,f,w,T,E=i?c(m,C,i):t;if(e>=200&&300>e||304===e)if(m.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(W.lastModified[r]=w),(T=C.getResponseHeader("Etag"))&&(W.etag[r]=T)),304===e)n="notmodified",u=!0;else try{h=l(m,E),n="success",u=!0}catch(S){n="parsererror",f=S}else f=n,(!n||e)&&(n="error",0>e&&(e=0));C.status=e,C.statusText=n,u?v.resolveWith(g,[h,n,C]):v.rejectWith(g,[C,n,f]),C.statusCode(b),b=t,p&&y.trigger("ajax"+(u?"Success":"Error"),[C,m,u?h:f]),_.resolveWith(g,[C,n]),p&&(y.trigger("ajaxComplete",[C,m]),--W.active||W.event.trigger("ajaxStop"))}}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,d,h,p,f,m=W.ajaxSetup({},n),g=m.context||m,y=g!==m&&(g.nodeType||g instanceof W)?W(g):W.event,v=W.Deferred(),_=W._Deferred(),b=m.statusCode||{},w={},x=0,C={readyState:0,setRequestHeader:function(e,t){return x||(w[e.toLowerCase().replace($t,Ft)]=t),this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(e){var n;if(2===x){if(!s)for(s={};n=Rt.exec(o);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(m.mimeType=e),this},abort:function(e){return e=e||"abort",a&&a.abort(e),i(0,e),this}};if(v.promise(C),C.success=C.done,C.error=C.fail,C.complete=_.done,C.statusCode=function(e){if(e){var t;if(2>x)for(t in e)b[t]=[b[t],e[t]];else t=e[C.status],C.then(t,t)}return this},m.url=((e||m.url)+"").replace(At,"").replace(Ot,Mt[1]+"//"),m.dataTypes=W.trim(m.dataType||"*").toLowerCase().split(Ht),m.crossDomain||(h=Qt.exec(m.url.toLowerCase()),m.crossDomain=h&&(h[1]!=Mt[1]||h[2]!=Mt[2]||(h[3]||("http:"===h[1]?80:443))!=(Mt[3]||("http:"===Mt[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=W.param(m.data,m.traditional)),u(qt,m,n,C),2===x)return!1;if(p=m.global,m.type=m.type.toUpperCase(),m.hasContent=!It.test(m.type),p&&0===W.active++&&W.event.trigger("ajaxStart"),!m.hasContent&&(m.data&&(m.url+=(Dt.test(m.url)?"&":"?")+m.data),r=m.url,m.cache===!1)){var T=W.now(),E=m.url.replace(Bt,"$1_="+T);m.url=E+(E===m.url?(Dt.test(m.url)?"&":"?")+"_="+T:"")}(m.data&&m.hasContent&&m.contentType!==!1||n.contentType)&&(w["Content-Type"]=m.contentType),m.ifModified&&(r=r||m.url,W.lastModified[r]&&(w["If-Modified-Since"]=W.lastModified[r]),W.etag[r]&&(w["If-None-Match"]=W.etag[r])),w.Accept=m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", */*; q=0.01":""):m.accepts["*"];for(f in m.headers)C.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(g,C,m)===!1||2===x))return C.abort(),!1;for(f in{success:1,error:1,complete:1})C[f](m[f]);if(a=u(Xt,m,n,C)){C.readyState=1,p&&y.trigger("ajaxSend",[C,m]),m.async&&m.timeout>0&&(d=setTimeout(function(){C.abort("timeout")},m.timeout));try{x=1,a.send(w,i)}catch(S){2>status?i(-1,S):W.error(S)}}else i(-1,"No Transport");return C},param:function(e,n){var i=[],r=function(e,t){t=W.isFunction(t)?t():t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=W.ajaxSettings.traditional),W.isArray(e)||e.jquery&&!W.isPlainObject(e))W.each(e,function(){r(this.name,this.value)});else for(var o in e)d(o,e[o],n,r);return i.join("&").replace(Nt,"+")}}),W.extend({active:0,lastModified:{},etag:{}});var Kt=W.now(),Vt=/(\=)\?(&|$)|()\?\?()/i;W.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return W.expando+"_"+Kt++}}),W.ajaxPrefilter("json jsonp",function(t,n,i){var r="string"==typeof t.data;if("jsonp"===t.dataTypes[0]||n.jsonpCallback||null!=n.jsonp||t.jsonp!==!1&&(Vt.test(t.url)||r&&Vt.test(t.data))){var o,s=t.jsonpCallback=W.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[s],l=t.url,c=t.data,d="$1"+s+"$2",u=function(){e[s]=a,o&&W.isFunction(a)&&e[s](o[0])};return t.jsonp!==!1&&(l=l.replace(Vt,d),t.url===l&&(r&&(c=c.replace(Vt,d)),t.data===c&&(l+=(/\?/.test(l)?"&":"?")+t.jsonp+"="+s))),t.url=l,t.data=c,e[s]=function(e){o=[e]},i.then(u,u),t.converters["script json"]=function(){return o||W.error(s+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),W.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return W.globalEval(e),e}}}),W.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),W.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=N.head||N.getElementsByTagName("head")[0]||N.documentElement;return{send:function(r,o){n=N.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Gt,Jt,Zt=W.now();W.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&s()||o()}:s,Jt=W.ajaxSettings.xhr(),W.support.ajax=!!Jt,W.support.cors=Jt&&"withCredentials"in Jt,Jt=t,W.support.ajax&&W.ajaxTransport(function(e){if(!e.crossDomain||W.support.cors){var n;return{send:function(i,r){var o,s,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),(!e.crossDomain||e.hasContent)&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(e.hasContent&&e.data||null),n=function(i,s){var a,c,d,u,h;try{if(n&&(s||4===l.readyState))if(n=t,o&&(l.onreadystatechange=W.noop,delete Gt[o]),s)4!==l.readyState&&l.abort();else{a=l.status,d=l.getAllResponseHeaders(),u={},h=l.responseXML,h&&h.documentElement&&(u.xml=h),u.text=l.responseText;try{c=l.statusText}catch(p){c=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(f){s||r(-1,f)}u&&r(a,c,u,d)},e.async&&4!==l.readyState?(Gt||(Gt={},a()),o=Zt++,l.onreadystatechange=Gt[o]=n):n()},abort:function(){n&&n(0,1)}}}});var en,tn={},nn=/^(?:toggle|show|hide)$/,rn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,on=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];W.fn.extend({show:function(e,t,n){var o,s;if(e||0===e)return this.animate(r("show",3),e,t,n);for(var a=0,l=this.length;l>a;a++)o=this[a],s=o.style.display,!W._data(o,"olddisplay")&&"none"===s&&(s=o.style.display=""),""===s&&"none"===W.css(o,"display")&&W._data(o,"olddisplay",i(o.nodeName));for(a=0;l>a;a++)o=this[a],s=o.style.display,(""===s||"none"===s)&&(o.style.display=W._data(o,"olddisplay")||"");return this},hide:function(e,t,n){if(e||0===e)return this.animate(r("hide",3),e,t,n);for(var i=0,o=this.length;o>i;i++){var s=W.css(this[i],"display");"none"!==s&&!W._data(this[i],"olddisplay")&&W._data(this[i],"olddisplay",s)}for(i=0;o>i;i++)this[i].style.display="none";return this},_toggle:W.fn.toggle,toggle:function(e,t,n){var i="boolean"==typeof e;return W.isFunction(e)&&W.isFunction(t)?this._toggle.apply(this,arguments):null==e||i?this.each(function(){var t=i?e:W(this).is(":hidden");W(this)[t?"show":"hide"]()}):this.animate(r("toggle",3),e,t,n),this},fadeTo:function(e,t,n,i){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,r){var o=W.speed(t,n,r);return W.isEmptyObject(e)?this.each(o.complete):this[o.queue===!1?"each":"queue"](function(){var t,n=W.extend({},o),r=1===this.nodeType,s=r&&W(this).is(":hidden"),a=this;for(t in e){var l=W.camelCase(t);if(t!==l&&(e[l]=e[t],delete e[t],t=l),"hide"===e[t]&&s||"show"===e[t]&&!s)return n.complete.call(this);if(r&&("height"===t||"width"===t)&&(n.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===W.css(this,"display")&&"none"===W.css(this,"float")))if(W.support.inlineBlockNeedsLayout){var c=i(this.nodeName);"inline"===c?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)}else this.style.display="inline-block";W.isArray(e[t])&&((n.specialEasing=n.specialEasing||{})[t]=e[t][1],e[t]=e[t][0])}return null!=n.overflow&&(this.style.overflow="hidden"),n.curAnim=W.extend({},e),W.each(e,function(t,i){var r=new W.fx(a,n,t);if(nn.test(i))r["toggle"===i?s?"show":"hide":i](e);else{var o=rn.exec(i),l=r.cur();if(o){var c=parseFloat(o[2]),d=o[3]||(W.cssNumber[t]?"":"px");"px"!==d&&(W.style(a,t,(c||1)+d),l=(c||1)/r.cur()*l,W.style(a,t,l+d)),o[1]&&(c=("-="===o[1]?-1:1)*c+l),r.custom(l,c,d)}else r.custom(l,i,"")}}),!0})},stop:function(e,t){var n=W.timers;return e&&this.queue([]),this.each(function(){for(var e=n.length-1;e>=0;e--)n[e].elem===this&&(t&&n[e](!0),n.splice(e,1))}),t||this.dequeue(),this}}),W.each({slideDown:r("show",1),slideUp:r("hide",1),slideToggle:r("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){W.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),W.extend({speed:function(e,t,n){var i=e&&"object"==typeof e?W.extend({},e):{complete:n||!n&&t||W.isFunction(e)&&e,duration:e,easing:n&&t||t&&!W.isFunction(t)&&t};return i.duration=W.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in W.fx.speeds?W.fx.speeds[i.duration]:W.fx.speeds._default,i.old=i.complete,i.complete=function(){i.queue!==!1&&W(this).dequeue(),W.isFunction(i.old)&&i.old.call(this)},i},easing:{linear:function(e,t,n,i){return n+i*e},swing:function(e,t,n,i){return(-Math.cos(e*Math.PI)/2+.5)*i+n}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig||(t.orig={})}}),W.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(W.fx.step[this.prop]||W.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var e,t=W.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?t&&"auto"!==t?t:0:e},custom:function(e,t,n){function i(e){return r.step(e)}var r=this,o=W.fx;this.startTime=W.now(),this.start=e,this.end=t,this.unit=n||this.unit||(W.cssNumber[this.prop]?"":"px"),this.now=this.start,this.pos=this.state=0,i.elem=this.elem,i()&&W.timers.push(i)&&!en&&(en=setInterval(o.tick,o.interval))},show:function(){this.options.orig[this.prop]=W.style(this.elem,this.prop),this.options.show=!0,this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),W(this.elem).show()},hide:function(){this.options.orig[this.prop]=W.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t=W.now(),n=!0;if(e||t>=this.options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0;for(var i in this.options.curAnim)this.options.curAnim[i]!==!0&&(n=!1);if(n){if(null!=this.options.overflow&&!W.support.shrinkWrapBlocks){var r=this.elem,o=this.options;W.each(["","X","Y"],function(e,t){r.style["overflow"+t]=o.overflow[e]})}if(this.options.hide&&W(this.elem).hide(),this.options.hide||this.options.show)for(var s in this.options.curAnim)W.style(this.elem,s,this.options.orig[s]);this.options.complete.call(this.elem)}return!1}var a=t-this.startTime;this.state=a/this.options.duration;var l=this.options.specialEasing&&this.options.specialEasing[this.prop],c=this.options.easing||(W.easing.swing?"swing":"linear");return this.pos=W.easing[l||c](this.state,a,0,1,this.options.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0}},W.extend(W.fx,{tick:function(){for(var e=W.timers,t=0;e.length>t;t++)e[t]()||e.splice(t--,1);e.length||W.fx.stop()},interval:13,stop:function(){clearInterval(en),en=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){W.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&null!=e.elem.style[e.prop]?e.elem.style[e.prop]=("width"===e.prop||"height"===e.prop?Math.max(0,e.now):e.now)+e.unit:e.elem[e.prop]=e.now}}}),W.expr&&W.expr.filters&&(W.expr.filters.animated=function(e){return W.grep(W.timers,function(t){return e===t.elem}).length});var sn=/^t(?:able|d|h)$/i,an=/^(?:body|html)$/i;W.fn.offset="getBoundingClientRect"in N.documentElement?function(e){var t,i=this[0];if(e)return this.each(function(t){W.offset.setOffset(this,e,t)});if(!i||!i.ownerDocument)return null;if(i===i.ownerDocument.body)return W.offset.bodyOffset(i);try{t=i.getBoundingClientRect()}catch(r){}var o=i.ownerDocument,s=o.documentElement;if(!t||!W.contains(s,i))return t?{top:t.top,left:t.left}:{top:0,left:0};var a=o.body,l=n(o),c=s.clientTop||a.clientTop||0,d=s.clientLeft||a.clientLeft||0,u=l.pageYOffset||W.support.boxModel&&s.scrollTop||a.scrollTop,h=l.pageXOffset||W.support.boxModel&&s.scrollLeft||a.scrollLeft,p=t.top+u-c,f=t.left+h-d;return{top:p,left:f}}:function(e){var t=this[0];if(e)return this.each(function(t){W.offset.setOffset(this,e,t)});if(!t||!t.ownerDocument)return null;if(t===t.ownerDocument.body)return W.offset.bodyOffset(t);W.offset.initialize();for(var n,i=t.offsetParent,r=t,o=t.ownerDocument,s=o.documentElement,a=o.body,l=o.defaultView,c=l?l.getComputedStyle(t,null):t.currentStyle,d=t.offsetTop,u=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==s&&(!W.offset.supportsFixedPosition||"fixed"!==c.position);)n=l?l.getComputedStyle(t,null):t.currentStyle,d-=t.scrollTop,u-=t.scrollLeft,t===i&&(d+=t.offsetTop,u+=t.offsetLeft,W.offset.doesNotAddBorder&&(!W.offset.doesAddBorderForTableAndCells||!sn.test(t.nodeName))&&(d+=parseFloat(n.borderTopWidth)||0,u+=parseFloat(n.borderLeftWidth)||0),r=i,i=t.offsetParent),W.offset.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(d+=parseFloat(n.borderTopWidth)||0,u+=parseFloat(n.borderLeftWidth)||0),c=n;return("relative"===c.position||"static"===c.position)&&(d+=a.offsetTop,u+=a.offsetLeft),W.offset.supportsFixedPosition&&"fixed"===c.position&&(d+=Math.max(s.scrollTop,a.scrollTop),u+=Math.max(s.scrollLeft,a.scrollLeft)),{top:d,left:u}},W.offset={initialize:function(){var e,t,n,i,r=N.body,o=N.createElement("div"),s=parseFloat(W.css(r,"marginTop"))||0,a="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";W.extend(o.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"}),o.innerHTML=a,r.insertBefore(o,r.firstChild),e=o.firstChild,t=e.firstChild,i=e.nextSibling.firstChild.firstChild,this.doesNotAddBorder=5!==t.offsetTop,this.doesAddBorderForTableAndCells=5===i.offsetTop,t.style.position="fixed",t.style.top="20px",this.supportsFixedPosition=20===t.offsetTop||15===t.offsetTop,t.style.position=t.style.top="",e.style.overflow="hidden",e.style.position="relative",this.subtractsBorderForOverflowNotVisible=-5===t.offsetTop,this.doesNotIncludeMarginInBodyOffset=r.offsetTop!==s,r.removeChild(o),r=o=e=t=n=i=null,W.offset.initialize=W.noop},bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return W.offset.initialize(),W.offset.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(W.css(e,"marginTop"))||0,n+=parseFloat(W.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=W.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=W(e),a=s.offset(),l=W.css(e,"top"),c=W.css(e,"left"),d="absolute"===i&&W.inArray("auto",[l,c])>-1,u={},h={};d&&(h=s.position()),r=d?h.top:parseInt(l,10)||0,o=d?h.left:parseInt(c,10)||0,W.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(u.top=t.top-a.top+r),null!=t.left&&(u.left=t.left-a.left+o),"using"in t?t.using.call(e,u):s.css(u)}},W.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),i=an.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(W.css(e,"marginTop"))||0,n.left-=parseFloat(W.css(e,"marginLeft"))||0,i.top+=parseFloat(W.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(W.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||N.body;e&&!an.test(e.nodeName)&&"static"===W.css(e,"position");)e=e.offsetParent;return e})}}),W.each(["Left","Top"],function(e,i){var r="scroll"+i;W.fn[r]=function(i){var o,s=this[0];return s?i!==t?this.each(function(){o=n(this),o?o.scrollTo(e?W(o).scrollLeft():i,e?i:W(o).scrollTop()):this[r]=i}):(o=n(s),o?"pageXOffset"in o?o[e?"pageYOffset":"pageXOffset"]:W.support.boxModel&&o.document.documentElement[r]||o.document.body[r]:s[r]):null}}),W.each(["Height","Width"],function(e,n){var i=n.toLowerCase();W.fn["inner"+n]=function(){return this[0]?parseFloat(W.css(this[0],i,"padding")):null},W.fn["outer"+n]=function(e){return this[0]?parseFloat(W.css(this[0],i,e?"margin":"border")):null},W.fn[i]=function(e){var r=this[0];if(!r)return null==e?null:this;if(W.isFunction(e))return this.each(function(t){var n=W(this);n[i](e.call(this,t,n[i]()))});if(W.isWindow(r)){var o=r.document.documentElement["client"+n];return"CSS1Compat"===r.document.compatMode&&o||r.document.body["client"+n]||o}if(9===r.nodeType)return Math.max(r.documentElement["client"+n],r.body["scroll"+n],r.documentElement["scroll"+n],r.body["offset"+n],r.documentElement["offset"+n]);if(e===t){var s=W.css(r,i),a=parseFloat(s);return W.isNaN(a)?s:a}return this.css(i,"string"==typeof e?e:e+"px")}}),e.jQuery=e.$=W}(window),function(e){var t={},n=/^(([a-z][\-a-z0-9+\.]*):)?(\/\/([^\/?#]+))?([^?#]*)?(\?([^#]*))?(#(.*))?$/i,i=function(e){var t=e.match(n);if(null===t)throw"Malformed URI: "+e;return{scheme:t[1]?t[2].toLowerCase():void 0,authority:t[3]?t[4]:void 0,path:t[5]||"",query:t[6]?t[7]:void 0,fragment:t[8]?t[9]:void 0}},r=function(e){var t="",n=[];if(/\./.test(e)){for(;void 0!==e&&""!==e;)"."===e||".."===e?e="":/^\.\.\//.test(e)?e=e.substring(3):/^\.\//.test(e)?e=e.substring(2):/^\/\.(\/|$)/.test(e)?e="/"+e.substring(3):/^\/\.\.(\/|$)/.test(e)?(e="/"+e.substring(4),t=t.replace(/\/?[^\/]+$/,"")):(n=e.match(/^(\/?[^\/]*)(\/.*)?$/),e=n[2],t+=n[1]);return t}return e},o=function(e,t){return""===e.authority||void 0!==e.path&&""!==e.path?e.path.replace(/[^\/]+$/,"")+t:"/"+t};e.uri=function(n,i){var r;return n=n||"",t[n]?t[n]:(i=i||e.uri.base(),"string"==typeof i&&(i=e.uri.absolute(i)),r=new e.uri.fn.init(n,i),t[r]?t[r]:(t[r]=r,r))},e.uri.fn=e.uri.prototype={scheme:void 0,authority:void 0,path:void 0,query:void 0,fragment:void 0,init:function(t,n){if(n=n||{},e.extend(this,i(t)),void 0===this.scheme&&(this.scheme=n.scheme,void 0!==this.authority?this.path=r(this.path):(this.authority=n.authority,""===this.path?(this.path=n.path,void 0===this.query&&(this.query=n.query)):(/^\//.test(this.path)||(this.path=o(n,this.path)),this.path=r(this.path)))),void 0===this.scheme)throw"Malformed URI: URI is not an absolute URI and no base supplied: "+t;return this},resolve:function(t){return e.uri(t,this)},relative:function(t){var n,i,r,o=0,s=[],a="";if("string"==typeof t&&(t=e.uri(t,{})),t.scheme!==this.scheme||t.authority!==this.authority)return t.toString();if(t.path!==this.path){if(n=t.path.split("/"),i=this.path.split("/"),n[1]!==i[1])a=t.path;else{for(;n[o]===i[o];)o+=1;for(r=o;i.length-1>o;o+=1)s.push("..");for(;n.length>r;r+=1)s.push(n[r]);a=s.join("/")}return a=void 0===t.query?a:a+"?"+t.query,a=void 0===t.fragment?a:a+"#"+t.fragment}return void 0!==t.query&&t.query!==this.query?"?"+t.query+(void 0===t.fragment?"":"#"+t.fragment):void 0!==t.fragment&&t.fragment!==this.fragment?"#"+t.fragment:""},toString:function(){var e="";return this._string?this._string:(e=void 0===this.scheme?e:e+this.scheme+":",e=void 0===this.authority?e:e+"//"+this.authority,e+=this.path,e=void 0===this.query?e:e+"?"+this.query,e=void 0===this.fragment?e:e+"#"+this.fragment,this._string=e,e)}},e.uri.fn.init.prototype=e.uri.fn,e.uri.absolute=function(t){return e.uri(t,{})},e.uri.resolve=function(t,n){return e.uri(t,n)},e.uri.relative=function(t,n){return e.uri(n,{}).relative(t)},e.uri.base=function(){return e(document).base()},e.fn.base=function(){var t=e(this).parents().andSelf().find("base").attr("href"),n=e(this)[0].ownerDocument||document,i=e.uri.absolute(null===n.location?document.location.href:n.location.href);return void 0===t?i:e.uri(t,i)}}(jQuery),function(e){var t=/\sxmlns(?::([^ =]+))?\s*=\s*(?:"([^"]*)"|'([^']*)')/g;e.fn.xmlns=function(n,i,r){var o,s,a,l,c,d=this.eq(0),u=d.data("xmlns"),h=d[0],p=n?"xmlns:"+n:"xmlns",f=!1;if(void 0===i){if(void 0===n){if(void 0===u){if(u={},h.attributes&&h.attributes.getNamedItemNS)for(a=0;h.attributes.length>a;a+=1)o=h.attributes[a],/^xmlns(:(.+))?$/.test(o.nodeName)&&(n=/^xmlns(:(.+))?$/.exec(o.nodeName)[2]||"",l=o.nodeValue,(""===n||""!==l)&&(u[n]=e.uri(o.nodeValue),f=!0));else{for(c=/<[^>]+>/.exec(h.outerHTML),o=t.exec(c);null!==o;)n=o[1]||"",l=o[2]||o[3],(""===n||""!==l)&&(u[n]=e.uri(o[2]||o[3]),f=!0),o=t.exec(c);t.lastIndex=0}r=r||(1===h.parentNode.nodeType?d.parent().xmlns():{}),u=f?e.extend({},r,u):r,d.data("xmlns",u)}return u}if("object"==typeof n){for(s in n)"string"==typeof n[s]&&this.xmlns(s,n[s]);return this.find("*").andSelf().removeData("xmlns"),this}return void 0===u&&(u=d.xmlns()),u[n]}return this.find("*").andSelf().removeData("xmlns"),this.attr(p,i)},e.fn.removeXmlns=function(e){var t,n,i;if("object"==typeof e)if(void 0===e.length)for(n in e)"string"==typeof e[n]&&this.removeXmlns(n);else for(i=0;e.length>i;i+=1)this.removeXmlns(e[i]);else t=e?"xmlns:"+e:"xmlns",this.removeAttr(t);return this.find("*").andSelf().removeData("xmlns"),this},e.fn.qname=function(e){var t,n,i;if(void 0===e&&(e=void 0===this[0].outerHTML?this[0].nodeName.toLowerCase():/<([^ >]+)/.exec(this[0].outerHTML)[1].toLowerCase()),"?xml:namespace"===e)throw"XMLinHTML: Unable to get the prefix to resolve the name of this element";if(t=/^(([^:]+):)?([^:]+)$/.exec(e),n=t[2]||"",i=this.xmlns(n),void 0===i&&""!==n)throw"MalformedQName: The prefix "+n+" is not declared";return{namespace:i,localPart:t[3],prefix:n,name:e}}}(jQuery),function(e){var t=function(e){return e.replace(/[ \t\n\r]+/," ").replace(/^ +/,"").replace(/ +$/,"")};e.typedValue=function(t,n){return e.typedValue.fn.init(t,n)},e.typedValue.fn=e.typedValue.prototype={representation:void 0,value:void 0,datatype:void 0,init:function(n,i){var r;if(e.typedValue.valid(n,i))return r=e.typedValue.types[i],this.representation=n,this.datatype=i,this.value=r.value(r.strip?t(n):n),this;throw{name:"InvalidValue",message:n+" is not a valid "+i+" value"}}},e.typedValue.fn.init.prototype=e.typedValue.fn,e.typedValue.types={},e.typedValue.types["http://www.w3.org/2001/XMLSchema#string"]={regex:/^.*$/,strip:!1,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#boolean"]={regex:/^(?:true|false|1|0)$/,strip:!0,value:function(e){return"true"===e||"1"===e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#decimal"]={regex:/^[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)$/,strip:!0,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#integer"]={regex:/^[\-\+]?[0-9]+$/,strip:!0,value:function(e){return parseInt(e,10)}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#int"]={regex:/^[\-\+]?[0-9]+$/,strip:!0,value:function(e){return parseInt(e,10)}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#float"]={regex:/^(?:[\-\+]?(?:[0-9]+\.[0-9]*|\.[0-9]+|[0-9]+)(?:[eE][\-\+]?[0-9]+)?|[\-\+]?INF|NaN)$/,strip:!0,value:function(e){return"-INF"===e?-1/0:"INF"===e||"+INF"===e?1/0:parseFloat(e)}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#double"]={regex:e.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].regex,strip:!0,value:e.typedValue.types["http://www.w3.org/2001/XMLSchema#float"].value},e.typedValue.types["http://www.w3.org/2001/XMLSchema#duration"]={regex:/^([\-\+])?P(?:([0-9]+)Y)?(?:([0-9]+)M)?(?:([0-9]+)D)?(?:T(?:([0-9]+)H)?(?:([0-9]+)M)?(?:([0-9]+(?:\.[0-9]+))?S)?)$/,validate:function(e){var t=this.regex.exec(e);return t[2]||t[3]||t[4]||t[5]||t[6]||t[7]},strip:!0,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#dateTime"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):(([0-9]{2})(\.([0-9]+))?)((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var t,n=this.regex.exec(e),i=parseInt(n[1],10),r=void 0===n[10]||"Z"===n[10]?"+0000":n[10].replace(/:/,"");if(0===i||-1400>parseInt(r,10)||parseInt(r,10)>1400)return!1;try{if(i=100>i?Math.abs(i)+1e3:i,month=parseInt(n[2],10),day=parseInt(n[3],10),day>31)return!1;if(day>30&&1!==month&&3!==month&&5!==month&&7!==month&&8!==month&&10!==month&&12!==month)return!1;if(2===month){if(day>29)return!1;if(29===day&&(0!==i%4||0===i%100&&0!==i%400))return!1}return t=""+i+"/"+n[2]+"/"+n[3]+" "+n[4]+":"+n[5]+":"+n[7]+" "+r,t=new Date(t),!0}catch(o){return!1}},strip:!0,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#date"]={regex:/^(-?[0-9]{4,})-([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var t=this.regex.exec(e),n=parseInt(t[1],10),i=parseInt(t[2],10),r=parseInt(t[3],10),o=void 0===t[10]||"Z"===t[10]?"+0000":t[10].replace(/:/,"");return 0===n||i>12||r>31||-1400>parseInt(o,10)||parseInt(o,10)>1400?!1:!0},strip:!0,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#gMonthDay"]={regex:/^--([0-9]{2})-([0-9]{2})((?:[\-\+]([0-9]{2}):([0-9]{2}))|Z)?$/,validate:function(e){var t=this.regex.exec(e),n=parseInt(t[1],10),i=parseInt(t[2],10),r=void 0===t[3]||"Z"===t[3]?"+0000":t[3].replace(/:/,"");return n>12||i>31||-1400>parseInt(r,10)||parseInt(r,10)>1400?!1:2===n&&i>29?!1:(4===n||6===n||9===n||11===n)&&i>30?!1:!0},strip:!0,value:function(e){return e}},e.typedValue.types["http://www.w3.org/2001/XMLSchema#anyURI"]={regex:/^.*$/,strip:!0,value:function(t,n){var i=e.extend({},e.typedValue.defaults,n);return e.uri.resolve(t,i.base)}},e.typedValue.defaults={base:e.uri.base(),namespaces:{}},e.typedValue.valid=function(n,i){var r=e.typedValue.types[i];if(void 0===r)throw"InvalidDatatype: The datatype "+i+" can't be recognised";return n=r.strip?t(n):n,r.regex.test(n)?void 0===r.validate?!0:r.validate(n):!1}}(jQuery),function(e){e.curie=function(t,n){var i=e.extend({},e.curie.defaults,n||{}),r=/^(([^:]*):)?(.+)$/.exec(t),o=r[2],s=r[3],a=i.namespaces[o];if(/^:.+/.test(t)){if(void 0===i.reservedNamespace||null===i.reservedNamespace)throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+t;a=i.reservedNamespace}else if(o){if(void 0===a)throw"Malformed CURIE: No namespace binding for "+o+" in CURIE "+t}else if("lower"===i.charcase?t=t.toLowerCase():"upper"===i.charcase&&(t=t.toUpperCase()),i.reserved.length&&e.inArray(t,i.reserved)>=0)a=i.reservedNamespace,s=t;else{if(void 0===i.defaultNamespace||null===i.defaultNamespace)throw"Malformed CURIE: No prefix and no default namespace for unprefixed CURIE "+t;a=i.defaultNamespace}return e.uri(a+s)},e.curie.defaults={namespaces:{},reserved:[],reservedNamespace:void 0,defaultNamespace:void 0,charcase:"preserve"},e.safeCurie=function(t,n){var i=/^\[([^\]]+)\]$/.exec(t);return i?e.curie(i[1],n):e.uri(t)},e.createCurie=function(t,n){var i,r=e.extend({},e.curie.defaults,n||{}),o=r.namespaces;if(t=e.uri(t).toString(),void 0!==r.reservedNamespace&&t.substring(0,r.reservedNamespace.toString().length)===r.reservedNamespace.toString()?(i=t.substring(r.reservedNamespace.toString().length),-1===e.inArray(i,r.reserved)&&(i=":"+i)):e.each(o,function(e,n){return t.substring(0,n.toString().length)===n.toString()?(i=e+":"+t.substring(n.toString().length),null):void 0}),void 0===i)throw"No Namespace Binding: There's no appropriate namespace binding for generating a CURIE from "+t;return i},e.fn.curie=function(t,n){var i=e.extend({},e.fn.curie.defaults,{namespaces:this.xmlns()},n||{});return e.curie(t,i)},e.fn.safeCurie=function(t,n){var i=e.extend({},e.fn.curie.defaults,{namespaces:this.xmlns()},n||{});return e.safeCurie(t,i)},e.fn.createCurie=function(t,n){var i=e.extend({},e.fn.curie.defaults,{namespaces:this.xmlns()},n||{});return e.createCurie(t,i)},e.fn.curie.defaults={reserved:["alternate","appendix","bookmark","cite","chapter","contents","copyright","first","glossary","help","icon","index","last","license","meta","next","p3pv1","prev","role","section","stylesheet","subsection","start","top","up"],reservedNamespace:"http://www.w3.org/1999/xhtml/vocab#",defaultNamespace:void 0,charcase:"lower"}}(jQuery),function(e){var t={},n={},i={},r={},o={},s="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l="http://www.w3.org/2000/01/rdf-schema#",c=/^<(([^>]|\\>)*)>$/,d=/^("""((\\"|[^"])*)"""|"((\\"|[^"])*)")(@([a-z]+(-[a-z0-9]+)*)|\^\^(.+))?$/,u=/(("""((\\"|[^"])*)""")|("(\\"|[^"]|)*")|(<(\\>|[^>])*>)|\S)+/g,h=databankSeed=(new Date).getTime()%1e3,p=function(){return h+=1,"b"+h.toString(16)},f=function(){return databankSeed+=1,"data"+databankSeed.toString(16)},m=function(t,n){if("string"!=typeof t)return t;try{return e.rdf.resource(t,n)}catch(i){try{return e.rdf.blank(t,n)}catch(r){throw"Bad Triple: Subject "+t+" is not a resource: "+r}}},g=function(t,n){if("a"===t)return e.rdf.type;if("string"!=typeof t)return t;try{return e.rdf.resource(t,n)}catch(i){throw"Bad Triple: Property "+t+" is not a resource: "+i}},y=function(t,n){if("string"!=typeof t)return t;try{return e.rdf.resource(t,n)}catch(i){try{return e.rdf.blank(t,n)}catch(r){try{return e.rdf.literal(t,n)}catch(o){throw"Bad Triple: Object "+t+" is not a resource or a literal "+o}}}},v=function(e,t,n){var i;return"string"==typeof t?(i=t.substring(1),n[i]&&n[i]!==e?null:(n[i]=e,n)):t===e?n:null},_=function(t,n){return e.map(t,function(e){var t=n.exec(e);return null===t?null:{bindings:t,triples:[e]}})},b=function(t,n,i){return e.map(t,function(t){var r=e.map(n,function(n){var i=!0;return e.each(n.bindings,function(e,n){return void 0!==t.bindings[e]&&t.bindings[e]!==n?(i=!1,!1):void 0}),i?n:null});return r.length>0?e.map(r,function(n){return{bindings:e.extend({},t.bindings,n.bindings),triples:e.unique(t.triples.concat(n.triples))}}):i?t:null})},w=function(t,n){var i,r,o;void 0===n.filterExp||e.isFunction(n.filterExp)||(void 0===t.union?(i="string"==typeof n.filterExp.subject?"":n.filterExp.subject,r="string"==typeof n.filterExp.property?"":n.filterExp.property,o="string"==typeof n.filterExp.object?"":n.filterExp.object,void 0===t.queries[i]&&(t.queries[i]={}),void 0===t.queries[i][r]&&(t.queries[i][r]={}),void 0===t.queries[i][r][o]&&(t.queries[i][r][o]=[]),t.queries[i][r][o].push(n)):e.each(t.union,function(e,t){w(t,n)}))},x=function(t){t.length=0,t.matches=[],e.each(t.children,function(e,t){x(t)}),e.each(t.partOf,function(e,t){x(t)})},C=function(t,n){n.length>0&&(e.each(t.children,function(e,t){T(t,n)}),e.each(t.partOf,function(e,t){C(t,n)}),e.each(n,function(e,n){t.matches.push(n),Array.prototype.push.call(t,n.bindings)}))},T=function(t,n){var i;void 0===t.union?t.top||t.parent.top?i=t.alphaMemory:(n=n||t.parent.matches,i=e.isFunction(t.filterExp)?e.map(n,function(e,n){return t.filterExp.call(e.bindings,n,e.bindings,e.triples)?e:null}):b(n,t.alphaMemory,t.filterExp.optional)):i=e.map(t.union,function(e){return e.matches}),C(t,i)},E=function(e,t){var n;e.filterExp.optional?(x(e),T(e)):(n=e.top||e.parent.top?[t]:b(e.parent.matches,[t],!1),C(e,n))},S=function(e,t){var n,i=e.filterExp.exec(t);null!==i&&(n={triples:[t],bindings:i},e.alphaMemory.push(n),E(e,n))},M=function(t,n){t.alphaMemory.splice(e.inArray(n,t.alphaMemory),1),x(t),T(t)},N=function(t,n){e.each(t,function(e,t){S(t,n)})},W=function(t,n){e.each(t,function(e,t){M(t,n)
})},k=function(t,n){var i=n.subject,r=n.property,o=n.object;void 0===t.union?(void 0!==t.queries[i]&&(void 0!==t.queries[i][r]&&(void 0!==t.queries[i][r][o]&&N(t.queries[i][r][o],n),void 0!==t.queries[i][r][""]&&N(t.queries[i][r][""],n)),void 0!==t.queries[i][""]&&(void 0!==t.queries[i][""][o]&&N(t.queries[i][""][o],n),void 0!==t.queries[i][""][""]&&N(t.queries[i][""][""],n))),void 0!==t.queries[""]&&(void 0!==t.queries[""][r]&&(void 0!==t.queries[""][r][o]&&N(t.queries[""][r][o],n),void 0!==t.queries[""][r][""]&&N(t.queries[""][r][""],n)),void 0!==t.queries[""][""]&&(void 0!==t.queries[""][""][o]&&N(t.queries[""][""][o],n),void 0!==t.queries[""][""][""]&&N(t.queries[""][""][""],n)))):e.each(t.union,function(e,t){k(t,n)})},A=function(t,n){var i=n.subject,r=n.property,o=n.object;void 0===t.union?(void 0!==t.queries[i]&&(void 0!==t.queries[i][r]&&(void 0!==t.queries[i][r][o]&&W(t.queries[i][r][o],n),void 0!==t.queries[i][r][""]&&W(t.queries[i][r][""],n)),void 0!==t.queries[i][""]&&(void 0!==t.queries[i][""][o]&&W(t.queries[i][""][o],n),void 0!==t.queries[i][""][""]&&W(t.queries[i][""][""],n))),void 0!==t.queries[""]&&(void 0!==t.queries[""][r]&&(void 0!==t.queries[""][r][o]&&W(t.queries[""][r][o],n),void 0!==t.queries[""][r][""]&&W(t.queries[""][r][""],n)),void 0!==t.queries[""][""]&&(void 0!==t.queries[""][""][o]&&W(t.queries[""][""][o],n),void 0!==t.queries[""][""][""]&&W(t.queries[""][""][""],n)))):e.each(t.union,function(e,t){A(t,n)})},R=function(e){var t,n,i,r,o={};for(t=0;e.length>t;t+=1)n=e[t],i=n.subject.value.toString(),r=n.property.value.toString(),void 0===o[i]&&(o[i]={}),void 0===o[i][r]&&(o[i][r]=[]),o[i][r].push(n.object.dump());return o},L=function(t){var n,i,r,o,s,a,l,c,d=[];for(n in t){i="_:"===n.substring(0,2)?e.rdf.blank(n):e.rdf.resource("<"+n+">");for(r in t[n])for(o=e.rdf.resource("<"+r+">"),l=0;t[n][r].length>l;l+=1)s=t[n][r][l],"uri"===s.type?a=e.rdf.resource("<"+s.value+">"):"bnode"===s.type?a=e.rdf.blank(s.value):void 0!==s.datatype?a=e.rdf.literal(s.value,{datatype:s.datatype}):(c={},void 0!==s.lang&&(c.lang=s.lang),a=e.rdf.literal('"'+s.value+'"',c)),d.push(e.rdf.triple(i,o,a))}return d},Y=function(e,t,n,i){var r,o=e.ownerDocument;return void 0!==t&&null!==t?o.createAttributeNS?(r=o.createAttributeNS(t,n),r.nodeValue=i,e.attributes.setNamedItemNS(r)):(r=o.createNode(2,n,t),r.nodeValue=i,e.attributes.setNamedItem(r)):(r=o.createAttribute(n),r.nodeValue=i,e.attributes.setNamedItem(r)),e},I=function(e,t,n){return n?Y(e,"http://www.w3.org/2000/xmlns/","xmlns:"+n,t):Y(e,void 0,"xmlns",t),e},O=function(e,t){var n,i,r="",o=!1;return void 0!==e&&null!==e&&(/:/.test(t)&&(i=/([^:]+):/.exec(t)[1]),o=!0),document.implementation&&document.implementation.createDocument?(n=document.implementation.createDocument(e,t,null),o&&I(n.documentElement,e,i),n):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",r=void 0===i?' xmlns="'+e+'"':" xmlns:"+i+'="'+e+'"',n.loadXML("<"+t+r+"/>"),n)},D=function(e,t,n){var i,r=e.ownerDocument;return i=void 0!==t&&null!==t?r.createElementNS?r.createElementNS(t,n):r.createNode(1,n,t):r.createElement(n),e.appendChild(i),i},j=function(e,t){var n,i=e.ownerDocument;return n=i.createTextNode(t),e.appendChild(n),e},P=function(e,t){var n,i,r;try{i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML("<temp>"+t+"</temp>")}catch(o){n=new DOMParser,i=n.parseFromString("<temp>"+t+"</temp>","text/xml")}for(r=0;i.documentElement.childNodes.length>r;r+=1)e.appendChild(i.documentElement.childNodes[r].cloneNode(!0));return e},H=function(t,n){var i,r,o,s,l,c,d,u,h,p,f,m=O(a,"rdf:RDF"),g=R(t),y=n.namespaces||{};for(i in y)I(m.documentElement,y[i],i);for(r in g){if(void 0!==g[r][e.rdf.type.value]){u=/(.+[#\/])([^#\/]+)/.exec(g[r][e.rdf.type.value][0].value),p=u[1],h=u[2];for(i in y)if(y[i]===p){f=i;break}o=D(m.documentElement,p,f+":"+h)}else o=D(m.documentElement,a,"rdf:Description");/^_:/.test(r)?Y(o,a,"rdf:nodeID",r.substring(2)):Y(o,a,"rdf:about",r);for(s in g[r])if(s!==e.rdf.type.value.toString()||g[r][s].length>1){u=/(.+[#\/])([^#\/]+)/.exec(s),p=u[1],h=u[2];for(i in y)if(y[i]===p){f=i;break}for(c=s===e.rdf.type.value.toString()?1:0;g[r][s].length>c;c+=1)d=g[r][s][c],l=D(o,p,f+":"+h),"uri"===d.type?Y(l,a,"rdf:resource",d.value):"literal"===d.type?void 0!==d.datatype?"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"===d.datatype?(Y(l,a,"rdf:parseType","Literal"),P(l,d.value)):(Y(l,a,"rdf:datatype",d.datatype),j(l,d.value)):void 0!==d.lang?(Y(l,"http://www.w3.org/XML/1998/namespace","xml:lang",d.lang),j(l,d.value)):j(l,d.value):Y(l,a,"rdf:nodeID",d.value.substring(2))}}return m},B=function(e){switch(e){case"http://www.w3.org/1999/02/22-rdf-syntax-ns":return"rdf";case"http://www.w3.org/XML/1998/namespace":return"xml";case"http://www.w3.org/2000/xmlns/":return"xmlns";default:throw"No default prefix mapped for namespace "+e}},$=function(e,t,n){var i;if(e.hasAttributeNS)return e.hasAttributeNS(t,n);try{return i=/:/.test(n)?/:(.+)$/.exec(n)[1]:n,null!==e.attributes.getQualifiedItem(i,t)}catch(r){return null!==e.getAttribute(B(t)+":"+n)}},F=function(e,t,n){var i;if(e.getAttributeNS)return e.getAttributeNS(t,n);try{return i=/:/.test(n)?/:(.+)$/.exec(n)[1]:n,e.attributes.getQualifiedItem(i,t).nodeValue}catch(r){return e.getAttribute(B(t)+":"+n)}},Q=function(e){return e.localName||e.baseName},z=function(t,n){var i,r;return $(t,a,"about")?(i=F(t,a,"about"),r=e.rdf.resource("<"+i+">",{base:n})):$(t,a,"ID")?(i=F(t,a,"ID"),r=e.rdf.resource("<#"+i+">",{base:n})):$(t,a,"nodeID")?(i=F(t,a,"nodeID"),r=e.rdf.blank("_:"+i)):r=e.rdf.blank("[]"),r},q=function(t,n,i,r){var o,s,l,c,d,u,r,h,p,f,m,g,y,v,_,b=1,w=[],x={},C=[];for(r=F(t,"http://www.w3.org/XML/1998/namespace","lang")||r,i=F(t,"http://www.w3.org/XML/1998/namespace","base")||i,null!==r&&void 0!==r&&""!==r&&(x={lang:r}),o=z(t,i),!n||t.namespaceURI===a&&"Description"===Q(t)||(l=e.rdf.type,d=e.rdf.resource("<"+t.namespaceURI+Q(t)+">"),C.push(e.rdf.triple(o,l,d))),h=0;t.attributes.length>h;h+=1)s=t.attributes.item(h),void 0!==s.namespaceURI&&"http://www.w3.org/2000/xmlns/"!==s.namespaceURI&&"http://www.w3.org/XML/1998/namespace"!==s.namespaceURI&&"xmlns"!==s.prefix&&"xml"!==s.prefix&&(s.namespaceURI!==a?(l=e.rdf.resource("<"+s.namespaceURI+Q(s)+">"),d=e.rdf.literal('"'+s.nodeValue+'"',x),C.push(e.rdf.triple(o,l,d))):"type"===Q(s)&&(l=e.rdf.type,d=e.rdf.resource("<"+s.nodeValue+">",{base:i}),C.push(e.rdf.triple(o,l,d))));for(h=0;t.childNodes.length>h;h+=1)if(s=t.childNodes[h],1===s.nodeType){if(s.namespaceURI===a&&"li"===Q(s)?(l=e.rdf.resource("<"+a+"_"+b+">"),b+=1):l=e.rdf.resource("<"+s.namespaceURI+Q(s)+">"),r=F(s,"http://www.w3.org/XML/1998/namespace","lang")||r,null!==r&&void 0!==r&&""!==r&&(x={lang:r}),$(s,a,"resource"))c=F(s,a,"resource"),d=e.rdf.resource("<"+c+">",{base:i});else if($(s,a,"nodeID"))c=F(s,a,"nodeID"),d=e.rdf.blank("_:"+c);else if($(s,a,"parseType")){if(y=F(s,a,"parseType"),"Literal"===y){try{v=new XMLSerializer,c=v.serializeToString(s.getElementsByTagName("*")[0])}catch(T){for(c="",p=0;s.childNodes.length>p;p+=1)c+=s.childNodes[p].xml}d=e.rdf.literal(c,{datatype:a+"XMLLiteral"})}else if("Resource"===y)_=q(s,!1,i,r),_.length>0?(d=_[_.length-1].subject,C=C.concat(_)):d=e.rdf.blank("[]");else if("Collection"===y)if(s.getElementsByTagName("*").length>0){for(p=0;s.childNodes.length>p;p+=1)c=s.childNodes[p],1===c.nodeType&&w.push(c);for(f=e.rdf.blank("[]"),d=f,p=0;w.length>p;p+=1)c=w[p],_=q(c,!0,i,r),_.length>0?(g=_[_.length-1].subject,C=C.concat(_)):g=z(c),C.push(e.rdf.triple(f,e.rdf.first,g)),p===w.length-1?C.push(e.rdf.triple(f,e.rdf.rest,e.rdf.nil)):(m=e.rdf.blank("[]"),C.push(e.rdf.triple(f,e.rdf.rest,m)),f=m)}else d=e.rdf.nil}else if($(s,a,"datatype"))c=s.childNodes[0].nodeValue,d=e.rdf.literal(c,{datatype:F(s,a,"datatype")});else if(s.getElementsByTagName("*").length>0)for(p=0;s.childNodes.length>p;p+=1)c=s.childNodes[p],1===c.nodeType&&(_=q(c,!0,i,r),_.length>0?(d=_[_.length-1].subject,C=C.concat(_)):d=z(c));else s.childNodes.length>0?(c=s.childNodes[0].nodeValue,d=e.rdf.literal('"'+c+'"',x)):(_=q(s,!1,i,r),_.length>0?(d=_[_.length-1].subject,C=C.concat(_)):d=e.rdf.blank("[]"));C.push(e.rdf.triple(o,l,d)),$(s,a,"ID")&&(u=e.rdf.resource("<#"+F(s,a,"ID")+">",{base:i}),C.push(e.rdf.triple(u,e.rdf.subject,o)),C.push(e.rdf.triple(u,e.rdf.property,l)),C.push(e.rdf.triple(u,e.rdf.object,d)))}return C},X=function(t){var n,i,r,o=[];if(t.documentElement.namespaceURI===a&&"RDF"===Q(t.documentElement))for(i=F(t.documentElement,"http://www.w3.org/XML/1998/namespace","lang"),base=F(t.documentElement,"http://www.w3.org/XML/1998/namespace","base")||e.uri.base(),n=0;t.documentElement.childNodes.length>n;n+=1)r=t.documentElement.childNodes[n],1===r.nodeType&&(o=o.concat(q(r,!0,base,i)));else o=q(t.documentElement,!0);return o};e.typedValue.types["http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral"]={regex:/^.*$/m,strip:!1,value:function(e){return e}},e.rdf=function(t){return new e.rdf.fn.init(t)},e.rdf.fn=e.rdf.prototype={rdfquery:"0.9",init:function(t){var n;return t=t||{},this.parent=t.parent,this.union=t.union,this.top=void 0===this.parent&&void 0===this.union,void 0===this.union?this.databank=void 0===t.databank?void 0===this.parent?e.rdf.databank(t.triples,t):this.parent.databank:t.databank:(n=e.map(this.union,function(e){return e.databank}),n=e.unique(n),this.databank=void 0!==n[1]?e.rdf.databank(void 0,{union:n}):n[0]),this.children=[],this.partOf=[],this.filterExp=t.filter,this.alphaMemory=[],this.matches=[],this.length=0,void 0!==this.filterExp&&(e.isFunction(this.filterExp)||(w(this.databank,this),this.alphaMemory=_(this.databank.triples(),this.filterExp))),T(this),this},base:function(e){return void 0===e?this.databank.base():(this.databank.base(e),this)},prefix:function(e,t){return void 0===t?this.databank.prefix(e):(this.databank.prefix(e,t),this)},add:function(t,n){var i,r;if(void 0!==t.rdfquery){if(t.top)return r=this.databank.add(t.databank),i=e.rdf({parent:this.parent,databank:r});if(this.top)return r=t.databank.add(this.databank),i=e.rdf({parent:t.parent,databank:r});if(void 0===this.union)return i=e.rdf({union:[this,t]}),this.partOf.push(i),t.partOf.push(i),i;this.union.push(t),t.partOf.push(this)}else"string"==typeof t&&(n=e.extend({},{base:this.base(),namespaces:this.prefix(),source:t},n),t=e.rdf.pattern(t,n)),t.isFixed()?this.databank.add(t.triple(),n):(i=this,this.each(function(e,r){var o=t.triple(r);null!==o&&i.databank.add(o,n)}));return this},remove:function(t,n){return"string"==typeof t&&(n=e.extend({},{base:this.base(),namespaces:this.prefix()},n),t=e.rdf.pattern(t,n)),t.isFixed()?this.databank.remove(t.triple(),n):(query=this,this.each(function(e,i){var r=t.triple(i);null!==r&&query.databank.remove(r,n)})),this},load:function(e,t){return this.databank.load(e,t),this},except:function(t){return e.rdf({databank:this.databank.except(t.databank)})},where:function(t,n){var i,r,o,s;return n=n||{},"string"==typeof t&&(r=n.base||this.base(),o=e.extend({},this.prefix(),n.namespaces||{}),s=n.optional||!1,t=e.rdf.pattern(t,{namespaces:o,base:r,optional:s})),i=e.rdf(e.extend({},n,{parent:this,filter:t})),this.children.push(i),i},optional:function(t,n){return this.where(t,e.extend({},n||{},{optional:!0}))},about:function(e,t){return this.where(e+" ?property ?value",t)},filter:function(t,n){var i,r;return i="string"==typeof t?n.constructor===RegExp?function(){return n.test(this[t].value)}:function(){return"literal"===this[t].type?this[t].value===n:this[t]===n}:t,r=e.rdf({parent:this,filter:i}),this.children.push(r),r},select:function(e){var t,n,i=[];for(t=0;this.length>t;t+=1)if(void 0===e)i[t]=this[t];else for(i[t]={},n=0;e.length>n;n+=1)i[t][e[n]]=this[t][e[n]];return i},describe:function(e){var t,n,i,r=[];for(t=0;e.length>t;t+=1)if(i=e[t],"?"===i.substring(0,1))for(i=i.substring(1),n=0;this.length>n;n+=1)r.push(this[n][i]);else r.push(i);return this.databank.describe(r)},eq:function(e){return this.filter(function(t){return t===e})},reset:function(){for(var e=this;void 0!==e.parent;)e=e.parent;return e},end:function(){return this.parent},size:function(){return this.length},sources:function(){return e(e.map(this.matches,function(e){return[e.triples]}))},dump:function(t){var n=e.map(this.matches,function(e){return e.triples});return t=e.extend({namespaces:this.databank.namespaces,base:this.databank.base},t||{}),e.rdf.dump(n,t)},get:function(t){return void 0===t?e.makeArray(this):this[t]},each:function(t){return e.each(this.matches,function(e,n){t.call(n.bindings,e,n.bindings,n.triples)}),this},map:function(t){return e(e.map(this.matches,function(e,n){return t.call(e.bindings,n,e.bindings,e.triples)}))},jquery:function(){return e(this)}},e.rdf.fn.init.prototype=e.rdf.fn,e.rdf.gleaners=[],e.rdf.dump=function(t,n){var i,r=e.extend({},e.rdf.dump.defaults,n||{}),o=r.format,s=r.serialize;if("application/json"===o)return i=R(t,r),s?e.toJSON(i):i;if("application/rdf+xml"===o)return i=H(t,r),s?i.xml?i.xml.replace(/\s+$/,""):(serializer=new XMLSerializer,serializer.serializeToString(i)):i;throw"Unrecognised dump format: "+o+". Expected application/json or application/rdf+xml."},e.rdf.dump.defaults={format:"application/json",serialize:!1,namespaces:{}},e.fn.rdf=function(){var t=[];return e(this)[0]&&9===e(this)[0].nodeType?e(this).children("*").rdf():e(this).length>0?(t=e(this).map(function(t,n){return e.map(e.rdf.gleaners,function(t){return t.call(e(n))})}),e.rdf({triples:t,namespaces:e(this).xmlns()})):e.rdf()},e.extend(e.expr[":"],{about:function(t,n,i){var r=e(t),o=i[3]?r.safeCurie(i[3]):null,s=!1;return e.each(e.rdf.gleaners,function(e,t){return s=t.call(r,{about:o}),s?null:void 0}),s},type:function(t,n,i){var r=e(t),o=i[3]?r.curie(i[3]):null,s=!1;return e.each(e.rdf.gleaners,function(e,t){return t.call(r,{type:o})?(s=!0,null):void 0}),s}}),e.rdf.databank=function(t,n){return new e.rdf.databank.fn.init(t,n)},e.rdf.databank.fn=e.rdf.databank.prototype={init:function(t,n){var i;if(t=t||[],n=n||{},this.id=f(),void 0===n.union)for(this.queries={},this.tripleStore={},this.objectStore={},this.baseURI=n.base||e.uri.base(),this.namespaces=e.extend({},n.namespaces||{}),i=0;t.length>i;i+=1)this.add(t[i]);else this.union=n.union;return this},base:function(t){return void 0===this.union?void 0===t?this.baseURI:(this.baseURI=t,this):void 0===t?this.union[0].base():(e.each(this.union,function(e,n){n.base(t)}),this)},prefix:function(t,n){var i={};return void 0===this.union?void 0===t?this.namespaces:void 0===n?this.namespaces[t]:(this.namespaces[t]=n,this):void 0===n?(e.each(this.union,function(t,n){e.extend(i,n.prefix())}),void 0===t?i:i[t]):(e.each(this.union,function(e,i){i.prefix(t,n)}),this)},add:function(t,n){var i,r=n&&n.base||this.base(),o=e.extend({},this.prefix(),n&&n.namespaces||{});return t===this?this:void 0!==t.tripleStore?void 0===this.union?i=e.rdf.databank(void 0,{union:[this,t]}):(this.union.push(t),this):("string"==typeof t&&(t=e.rdf.triple(t,{namespaces:o,base:r,source:t})),void 0===this.union?(void 0===this.tripleStore[t.subject]&&(this.tripleStore[t.subject]=[]),-1===e.inArray(t,this.tripleStore[t.subject])&&(this.tripleStore[t.subject].push(t),("uri"===t.object.type||"bnode"===t.object.type)&&(void 0===this.objectStore[t.object]&&(this.objectStore[t.object]=[]),this.objectStore[t.object].push(t)),k(this,t))):e.each(this.union,function(e,n){n.add(t)}),this)},remove:function(t,n){var i,r,o=n&&n.base||this.base(),s=e.extend({},this.prefix(),n&&n.namespaces||{});return"string"==typeof t&&(t=e.rdf.triple(t,{namespaces:s,base:o,source:t})),i=this.tripleStore[t.subject],void 0!==i&&i.splice(e.inArray(t,i),1),("uri"===t.object.type||"bnode"===t.object.type)&&(r=this.objectStore[t.object],void 0!==r&&r.splice(e.inArray(t,r),1)),A(this,t),this},except:function(t){var n=t.tripleStore,i=[];return e.each(this.tripleStore,function(t,r){var o=n[t];void 0===o?i=i.concat(r):e.each(r,function(t,n){-1===e.inArray(n,o)&&i.push(n)})}),e.rdf.databank(i)},triples:function(){var t=[];return void 0===this.union?e.each(this.tripleStore,function(e,n){t=t.concat(n)}):(e.each(this.union,function(e,n){t=t.concat(n.triples().get())}),t=e.unique(t)),e(t)},size:function(){return this.triples().length},describe:function(t){for(var n,i,r,o={},s=[];t.length>0;)if(i=t.pop(),void 0===o[i]){if(void 0===i.value&&(i=e.rdf.resource(i)),void 0!==this.tripleStore[i])for(n=0;this.tripleStore[i].length>n;n+=1)r=this.tripleStore[i][n],s.push(r),"bnode"===r.object.type&&t.push(r.object);if(void 0!==this.objectStore[i])for(n=0;this.objectStore[i].length>n;n+=1)r=this.objectStore[i][n],s.push(r),"bnode"===r.subject.type&&t.push(r.subject);o[i]=!0}return e.unique(s)},dump:function(t){return t=e.extend({namespaces:this.namespaces,base:this.base},t||{}),e.rdf.dump(this.triples(),t)},load:function(e){var t,n;for(n=void 0!==e.ownerDocument?X(e):L(e),t=0;n.length>t;t+=1)this.add(n[t]);return this},toString:function(){return"[Databank with "+this.size()+" triples]"}},e.rdf.databank.fn.init.prototype=e.rdf.databank.fn,e.rdf.pattern=function(t,n,i,r){var s,a,l;if(void 0===i){if(r=n||{},a=e.trim(t).match(u),3!==a.length&&(4!==a.length||"."!==a[3]))throw"Bad Pattern: Couldn't parse string "+t;t=a[0],n=a[1],i=a[2],l=void 0===r.optional?e.rdf.pattern.defaults.optional:r.optional}return o[t]&&o[t][n]&&o[t][n][i]&&o[t][n][i][l]?o[t][n][i][l]:(s=new e.rdf.pattern.fn.init(t,n,i,r),o[s.subject]&&o[s.subject][s.property]&&o[s.subject][s.property][s.object]&&o[s.subject][s.property][s.object][s.optional]?o[s.subject][s.property][s.object][s.optional]:(void 0===o[s.subject]&&(o[s.subject]={}),void 0===o[s.subject][s.property]&&(o[s.subject][s.property]={}),void 0===o[s.subject][s.property][s.object]&&(o[s.subject][s.property][s.object]={}),o[s.subject][s.property][s.object][s.optional]=s,s))},e.rdf.pattern.fn=e.rdf.pattern.prototype={init:function(t,n,i,r){var o=e.extend({},e.rdf.pattern.defaults,r);return this.subject="?"===t.toString().substring(0,1)?t:m(t,o),this.property="?"===n.toString().substring(0,1)?n:g(n,o),this.object="?"===i.toString().substring(0,1)?i:y(i,o),this.optional=o.optional,this},fill:function(t){var n=this.subject,i=this.property,r=this.object;return"string"==typeof n&&t[n.substring(1)]&&(n=t[n.substring(1)]),"string"==typeof i&&t[i.substring(1)]&&(i=t[i.substring(1)]),"string"==typeof r&&t[r.substring(1)]&&(r=t[r.substring(1)]),e.rdf.pattern(n,i,r,{optional:this.optional})},exec:function(e){var t={};return t=v(e.subject,this.subject,t),null===t?null:(t=v(e.property,this.property,t),null===t?null:t=v(e.object,this.object,t))},isFixed:function(){return"string"!=typeof this.subject&&"string"!=typeof this.property&&"string"!=typeof this.object},triple:function(t){var n=this;return this.isFixed()||(n=this.fill(t)),n.isFixed()?e.rdf.triple(n.subject,n.property,n.object,{source:this.toString()}):null},toString:function(){return this.subject+" "+this.property+" "+this.object}},e.rdf.pattern.fn.init.prototype=e.rdf.pattern.fn,e.rdf.pattern.defaults={base:e.uri.base(),namespaces:{},optional:!1},e.rdf.triple=function(t,n,i,o){var s,a,l;if(void 0===i){if(o=n,l=e.trim(t).match(u),3!==l.length&&(4!==l.length||"."!==l[3]))throw"Bad Triple: Couldn't parse string "+t;t=l[0],n=l[1],i=l[2]}return a=o&&o.graph||"",r[a]&&r[a][t]&&r[a][t][n]&&r[a][t][n][i]?r[a][t][n][i]:(s=new e.rdf.triple.fn.init(t,n,i,o),a=s.graph||"",r[a]&&r[a][s.subject]&&r[a][s.subject][s.property]&&r[a][s.subject][s.property][s.object]?r[a][s.subject][s.property][s.object]:(void 0===r[a]&&(r[a]={}),void 0===r[a][s.subject]&&(r[a][s.subject]={}),void 0===r[a][s.subject][s.property]&&(r[a][s.subject][s.property]={}),r[a][s.subject][s.property][s.object]=s,s))},e.rdf.triple.fn=e.rdf.triple.prototype={init:function(t,n,i,r){var o;return o=e.extend({},e.rdf.triple.defaults,r),this.subject=m(t,o),this.property=g(n,o),this.object=y(i,o),this.graph=void 0===o.graph?void 0:m(o.graph,o),this.source=o.source,this},isFixed:function(){return!0},triple:function(){return this},dump:function(){var e={},t=this.subject.value.toString(),n=this.property.value.toString();return e[t]={},e[t][n]=this.object.dump(),e},toString:function(){return this.subject+" "+this.property+" "+this.object+" ."}},e.rdf.triple.fn.init.prototype=e.rdf.triple.fn,e.rdf.triple.defaults={base:e.uri.base(),source:[document],namespaces:{}},e.rdf.resource=function(n,i){var r;return t[n]?t[n]:(r=new e.rdf.resource.fn.init(n,i),t[r]?t[r]:(t[r]=r,r))},e.rdf.resource.fn=e.rdf.resource.prototype={type:"uri",value:void 0,init:function(t,n){var i,r,o,s;if("string"==typeof t)if(i=c.exec(t),s=e.extend({},e.rdf.resource.defaults,n),null!==i)this.value=e.uri.resolve(i[1].replace(/\\>/g,">"),s.base);else if(":"===t.substring(0,1)){if(o=s.namespaces[""],void 0===o)throw"Malformed Resource: No namespace binding for default namespace in "+t;this.value=e.uri.resolve(o+t.substring(1))}else if(":"===t.substring(t.length-1)){if(r=t.substring(0,t.length-1),o=s.namespaces[r],void 0===o)throw"Malformed Resource: No namespace binding for prefix "+r+" in "+t;this.value=e.uri.resolve(o)}else try{this.value=e.curie(t,{namespaces:s.namespaces})}catch(a){throw"Malformed Resource: Bad format for resource "+a}else this.value=t;return this},dump:function(){return{type:"uri",value:this.value.toString()}},toString:function(){return"<"+this.value+">"}},e.rdf.resource.fn.init.prototype=e.rdf.resource.fn,e.rdf.resource.defaults={base:e.uri.base(),namespaces:{}},e.rdf.type=e.rdf.resource("<"+a+"type>"),e.rdf.label=e.rdf.resource("<"+l+"label>"),e.rdf.first=e.rdf.resource("<"+a+"first>"),e.rdf.rest=e.rdf.resource("<"+a+"rest>"),e.rdf.nil=e.rdf.resource("<"+a+"nil>"),e.rdf.subject=e.rdf.resource("<"+a+"subject>"),e.rdf.property=e.rdf.resource("<"+a+"property>"),e.rdf.object=e.rdf.resource("<"+a+"object>"),e.rdf.blank=function(t){var i;return n[t]?n[t]:(i=new e.rdf.blank.fn.init(t),n[i]?n[i]:(n[i]=i,i))},e.rdf.blank.fn=e.rdf.blank.prototype={type:"bnode",value:void 0,id:void 0,init:function(e){if("[]"===e)this.id=p(),this.value="_:"+this.id;else{if("_:"!==e.substring(0,2))throw"Malformed Blank Node: "+e+" is not a legal format for a blank node";this.id=e.substring(2),this.value=e}return this},dump:function(){return{type:"bnode",value:this.value}},toString:function(){return this.value}},e.rdf.blank.fn.init.prototype=e.rdf.blank.fn,e.rdf.literal=function(t,n){var r;return i[t]?i[t]:(r=new e.rdf.literal.fn.init(t,n),i[r]?i[r]:(i[r]=r,r))},e.rdf.literal.fn=e.rdf.literal.prototype={type:"literal",value:void 0,lang:void 0,datatype:void 0,init:function(t,n){var i,r,o=e.extend({},e.rdf.literal.defaults,n);if(void 0!==o.lang&&void 0!==o.datatype)throw"Malformed Literal: Cannot define both a language and a datatype for a literal ("+t+")";if(void 0!==o.datatype)r=e.safeCurie(o.datatype,{namespaces:o.namespaces}),e.extend(this,e.typedValue(t.toString(),r));else if(void 0!==o.lang)this.value=t.toString(),this.lang=o.lang;else if("boolean"==typeof t)e.extend(this,e.typedValue(t.toString(),s+"boolean"));else if("number"==typeof t)e.extend(this,e.typedValue(t.toString(),s+"double"));else if("true"===t||"false"===t)e.extend(this,e.typedValue(t,s+"boolean"));else if(e.typedValue.valid(t,s+"integer"))e.extend(this,e.typedValue(t,s+"integer"));else if(e.typedValue.valid(t,s+"decimal"))e.extend(this,e.typedValue(t,s+"decimal"));else if(e.typedValue.valid(t,s+"double")&&!/^\s*([\-\+]?INF|NaN)\s*$/.test(t))e.extend(this,e.typedValue(t,s+"double"));else{if(i=d.exec(t),null===i)throw"Malformed Literal: Couldn't recognise the value "+t;this.value=(i[2]||i[4]).replace(/\\"/g,'"'),i[9]?(r=e.rdf.resource(i[9],o),e.extend(this,e.typedValue(this.value,r.value))):i[7]&&(this.lang=i[7])}return this},dump:function(){var e={type:"literal",value:this.value.toString()};return void 0!==this.lang?e.lang=this.lang:void 0!==this.datatype&&(e.datatype=this.datatype.toString()),e},toString:function(){var e='"'+this.value+'"';return void 0!==this.lang?e+="@"+this.lang:void 0!==this.datatype&&(e+="^^<"+this.datatype+">"),e}},e.rdf.literal.fn.init.prototype=e.rdf.literal.fn,e.rdf.literal.defaults={base:e.uri.base(),namespaces:{},datatype:void 0,lang:void 0}}(jQuery),function(e){var t={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",xsd:"http://www.w3.org/2001/XMLSchema#"},n=t.rdf+"XMLLiteral",r=e.fn.curie.defaults,o=/\s([^ =]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|([^ >]+))/g,s=e.rdf.resource("<>"),a=function(e){var t,n,i="";if(!/&/.test(e))return e;for(;e.length>0;){if(t=/([^&]*)(&([^;]+);)(.*)/g.exec(e),null===t){i+=e;break}if(i+=t[1],n=t[3],e=t[4],"#"===n.charAt(0))i+="x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(parseInt(n.substring(1),10));else switch(n){case"amp":i+="&";break;case"nbsp":i+=String.fromCharCode(160);break;case"quot":i+='"';break;case"apos":i+="'";break;default:i+="&"+n+";"}}return i},l=function(t){var n,i,r,s,l,c,d,u,h={},p={};if(i=t[0],h[":length"]=0,i.attributes&&i.attributes.getNamedItemNS)for(d=i.attributes,n=0;d.length>n;n+=1)r=d[n],/^xmlns(:(.+))?$/.test(r.nodeName)&&""!==r.nodeValue?(u=/^xmlns(:(.+))?$/.exec(r.nodeName)[2]||"",h[u]=e.uri(r.nodeValue),h[":length"]+=1):/rel|rev|lang|xml:lang/.test(r.nodeName)?p[r.nodeName]=""===r.nodeValue?void 0:r.nodeValue:/about|href|src|resource|property|typeof|content|datatype/.test(r.nodeName)&&(p[r.nodeName]=null===r.nodeValue?void 0:r.nodeValue);else{for(s=/<[^>]+>/.exec(i.outerHTML),r=o.exec(s);null!==r;)l=r[1],c=r[2]||r[3]||r[4],/^xmlns/.test(l)&&"xmlns:"!==l&&""!==c?(u=/^xmlns(:(.+))?$/.exec(l)[2]||"",h[u]=e.uri(c),h[":length"]+=1):/about|href|src|resource|property|typeof|content|datatype|rel|rev|lang|xml:lang/.test(l)&&(p[l]=a(c)),r=o.exec(s);o.lastIndex=0}return{atts:p,namespaces:h}},c=function(e,t){var n=e[0].getAttribute(t);return("rev"===t||"rel"===t||"lang"===t||"xml:lang"===t)&&(n=""===n?void 0:n),null===n?void 0:n},d=function(t){return e.rdf.resource(t)},u=function(t,n,i){if("_:"===t.substring(0,2))return e.rdf.blank(t);try{return d(e.curie(t,i))}catch(r){return void 0}},h=function(t,n,i){var r=/^\[([^\]]+)\]$/.exec(t),o=i.base||n.base();return r?u(r[1],n,i):d(e.uri(t,o))},p=function(e,t,n){var i,r,o=[];for(e=e&&e.split?e.split(/[ \t\n\r\x0C]+/g):[],i=0;e.length>i;i+=1)""!==e[i]&&(r=u(e[i],t,n),void 0!==r&&o.push(r));return o},f=function(t,n,i){var r,o,s=[];for(n="uri"===n.type?n:e.rdf.resource(n,i),t=t&&t.split?t.split(/\s+/):[],r=0;t.length>r;r+=1)""!==t[r]&&(o=u(t[r],null,i),o!==n&&s.push(t[r]));return s.reverse().join(" ")},m=function(t,n,i){var o,s,a,c;return n=n||{},a=n.atts||l(t).atts,o=void 0===i?void 0!==a.rel||void 0!==a.rev:i,s=a.resource,s=void 0===s?a.href:s,void 0===s?s=o?e.rdf.blank("[]"):s:(c=n.curieOptions||e.extend({},r,{namespaces:t.xmlns()}),s=h(s,t,c)),s},g=function(t,n,i){var o,a,c,d,u=!1;return n=n||{},a=n.atts||l(t).atts,c=n.curieOptions||e.extend({},r,{namespaces:t.xmlns(),base:t.base()}),o=void 0===i?void 0!==a.rel||void 0!==a.rev:i,void 0!==a.about&&(d=h(a.about,t,c)),void 0===d&&void 0!==a.src&&(d=h(a.src,t,c)),o||void 0!==d||void 0===a.resource||(d=h(a.resource,t,c)),o||void 0!==d||void 0===a.href||(d=h(a.href,t,c)),void 0===d&&(/head|body/i.test(t[0].nodeName)?d=s:void 0!==a["typeof"]?d=e.rdf.blank("[]"):1===t[0].parentNode.nodeType?(d=n.object||m(t.parent())||g(t.parent()).subject,u=!o&&void 0===a.property):d=s),{subject:d,skip:u}},y=function(e,t){var n;return t=t||{},t.atts?(n=t.atts.lang,n=n||t.atts["xml:lang"]):(n=e[0].getAttribute("lang"),n=null===n||""===n?e[0].getAttribute("xml:lang"):n,n=null===n||""===n?void 0:n),void 0===n&&(t.lang?n=t.lang:1===e[0].parentNode.nodeType&&(n=y(e.parent()))),n},v=function(e){switch(e){case"<":return"&lt;";case'"':return"&quot;";case"&":return"&amp;"}},_=function(t,n){var i,r,s,a,l,c,d="";return t.contents().each(function(){var t=e(this),u=t[0];if(1===u.nodeType){if(a=u.nodeName.toLowerCase(),d+="<"+a,u.outerHTML){for(c=/<[^>]+>/.exec(u.outerHTML),s=o.exec(c);null!==s;)/^jQuery/.test(s[1])||(d+=" "+s[1]+"=",d+=s[2]?s[3]:'"'+s[1]+'"'),s=o.exec(c);o.lastIndex=0}else for(r=u.attributes,i=0;r.length>i;i+=1)s=r.item(i),d+=" "+s.nodeName+'="',d+=s.nodeValue.replace(/[<"&]/g,v),d+='"';n||(l=t.xmlns(""),void 0!==l&&void 0===t.attr("xmlns")&&(d+=' xmlns="'+l+'"')),d+=">",d+=_(t,!0),d+="</"+a+">"}else 8===u.nodeType?(d+="<!--",d+=u.nodeValue,d+="-->"):d+=u.nodeValue}),d},b=function(t){var i,o,s,a,c,d,u,h,f,v,w,x,C,T,E,S,M,N,W,k=[],A=this.children();if(t=t||{},T=t.forward||[],E=t.backward||[],S=l(this),M=S.atts,t.atts=M,N=t.namespaces||this.xmlns(),S.namespaces[":length"]>0){N=e.extend({},N);for(W in S.namespaces)":length"!==W&&(N[W]=S.namespaces[W])}if(t.curieOptions=e.extend({},r,{namespaces:N,base:this.base()}),o=g(this,t),a=y(this,t),o.skip)x=t.forward,C=t.backward,o=t.subject,s=t.object;else{if(o=o.subject,T.length>0||E.length>0){for(v=t.subject||g(this.parent()).subject,i=0;T.length>i;i+=1)f=e.rdf.triple(v,T[i],o,{source:this[0]}),k.push(f);for(i=0;E.length>i;i+=1)f=e.rdf.triple(o,E[i],v,{source:this[0]}),k.push(f)}for(s=m(this,t),u=p(M["typeof"],this,t.curieOptions),i=0;u.length>i;i+=1)f=e.rdf.triple(o,e.rdf.type,u[i],{source:this[0]}),k.push(f);if(w=p(M.property,this,t.curieOptions),w.length>0)for(c=M.datatype,d=M.content,void 0!==c&&""!==c?(c=e.curie(c,t.curieOptions),h=c===n?e.rdf.literal(_(this),{datatype:n}):void 0!==d?e.rdf.literal(d,{datatype:c}):e.rdf.literal(this.text(),{datatype:c})):void 0!==d?h=void 0===a?e.rdf.literal('"'+d+'"'):e.rdf.literal(d,{lang:a}):0===A.length||""===c?(a=y(this,t),h=void 0===a?e.rdf.literal('"'+this.text()+'"'):e.rdf.literal(this.text(),{lang:a})):h=e.rdf.literal(_(this),{datatype:n}),i=0;w.length>i;i+=1)f=e.rdf.triple(o,w[i],h,{source:this[0]}),k.push(f);if(x=p(M.rel,this,t.curieOptions),C=p(M.rev,this,t.curieOptions),void 0!==M.resource||void 0!==M.href){if(void 0!==x)for(i=0;x.length>i;i+=1)f=e.rdf.triple(o,x[i],s,{source:this[0]}),k.push(f);if(x=[],void 0!==C)for(i=0;C.length>i;i+=1)f=e.rdf.triple(s,C[i],o,{source:this[0]}),k.push(f);C=[]}}return A.each(function(){k=k.concat(b.call(e(this),{forward:x,backward:C,subject:o,object:s||o,lang:a,namespaces:N}))}),k},w=function(e){var t,n;return e&&void 0!==e.about?(n=l(this).atts,null===e.about?void 0!==n.property||void 0!==n.rel||void 0!==n.rev||void 0!==n["typeof"]:g(this,{atts:n}).subject.value===e.about):e&&void 0!==e.type?(t=c(this,"typeof"),void 0!==t?null===e.type?!0:this.curie(t)===e.type:!1):b.call(this)},x=1,C=function(i,r,o){var s,a,l;try{a=i.createCurie(o)}catch(d){o.toString()===n?(i.attr("xmlns:rdf",t.rdf),a="rdf:XMLLiteral"):(s=/^(.+[\/#])([^#]+)$/.exec(o),i.attr("xmlns:ns"+x,s[1]),a="ns"+x+":"+s[2],x+=1)}l=c(i,r),void 0!==l?-1===e.inArray(a,l.split(/\s+/))&&i.attr(r,l+" "+a):i.attr(r,a)},T=function(t,n,i){var r;r="bnode"===i.type?"[_:"+i.id+"]":e(t).base().relative(i.value),t.attr(n,r)},E=function(e,t){var n=g(e).subject;t!==n&&T(e,"about",t),e.removeData("rdfa.subject")},S=function(e,t){var n=m(e);t!==n&&T(e,"resource",t),e.removeData("rdfa.objectResource")},M=function(e,t){return e.wrapInner("<span></span>").children("span").attr("lang",t),e},N=function(t){var i,r,o,s,a,c,d,u,h,p,f,v,_,b=this.xmlns();if(a=this,_=l(this).atts,"string"==typeof t)t=e.rdf.triple(t,{namespaces:b,base:this.base()});else{if(t.rdfquery)return N.call(this,t.sources().get(0)),this;if(t.length){for(v=0;t.length>v;v+=1)N.call(this,t[v]);return this}}if(r=void 0!==_.rel||void 0!==_.rev,o=r||void 0!==_.property||void 0!==_["typeof"],"literal"!==t.object.type)c=g(this,{atts:_},!0).subject,u=m(this,{atts:_},!0),s=!o&&void 0===_.resource,d=c===t.subject,h=u===t.object,t.property===e.rdf.type?d?C(this,"typeof",t.object.value):o?(a=this.wrapInner("<span />").children("span"),C(a,"typeof",t.object.value),u!==t.subject&&E(a,t.subject)):(C(this,"typeof",t.object.value),E(this,t.subject)):d?h?C(this,"rel",t.property.value):s||!o?(C(this,"rel",t.property.value),S(this,t.object)):(a=this.wrap("<span />").parent(),C(a,"rev",t.property.value),E(a,t.object)):c===t.object?u===t.subject?C(this,"rev",t.property.value):s||!o?(C(this,"rev",t.property.value),S(this,t.subject)):(a=this.wrap("<span />").parent(),C(a,"rel",t.property.value),E(a,t.subject)):h?o?(a=this.wrapInner("<span />").children("span"),C(a,"rev",t.property.value),S(a,t.subject),a=a.wrapInner("<span />").children("span"),E(a,t.object),a=this):(E(this,t.subject),C(this,"rel",t.property.value)):u===t.subject?o?(a=this.wrapInner("<span />").children("span"),C(a,"rel",this.property.value),S(a,t.object),a=a.wrapInner("<span />").children("span"),E(a,u),a=this):(E(this,t.object),C(this,"rev",t.property.value)):o?(a=this.wrapInner("<span />").children("span"),C(a,"rel",t.property.value),E(a,t.subject),S(a,t.object),a.children("*").length>0&&(a=this.wrapInner("<span />").children("span"),E(a,c)),a=this):(C(a,"rel",t.property.value),E(this,t.subject),S(this,t.object),this.children("*").length>0&&(a=this.wrapInner("<span />").children("span"),E(a,c),a=this));
else if(c=g(this,{atts:_}).subject,u=m(this,{atts:_}),d=c===t.subject,i=this.text()!==t.object.value,void 0!==_.property){if(f=_.content,h=void 0!==f?f===t.object.value:!i,!d||!h)return a=this.wrapInner("<span />").children("span"),N.call(a,t);C(this,"property",t.property.value)}else{if(u===t.subject)return a=this.wrapInner("<span />").children("span"),N.call(a,t);C(this,"property",t.property.value),E(this,t.subject),i&&(t.object.datatype&&t.object.datatype.toString()===n?this.html(t.object.value):this.attr("content",t.object.value)),p=y(this),t.object.lang?p!==t.object.lang&&(this.attr("lang",t.object.lang),i&&M(this,p)):t.object.datatype?C(this,"datatype",t.object.datatype):(i||this.attr("datatype",""),void 0!==p&&(this.attr("lang",""),i&&M(this,p)))}return this.parents().andSelf().trigger("rdfChange"),a},W=function(e){var t,n,r,o,s,a=this.xmlns();if(t=l(this).atts,e.length){for(i=0;e.length>i;i+=1)W.call(this,e[i]);return this}return hasRelation=void 0!==t.rel||void 0!==t.rev,hasRDFa=hasRelation||void 0!==t.property||void 0!==t["typeof"],hasRDFa&&(void 0!==e.property&&(void 0!==t.property&&(n=f(t.property,e.property,{namespaces:a}),""===n?this.removeAttr("property"):this.attr("property",n)),void 0!==t.rel&&(r=f(t.rel,e.property,{namespaces:a}),""===r?this.removeAttr("rel"):this.attr("rel",r)),void 0!==t.rev&&(o=f(t.rev,e.property,{namespaces:a}),""===o?this.removeAttr("rev"):this.attr("rev",o))),void 0!==e.type&&void 0!==t["typeof"]&&(s=f(t["typeof"],e.type,{namespaces:a}),""===s?this.removeAttr("typeof"):this.attr("typeof",s)),t.property===this.attr("property")&&t.rel===this.attr("rel")&&t.rev===this.attr("rev")&&t["typeof"]===this.attr("typeof"))?W.call(this.parent(),e):(this.parents().andSelf().trigger("rdfChange"),this)};e.fn.rdfa=function(t){if(void 0===t){var n=e.map(e(this),function(t){return b.call(e(t))});return e.rdf({triples:n})}return e(this).each(function(){N.call(e(this),t)}),this},e.fn.removeRdfa=function(t){return e(this).each(function(){W.call(e(this),t)}),this},e.rdf.gleaners.push(w)}(jQuery),/**
    WYMeditor
    =========

    version 1.0.0b1

    WYMeditor : what you see is What You Mean web-based editor

    Main JS file with core classes and functions.

    Copyright
    ---------

    Copyright (c) 2005 - 2010 Jean-Francois Hovinne, http://www.wymeditor.org/
    Dual licensed under the MIT (MIT-license.txt)
    and GPL (GPL-license.txt) licenses.

    Website
    -------

    For further information visit:
    http://www.wymeditor.org/


    Authors
    -------

    See AUTHORS file
*/
"undefined"==typeof WYMeditor&&(WYMeditor={}),function(){if("undefined"==typeof window.console&&"undefined"==typeof console){var e,t=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],n=function(){};for(WYMeditor.console={},e=0;t.length>e;e+=1)WYMeditor.console[t[e]]=n}else console?WYMeditor.console=console:window.console.firebug?WYMeditor.console=window.console:window.console&&(WYMeditor.console=window.console)}(),jQuery.extend(WYMeditor,{VERSION:"1.0.0b1",INSTANCES:[],STRINGS:[],SKINS:[],NAME:"name",INDEX:"{Wym_Index}",WYM_INDEX:"wym_index",BASE_PATH:"{Wym_Base_Path}",CSS_PATH:"{Wym_Css_Path}",WYM_PATH:"{Wym_Wym_Path}",SKINS_DEFAULT_PATH:"skins/",SKINS_DEFAULT_CSS:"skin.css",SKINS_DEFAULT_JS:"skin.js",LANG_DEFAULT_PATH:"lang/",IFRAME_BASE_PATH:"{Wym_Iframe_Base_Path}",IFRAME_DEFAULT:"iframe/default/",JQUERY_PATH:"{Wym_Jquery_Path}",DIRECTION:"{Wym_Direction}",LOGO:"{Wym_Logo}",TOOLS:"{Wym_Tools}",TOOLS_ITEMS:"{Wym_Tools_Items}",TOOL_NAME:"{Wym_Tool_Name}",TOOL_TITLE:"{Wym_Tool_Title}",TOOL_CLASS:"{Wym_Tool_Class}",CLASSES:"{Wym_Classes}",CLASSES_ITEMS:"{Wym_Classes_Items}",CLASS_NAME:"{Wym_Class_Name}",CLASS_TITLE:"{Wym_Class_Title}",CONTAINERS:"{Wym_Containers}",CONTAINERS_ITEMS:"{Wym_Containers_Items}",CONTAINER_NAME:"{Wym_Container_Name}",CONTAINER_TITLE:"{Wym_Containers_Title}",CONTAINER_CLASS:"{Wym_Container_Class}",HTML:"{Wym_Html}",IFRAME:"{Wym_Iframe}",STATUS:"{Wym_Status}",DIALOG_TITLE:"{Wym_Dialog_Title}",DIALOG_BODY:"{Wym_Dialog_Body}",NEWLINE:"\n",STRING:"string",BODY:"body",DIV:"div",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",PRE:"pre",BLOCKQUOTE:"blockquote",A:"a",BR:"br",IMG:"img",TABLE:"table",TR:"tr",TD:"td",TH:"th",UL:"ul",OL:"ol",LI:"li",CLASS:"class",HREF:"href",SRC:"src",TITLE:"title",REL:"rel",ALT:"alt",DIALOG_LINK:"Link",DIALOG_IMAGE:"Image",DIALOG_TABLE:"Table",DIALOG_PASTE:"Paste_From_Word",BOLD:"Bold",ITALIC:"Italic",CREATE_LINK:"CreateLink",INSERT_IMAGE:"InsertImage",INSERT_TABLE:"InsertTable",INSERT_HTML:"InsertHTML",PASTE:"Paste",INDENT:"Indent",OUTDENT:"Outdent",TOGGLE_HTML:"ToggleHtml",FORMAT_BLOCK:"FormatBlock",PREVIEW:"Preview",UNLINK:"Unlink",INSERT_UNORDEREDLIST:"InsertUnorderedList",INSERT_ORDEREDLIST:"InsertOrderedList",MAIN_CONTAINERS:["p","h1","h2","h3","h4","h5","h6","pre","blockquote"],BLOCKS:["address","blockquote","div","dl","fieldset","form","h1","h2","h3","h4","h5","h6","hr","noscript","ol","p","pre","table","ul","dd","dt","li","tbody","td","tfoot","th","thead","tr"],BLOCKING_ELEMENTS:["table","blockquote","pre"],NON_BLOCKING_ELEMENTS:["p","h1","h2","h3","h4","h5","h6"],POTENTIAL_LIST_ELEMENTS:["p","h1","h2","h3","h4","h5","h6","pre","blockquote","td"],KEY:{BACKSPACE:8,TAB:9,ENTER:13,CTRL:17,END:35,HOME:36,CURSOR:[37,38,39,40],LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,B:66,I:73,R:82,COMMAND:224},NODE:{ELEMENT:1,ATTRIBUTE:2,TEXT:3},editor:function(e,t){this._index=WYMeditor.INSTANCES.push(this)-1,this._element=e,this._options=t,this._html=jQuery(e).val(),this._options.html&&(this._html=this._options.html),this._options.wymPath=this._options.wymPath||WYMeditor.computeWymPath(),this._options.basePath=this._options.basePath||WYMeditor.computeBasePath(this._options.wymPath),this._options.jQueryPath=this._options.jQueryPath||WYMeditor.computeJqueryPath(),this._options.skinPath=this._options.skinPath||this._options.basePath+WYMeditor.SKINS_DEFAULT_PATH+this._options.skin+"/",this._options.langPath=this._options.langPath||this._options.basePath+WYMeditor.LANG_DEFAULT_PATH,this._options.iframeBasePath=this._options.iframeBasePath||this._options.basePath+WYMeditor.IFRAME_DEFAULT,this.init()}}),jQuery.fn.wymeditor=function(e){return e=jQuery.extend({html:"",basePath:!1,skinPath:!1,wymPath:!1,iframeBasePath:!1,jQueryPath:!1,styles:!1,stylesheet:!1,skin:"default",initSkin:!0,loadSkin:!0,lang:"en",direction:"ltr",customCommands:[],boxHtml:String()+"<div class='wym_box'>"+"<div class='wym_area_top'>"+WYMeditor.TOOLS+"</div>"+"<div class='wym_area_left'></div>"+"<div class='wym_area_right'>"+WYMeditor.CONTAINERS+WYMeditor.CLASSES+"</div>"+"<div class='wym_area_main'>"+WYMeditor.HTML+WYMeditor.IFRAME+WYMeditor.STATUS+"</div>"+"<div class='wym_area_bottom'>"+WYMeditor.LOGO+"</div>"+"</div>",logoHtml:String()+'<a class="wym_wymeditor_link" '+'href="http://www.wymeditor.org/">WYMeditor</a>',iframeHtml:String()+'<div class="wym_iframe wym_section">'+'<iframe src="'+WYMeditor.IFRAME_BASE_PATH+'wymiframe.html" '+'onload="this.contentWindow.parent.WYMeditor.INSTANCES['+WYMeditor.INDEX+'].initIframe(this)">'+"</iframe>"+"</div>",editorStyles:[],toolsHtml:String()+'<div class="wym_tools wym_section">'+"<h2>{Tools}</h2>"+"<ul>"+WYMeditor.TOOLS_ITEMS+"</ul>"+"</div>",toolsItemHtml:String()+'<li class="'+WYMeditor.TOOL_CLASS+'">'+'<a href="#" name="'+WYMeditor.TOOL_NAME+'"'+'title="'+WYMeditor.TOOL_TITLE+'">'+WYMeditor.TOOL_TITLE+"</a>"+"</li>",toolsItems:[{name:"Bold",title:"Strong",css:"wym_tools_strong"},{name:"Italic",title:"Emphasis",css:"wym_tools_emphasis"},{name:"Superscript",title:"Superscript",css:"wym_tools_superscript"},{name:"Subscript",title:"Subscript",css:"wym_tools_subscript"},{name:"InsertOrderedList",title:"Ordered_List",css:"wym_tools_ordered_list"},{name:"InsertUnorderedList",title:"Unordered_List",css:"wym_tools_unordered_list"},{name:"Indent",title:"Indent",css:"wym_tools_indent"},{name:"Outdent",title:"Outdent",css:"wym_tools_outdent"},{name:"Undo",title:"Undo",css:"wym_tools_undo"},{name:"Redo",title:"Redo",css:"wym_tools_redo"},{name:"CreateLink",title:"Link",css:"wym_tools_link"},{name:"Unlink",title:"Unlink",css:"wym_tools_unlink"},{name:"InsertImage",title:"Image",css:"wym_tools_image"},{name:"InsertTable",title:"Table",css:"wym_tools_table"},{name:"Paste",title:"Paste_From_Word",css:"wym_tools_paste"},{name:"ToggleHtml",title:"HTML",css:"wym_tools_html"},{name:"Preview",title:"Preview",css:"wym_tools_preview"}],containersHtml:String()+'<div class="wym_containers wym_section">'+"<h2>{Containers}</h2>"+"<ul>"+WYMeditor.CONTAINERS_ITEMS+"</ul>"+"</div>",containersItemHtml:String()+'<li class="'+WYMeditor.CONTAINER_CLASS+'">'+'<a href="#" name="'+WYMeditor.CONTAINER_NAME+'">'+WYMeditor.CONTAINER_TITLE+"</a>"+"</li>",containersItems:[{name:"P",title:"Paragraph",css:"wym_containers_p"},{name:"H1",title:"Heading_1",css:"wym_containers_h1"},{name:"H2",title:"Heading_2",css:"wym_containers_h2"},{name:"H3",title:"Heading_3",css:"wym_containers_h3"},{name:"H4",title:"Heading_4",css:"wym_containers_h4"},{name:"H5",title:"Heading_5",css:"wym_containers_h5"},{name:"H6",title:"Heading_6",css:"wym_containers_h6"},{name:"PRE",title:"Preformatted",css:"wym_containers_pre"},{name:"BLOCKQUOTE",title:"Blockquote",css:"wym_containers_blockquote"},{name:"TH",title:"Table_Header",css:"wym_containers_th"}],classesHtml:String()+'<div class="wym_classes wym_section">'+"<h2>{Classes}</h2>"+"<ul>"+WYMeditor.CLASSES_ITEMS+"</ul>"+"</div>",classesItemHtml:String()+'<li class="wym_classes_'+WYMeditor.CLASS_NAME+'">'+'<a href="#" name="'+WYMeditor.CLASS_NAME+'">'+WYMeditor.CLASS_TITLE+"</a>"+"</li>",classesItems:[],statusHtml:String()+'<div class="wym_status wym_section">'+"<h2>{Status}</h2>"+"</div>",htmlHtml:String()+'<div class="wym_html wym_section">'+"<h2>{Source_Code}</h2>"+'<textarea class="wym_html_val"></textarea>'+"</div>",boxSelector:".wym_box",toolsSelector:".wym_tools",toolsListSelector:" ul",containersSelector:".wym_containers",classesSelector:".wym_classes",htmlSelector:".wym_html",iframeSelector:".wym_iframe iframe",iframeBodySelector:".wym_iframe",statusSelector:".wym_status",toolSelector:".wym_tools a",containerSelector:".wym_containers a",classSelector:".wym_classes a",htmlValSelector:".wym_html_val",hrefSelector:".wym_href",srcSelector:".wym_src",titleSelector:".wym_title",relSelector:".wym_rel",altSelector:".wym_alt",textSelector:".wym_text",rowsSelector:".wym_rows",colsSelector:".wym_cols",captionSelector:".wym_caption",summarySelector:".wym_summary",submitSelector:"form",cancelSelector:".wym_cancel",previewSelector:"",dialogTypeSelector:".wym_dialog_type",dialogLinkSelector:".wym_dialog_link",dialogImageSelector:".wym_dialog_image",dialogTableSelector:".wym_dialog_table",dialogPasteSelector:".wym_dialog_paste",dialogPreviewSelector:".wym_dialog_preview",updateSelector:".wymupdate",updateEvent:"click",dialogFeatures:"menubar=no,titlebar=no,toolbar=no,resizable=no,width=560,height=300,top=0,left=0",dialogFeaturesPreview:"menubar=no,titlebar=no,toolbar=no,resizable=no,scrollbars=yes,width=560,height=300,top=0,left=0",dialogHtml:String()+'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" '+'"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">'+'<html dir="'+WYMeditor.DIRECTION+'">'+"<head>"+'<link rel="stylesheet" type="text/css" media="screen" '+'href="'+WYMeditor.CSS_PATH+'" />'+"<title>"+WYMeditor.DIALOG_TITLE+"</title>"+'<script type="text/javascript" '+'src="'+WYMeditor.JQUERY_PATH+'"></script>'+'<script type="text/javascript" '+'src="'+WYMeditor.WYM_PATH+'"></script>'+"</head>"+WYMeditor.DIALOG_BODY+"</html>",dialogLinkHtml:String()+'<body class="wym_dialog wym_dialog_link" '+' onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_LINK+'" />'+"<legend>{Link}</legend>"+'<div class="row">'+"<label>{URL}</label>"+'<input type="text" class="wym_href" value="" '+'size="40" autofocus="autofocus" />'+"</div>"+'<div class="row">'+"<label>{Title}</label>"+'<input type="text" class="wym_title" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Relationship}</label>"+'<input type="text" class="wym_rel" value="" '+'size="40" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogImageHtml:String()+'<body class="wym_dialog wym_dialog_image" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_IMAGE+'" />'+"<legend>{Image}</legend>"+'<div class="row">'+"<label>{URL}</label>"+'<input type="text" class="wym_src" value="" '+'size="40" autofocus="autofocus" />'+"</div>"+'<div class="row">'+"<label>{Alternative_Text}</label>"+'<input type="text" class="wym_alt" value="" size="40" />'+"</div>"+'<div class="row">'+"<label>{Title}</label>"+'<input type="text" class="wym_title" value="" size="40" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogTableHtml:String()+'<body class="wym_dialog wym_dialog_table" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+"<fieldset>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_TABLE+'" />'+"<legend>{Table}</legend>"+'<div class="row">'+"<label>{Caption}</label>"+'<input type="text" class="wym_caption" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Summary}</label>"+'<input type="text" class="wym_summary" value="" '+'size="40" />'+"</div>"+'<div class="row">'+"<label>{Number_Of_Rows}</label>"+'<input type="text" class="wym_rows" value="3" size="3" />'+"</div>"+'<div class="row">'+"<label>{Number_Of_Cols}</label>"+'<input type="text" class="wym_cols" value="2" size="3" />'+"</div>"+'<div class="row row-indent">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogPasteHtml:String()+'<body class="wym_dialog wym_dialog_paste" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')">'+"<form>"+'<input type="hidden" class="wym_dialog_type" '+'value="'+WYMeditor.DIALOG_PASTE+'" />'+"<fieldset>"+"<legend>{Paste_From_Word}</legend>"+'<div class="row">'+'<textarea class="wym_text" rows="10" cols="50" '+'autofocus="autofocus"></textarea>'+"</div>"+'<div class="row">'+'<input class="wym_submit" type="submit" '+'value="{Submit}" />'+'<input class="wym_cancel" type="button" '+'value="{Cancel}" />'+"</div>"+"</fieldset>"+"</form>"+"</body>",dialogPreviewHtml:String()+'<body class="wym_dialog wym_dialog_preview" '+'onload="WYMeditor.INIT_DIALOG('+WYMeditor.INDEX+')"></body>',dialogStyles:[],stringDelimiterLeft:"{",stringDelimiterRight:"}",preInit:null,preBind:null,postInit:null,preInitDialog:null,postInitDialog:null},e),this.each(function(){new WYMeditor.editor(jQuery(this),e)})},jQuery.extend({wymeditors:function(e){return WYMeditor.INSTANCES[e]}}),WYMeditor.computeWymPath=function(){var e=jQuery(jQuery.grep(jQuery("script"),function(e){return e.src?e.src.match(/jquery\.wymeditor(\.pack|\.min|\.packed)?\.js(\?.*)?$/)||e.src.match(/\/core\.js(\?.*)?$/):null}));return e.length>0?e.attr("src"):(WYMeditor.console.warn("Error determining wymPath. No base WYMeditor file located."),WYMeditor.console.warn("Assuming wymPath to be the current URL"),WYMeditor.console.warn("Please pass a correct wymPath option"),"")},WYMeditor.computeBasePath=function(e){var t=e.lastIndexOf("/");return e.substr(0,t+1)},WYMeditor.computeJqueryPath=function(){return jQuery(jQuery.grep(jQuery("script"),function(e){return e.src&&e.src.match(/jquery(-(.*)){0,1}(\.pack|\.min|\.packed)?\.js(\?.*)?$/)})).attr("src")},WYMeditor.INIT_DIALOG=function(index){var wym=window.opener.WYMeditor.INSTANCES[index],doc=window.document,selected=wym.selected(),dialogType=jQuery(wym._options.dialogTypeSelector).val(),sStamp=wym.uniqueStamp(),styles,aCss,tableOnClick;dialogType===WYMeditor.DIALOG_LINK&&(selected&&selected.tagName&&selected.tagName.toLowerCase!==WYMeditor.A&&(selected=jQuery(selected).parentsOrSelf(WYMeditor.A)),!selected&&wym._selected_image&&(selected=jQuery(wym._selected_image).parentsOrSelf(WYMeditor.A))),jQuery.isFunction(wym._options.preInitDialog)&&wym._options.preInitDialog(wym,window),styles=doc.styleSheets[0],aCss=eval(wym._options.dialogStyles),wym.addCssRules(doc,aCss),selected&&(jQuery(wym._options.hrefSelector).val(jQuery(selected).attr(WYMeditor.HREF)),jQuery(wym._options.srcSelector).val(jQuery(selected).attr(WYMeditor.SRC)),jQuery(wym._options.titleSelector).val(jQuery(selected).attr(WYMeditor.TITLE)),jQuery(wym._options.relSelector).val(jQuery(selected).attr(WYMeditor.REL)),jQuery(wym._options.altSelector).val(jQuery(selected).attr(WYMeditor.ALT))),wym._selected_image&&(jQuery(wym._options.dialogImageSelector+" "+wym._options.srcSelector).val(jQuery(wym._selected_image).attr(WYMeditor.SRC)),jQuery(wym._options.dialogImageSelector+" "+wym._options.titleSelector).val(jQuery(wym._selected_image).attr(WYMeditor.TITLE)),jQuery(wym._options.dialogImageSelector+" "+wym._options.altSelector).val(jQuery(wym._selected_image).attr(WYMeditor.ALT))),jQuery(wym._options.dialogLinkSelector+" "+wym._options.submitSelector).submit(function(){var e,t=jQuery(wym._options.hrefSelector).val();t.length>0&&(selected[0]&&selected[0].tagName.toLowerCase()===WYMeditor.A?e=selected:(wym._exec(WYMeditor.CREATE_LINK,sStamp),e=jQuery("a[href="+sStamp+"]",wym._doc.body)),e.attr(WYMeditor.HREF,t),e.attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val()),e.attr(WYMeditor.REL,jQuery(wym._options.relSelector).val())),window.close()}),jQuery(wym._options.dialogImageSelector+" "+wym._options.submitSelector).submit(function(){var e,t=jQuery(wym._options.srcSelector).val();t.length>0&&(wym._exec(WYMeditor.INSERT_IMAGE,sStamp),e=jQuery("img[src$="+sStamp+"]",wym._doc.body),e.attr(WYMeditor.SRC,t),e.attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val()),e.attr(WYMeditor.ALT,jQuery(wym._options.altSelector).val())),window.close()}),tableOnClick=WYMeditor.MAKE_TABLE_ONCLICK(wym),jQuery(wym._options.dialogTableSelector+" "+wym._options.submitSelector).submit(tableOnClick),jQuery(wym._options.dialogPasteSelector+" "+wym._options.submitSelector).submit(function(){var e=jQuery(wym._options.textSelector).val();wym.paste(e),window.close()}),jQuery(wym._options.dialogPreviewSelector+" "+wym._options.previewSelector).html(wym.xhtml()),jQuery(wym._options.cancelSelector).mousedown(function(){window.close()}),jQuery.isFunction(wym._options.postInitDialog)&&wym._options.postInitDialog(wym,window)},WYMeditor.MAKE_TABLE_ONCLICK=function(e){var t=function(){var t=jQuery(e._options.rowsSelector).val(),n=jQuery(e._options.colsSelector).val(),i=jQuery(e._options.captionSelector).val(),r=jQuery(e._options.summarySelector).val();e.insertTable(t,n,i,r),window.close()};return t},jQuery.fn.isPhantomNode=function(){return 3===this[0].nodeType?!/[^\t\n\r ]/.test(this[0].data):!1},jQuery.fn.nextContentsUntil=function(e,t){var n,i=[],r=this.get(0);if(e=e?e:"",t=t?t:"",!r)return $();for(r=r.nextSibling;r&&!$(r).is(e);)i.push(r),r=r.nextSibling;return n=$(i),t?n.filter(t):n},jQuery.fn.nextAllContents=function(){return $(this).nextContentsUntil("","")},jQuery.fn.prevContentsUntil=function(e,t){var n,i=[],r=this.get(0);if(e=e?e:"",t=t?t:"",!r)return $();for(r=r.previousSibling;r&&!$(r).is(e);)i.push(r),r=r.previousSibling;return n=$(i),t?n.filter(t):n},jQuery.fn.prevAllContents=function(){return $(this).prevContentsUntil("","")},WYMeditor.isPhantomNode=function(e){return 3===e.nodeType?!/[^\t\n\r ]/.test(e.data):!1},WYMeditor.isPhantomString=function(e){return!/[^\t\n\r ]/.test(e)},jQuery.fn.parentsOrSelf=function(e){var t=this;return 3===t[0].nodeType&&(t=t.parents().slice(0,1)),1===t.filter(e).size()?t:t.parents(e).slice(0,1)},WYMeditor.changeNodeType=function(e,t){var n,i,r=e.attributes;for($(e).wrapInner("<"+t+">"),n=$(e).children().get(0),i=0;r.length>i;i++)r[i].specified&&n.setAttribute(r[i].nodeName,r[i].nodeValue);return $(e).contents().unwrap(),n},WYMeditor.Helper={replaceAll:function(e,t,n){var i=new RegExp(t,"g");return e.replace(i,n)},insertAt:function(e,t,n){return e.substr(0,n)+t+e.substring(n)},trim:function(e){return e.replace(/^(\s*)|(\s*)$/gm,"")},contains:function(e,t){var n;for(n=0;e.length>n;n+=1)if(e[n]===t)return!0;return!1},indexOf:function(e,t){var n,i=-1;for(n=0;e.length>n;n+=1)if(e[n]===t){i=n;break}return i},findByName:function(e,t){var n,i;for(n=0;e.length>n;n+=1)if(i=e[n],i.name===t)return i;return null}},/**
 * @license Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2011, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.2
 * Build date: 13 November 2011
 */
window.rangy=function(){function e(e,t){var n=typeof e[t];return n==u||!(n!=d||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=d||!e[t])}function n(e,t){return typeof e[t]!=h}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&y(e,g)&&_(e,m)}function o(e){window.alert("Rangy not supported in your browser. Reason: "+e),b.initialized=!0,b.supported=!1}function s(e){var t="Rangy warning: "+e;b.config.alertOnWarn?window.alert(t):typeof window.console!=h&&typeof window.console.log!=h&&window.console.log(t)}function a(){if(!b.initialized){var n,i=!1,s=!1;e(document,"createRange")&&(n=document.createRange(),y(n,f)&&_(n,p)&&(i=!0),n.detach());var a=t(document,"body")?document.body:document.getElementsByTagName("body")[0];a&&e(a,"createTextRange")&&(n=a.createTextRange(),r(n)&&(s=!0)),i||s||o("Neither Range nor TextRange are implemented"),b.initialized=!0,b.features={implementsDomRange:i,implementsTextRange:s};for(var l=x.concat(w),c=0,d=l.length;d>c;++c)try{l[c](b)}catch(u){t(window,"console")&&e(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",u)}}}function l(e){e=e||window,a();for(var t=0,n=C.length;n>t;++t)C[t](e)}function c(e){this.name=e,this.initialized=!1,this.supported=!1}var d="object",u="function",h="undefined",p=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],f=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],m=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],g=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],y=i(e),v=i(t),_=i(n),b={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:y,areHostObjects:v,areHostProperties:_,isTextRange:r},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};b.fail=o,b.warn=s,{}.hasOwnProperty?b.util.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}:o("hasOwnProperty not supported");var w=[],x=[];b.init=a,b.addInitListener=function(e){b.initialized?e(b):w.push(e)};var C=[];b.addCreateMissingNativeApiListener=function(e){C.push(e)},b.createMissingNativeApi=l,c.prototype.fail=function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},c.prototype.warn=function(e){b.warn("Module "+this.name+": "+e)},c.prototype.createError=function(e){return new Error("Error in Rangy "+this.name+" module: "+e)},b.createModule=function(e,t){var n=new c(e);b.modules[e]=n,x.push(function(e){t(e,n),n.initialized=!0,n.supported=!0})},b.requireModules=function(e){for(var t,n,i=0,r=e.length;r>i;++i){if(n=e[i],t=b.modules[n],!(t&&t instanceof c))throw new Error("Module '"+n+"' not found");if(!t.supported)throw new Error("Module '"+n+"' not supported")}};var T=!1,E=function(){T||(T=!0,b.initialized||a())};return typeof window==h?(o("No window found"),void 0):typeof document==h?(o("No document found"),void 0):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",E,!1),e(window,"addEventListener")?window.addEventListener("load",E,!1):e(window,"attachEvent")?window.attachEvent("onload",E):o("Window does not have required addEventListener or attachEvent method"),b)}(),rangy.createModule("DomUtil",function(e,t){function n(e){var t;return typeof e.namespaceURI==E||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)t++;return t}function o(e){var t;return c(e)?e.length:(t=e.childNodes)?t.length:0}function s(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(W(i,n))return n;return null}function a(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.parentNode,i===t)return r;r=i}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function u(e,t){var n=e.cloneNode(!1);return n.deleteData(0,t),e.deleteData(t,e.length-t),d(n,e),n}function h(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=E)return e.ownerDocument;if(typeof e.document!=E)return e.document;if(e.parentNode)return h(e.parentNode);throw new Error("getDocument: no document found for node")}function p(e){var t=h(e);if(typeof t.defaultView!=E)return t.defaultView;if(typeof t.parentWindow!=E)return t.parentWindow;throw new Error("Cannot get a window object for node")}function f(e){if(typeof e.contentDocument!=E)return e.contentDocument;if(typeof e.contentWindow!=E)return e.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function m(e){if(typeof e.contentWindow!=E)return e.contentWindow;if(typeof e.contentDocument!=E)return e.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function g(e){return S.isHostObject(e,"body")?e.body:e.getElementsByTagName("body")[0]}function y(e){for(var t;t=e.parentNode;)e=t;return e}function v(e,t,n,i){var o,a,c,d,u;if(e==n)return t===i?0:i>t?-1:1;if(o=l(n,e,!0))return r(o)>=t?-1:1;if(o=l(e,n,!0))return i>r(o)?-1:1;if(a=s(e,n),c=e===a?a:l(e,a,!0),d=n===a?a:l(n,a,!0),c===d)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(u=a.firstChild;u;){if(u===c)return-1;if(u===d)return 1;u=u.nextSibling}throw new Error("Should not be here!")}function _(e){for(var t,n=h(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function b(e){if(!e)return"[No node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">["+e.childNodes.length+"]"}return e.nodeName}function w(e){this.root=e,this._next=e}function x(e){return new w(e)}function C(e,t){this.node=e,this.offset=t}function T(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var E="undefined",S=e.util;S.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),S.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var M=document.createElement("div");S.areHostMethods(M,["insertBefore","appendChild","cloneNode"]||!S.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),S.isHostProperty(M,"innerHTML")||t.fail("Element is missing innerHTML property");var N=document.createTextNode("test");S.areHostMethods(N,["splitText","deleteData","insertData","appendData","cloneNode"]||!S.areHostObjects(M,["previousSibling","nextSibling","childNodes","parentNode"])||!S.areHostProperties(N,["data"]))||t.fail("Incomplete Text Node implementation");var W=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};w.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},C.prototype={equals:function(e){return this.node===e.node&this.offset==e.offset},inspect:function(){return"[DomPosition("+b(this.node)+":"+this.offset+")]"}},T.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},T.prototype.toString=function(){return this.message},e.dom={arrayContains:W,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:s,isAncestorOf:a,getClosestAncestorIn:l,isCharacterDataNode:c,insertAfter:d,splitDataNode:u,getDocument:h,getWindow:p,getIframeWindow:m,getIframeDocument:f,getBody:g,getRootContainer:y,comparePoints:v,inspectNode:b,fragmentFromNodeChildren:_,createIterator:x,DomPosition:C},e.DOMException=T}),rangy.createModule("DomRange",function(e){function t(e,t){return 3!=e.nodeType&&(O.isAncestorOf(e,t.startContainer,!0)||O.isAncestorOf(e,t.endContainer,!0))}function n(e){return O.getDocument(e.startContainer)}function i(e,t,n){var i=e._listeners[t];if(i)for(var r=0,o=i.length;o>r;++r)i[r].call(e,{target:e,args:n})}function r(e){return new D(e.parentNode,O.getNodeIndex(e))}function o(e){return new D(e.parentNode,O.getNodeIndex(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return O.isCharacterDataNode(t)?n==t.length?O.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:O.splitDataNode(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e){for(var t,i,r,o=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(r=e.getSubtreeIterator(),i.appendChild(a(r)),r.detach(!0)),10==i.nodeType)throw new j("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function l(e,t,n){var i,r;n=n||{stop:!1};for(var o,s;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return n.stop=!0,void 0;if(s=e.getSubtreeIterator(),l(s,t,n),s.detach(!0),n.stop)return}else for(i=O.createIterator(o);r=i.next();)if(t(r)===!1)return n.stop=!0,void 0}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach(!0)):e.remove()}function d(e){for(var t,i,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(d(i)),i.detach(!0)):e.remove(),10==t.nodeType)throw new j("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function u(e,t,n){var i,r=!(!t||!t.length),o=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var s=[];return l(new p(e,!1),function(e){r&&!i.test(e.nodeType)||o&&!n(e)||s.push(e)}),s}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+O.inspectNode(e.startContainer)+":"+e.startOffset+", "+O.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&O.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||O.isCharacterDataNode(this.sc)?O.getClosestAncestorIn(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||O.isCharacterDataNode(this.ec)?O.getClosestAncestorIn(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function f(e){this.code=this[e],this.codeName=e,this.message="RangeException: "+this.codeName}function m(e,t,n){this.nodes=u(e,t,n),this._next=this.nodes[0],this._position=0}function g(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,O.arrayContains(e,i))return r;r=r.parentNode}return null}}function y(e,t){if(X(e,t))throw new f("INVALID_NODE_TYPE_ERR")}function v(e){if(!e.startContainer)throw new j("INVALID_STATE_ERR")}function _(e,t){if(!O.arrayContains(t,e.nodeType))throw new f("INVALID_NODE_TYPE_ERR")}function b(e,t){if(0>t||t>(O.isCharacterDataNode(e)?e.length:e.childNodes.length))throw new j("INDEX_SIZE_ERR")}function w(e,t){if(z(e,!0)!==z(t,!0))throw new j("WRONG_DOCUMENT_ERR")}function x(e){if(q(e,!0))throw new j("NO_MODIFICATION_ALLOWED_ERR")}function C(e,t){if(!e)throw new j(t)}function T(e){return!O.arrayContains(H,e.nodeType)&&!z(e,!0)}function E(e,t){return(O.isCharacterDataNode(e)?e.length:e.childNodes.length)>=t}function S(e){if(v(e),T(e.startContainer)||T(e.endContainer)||!E(e.startContainer,e.startOffset)||!E(e.endContainer,e.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function M(){}function N(e){e.START_TO_START=Z,e.START_TO_END=et,e.END_TO_END=tt,e.END_TO_START=nt,e.NODE_BEFORE=it,e.NODE_AFTER=rt,e.NODE_BEFORE_AND_AFTER=ot,e.NODE_INSIDE=st}function W(e){N(e),N(e.prototype)}function k(e,t){return function(){S(this);var n,i,r=this.startContainer,s=this.startOffset,a=this.commonAncestorContainer,c=new p(this,!0);r!==a&&(n=O.getClosestAncestorIn(r,a,!0),i=o(n),r=i.node,s=i.offset),l(c,x),c.reset();var d=e(c);return c.detach(),t(this,r,s,r,s),d}}function A(n,i,s){function a(e,t){return function(n){v(this),_(n,P),_(Q(n),H);var i=(e?r:o)(n);(t?l:u)(this,i.node,i.offset)}}function l(e,t,n){var r=e.endContainer,o=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((Q(t)!=Q(r)||1==O.comparePoints(t,n,r,o))&&(r=t,o=n),i(e,t,n,r,o))}function u(e,t,n){var r=e.startContainer,o=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((Q(t)!=Q(r)||-1==O.comparePoints(t,n,r,o))&&(r=t,o=n),i(e,r,o,t,n))}function h(e,t,n){(t!==e.startContainer||n!==e.startOffset||t!==e.endContainer||n!==e.endOffset)&&i(e,t,n,t,n)}n.prototype=new M,e.util.extend(n.prototype,{setStart:function(e,t){v(this),y(e,!0),b(e,t),l(this,e,t)},setEnd:function(e,t){v(this),y(e,!0),b(e,t),u(this,e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){S(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(this),y(e,!0),i(this,e,0,e,O.getNodeLength(e))},selectNode:function(e){v(this),y(e,!1),_(e,P);var t=r(e),n=o(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:k(d,i),deleteContents:k(c,i),canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},detach:function(){s(this)},splitBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,o=e===n;O.isCharacterDataNode(n)&&r>0&&n.length>r&&O.splitDataNode(n,r),O.isCharacterDataNode(e)&&t>0&&e.length>t&&(e=O.splitDataNode(e,t),o?(r-=t,n=e):n==e.parentNode&&r>=O.getNodeIndex(e)&&r++,t=0),i(this,e,t,n,r)},normalizeBoundaries:function(){S(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,r=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,r=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},s=function(i){var o=i.previousSibling;if(o&&o.nodeType==i.nodeType){e=i;var s=i.length;if(t=o.length,i.insertData(0,o.data),o.parentNode.removeChild(o),e==n)r+=t,n=e;else if(n==i.parentNode){var a=O.getNodeIndex(i);r==a?(n=i,r=s):r>a&&r--}}},a=!0;if(O.isCharacterDataNode(n))n.length==r&&o(n);else{if(r>0){var l=n.childNodes[r-1];l&&O.isCharacterDataNode(l)&&o(l)}a=!this.collapsed}if(a){if(O.isCharacterDataNode(e))0==t&&s(e);else if(e.childNodes.length>t){var c=e.childNodes[t];c&&O.isCharacterDataNode(c)&&s(c)}}else e=n,t=r;i(this,e,t,n,r)},collapseToPoint:function(e,t){v(this),y(e,!0),b(e,t),h(this,e,t)}}),W(n)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:O.getCommonAncestor(e.startContainer,e.endContainer)}function L(e,t,n,r,o){var s=e.startContainer!==t||e.startOffset!==n,a=e.endContainer!==r||e.endOffset!==o;e.startContainer=t,e.startOffset=n,e.endContainer=r,e.endOffset=o,R(e),i(e,"boundarychange",{startMoved:s,endMoved:a})}function Y(e){v(e),e.startContainer=e.startOffset=e.endContainer=e.endOffset=null,e.collapsed=e.commonAncestorContainer=null,i(e,"detach",null),e._listeners=null}function I(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},R(this)}e.requireModules(["DomUtil"]);var O=e.dom,D=O.DomPosition,j=e.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,O.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!O.isCharacterDataNode(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse();else{e=new I(n(this.range));var t=this._current,i=t,r=0,o=t,s=O.getNodeLength(t);O.isAncestorOf(t,this.sc,!0)&&(i=this.sc,r=this.so),O.isAncestorOf(t,this.ec,!0)&&(o=this.ec,s=this.eo),L(e,i,r,o,s)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(e){e&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},f.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},f.prototype.toString=function(){return this.message},m.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var P=[1,3,4,5,7,8,10],H=[2,9,11],B=[5,6,10,12],$=[1,3,4,5,7,8,10,11],F=[1,3,4,5,7,8],Q=O.getRootContainer,z=g([9,11]),q=g(B),X=g([6,10,12]),U=document.createElement("style"),K=!1;try{U.innerHTML="<b>x</b>",K=3==U.firstChild.nodeType}catch(V){}e.features.htmlParsingConforms=K;var G=K?function(e){var t=this.startContainer,n=O.getDocument(t);if(!t)throw new j("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:O.isCharacterDataNode(t)&&(i=O.parentElement(t)),i=null===i||"HTML"==i.nodeName&&O.isHtmlNamespace(O.getDocument(i).documentElement)&&O.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,O.fragmentFromNodeChildren(i)}:function(e){v(this);var t=n(this),i=t.createElement("body");return i.innerHTML=e,O.fragmentFromNodeChildren(i)},J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,et=1,tt=2,nt=3,it=0,rt=1,ot=2,st=3;M.prototype={attachListener:function(e,t){this._listeners[e].push(t)},compareBoundaryPoints:function(e,t){S(this),w(this.startContainer,t.startContainer);var n,i,r,o,s=e==nt||e==Z?"start":"end",a=e==et||e==Z?"start":"end";return n=this[s+"Container"],i=this[s+"Offset"],r=t[a+"Container"],o=t[a+"Offset"],O.comparePoints(n,i,r,o)},insertNode:function(e){if(S(this),_(e,$),x(this.startContainer),O.isAncestorOf(e,this.startContainer,!0))throw new j("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){S(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&O.isCharacterDataNode(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var i=new p(this,!0);return e=a(i),i.detach(),e},canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new p(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(_(e,F),!this.canSurroundContents())throw new f("BAD_BOUNDARYPOINTS_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){S(this);for(var e,t=new I(n(this)),i=J.length;i--;)e=J[i],t[e]=this[e];return t},toString:function(){S(this);var e=this.startContainer;if(e===this.endContainer&&O.isCharacterDataNode(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new p(this,!0);return l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){S(this);var t=e.parentNode,n=O.getNodeIndex(e);if(!t)throw new j("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>i?r>0?ot:it:r>0?rt:st},comparePoint:function(e,t){return S(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),0>O.comparePoints(e,t,this.startContainer,this.startOffset)?-1:O.comparePoints(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:G,toHtml:function(){S(this);var e=n(this).createElement("div");return e.appendChild(this.cloneContents()),e.innerHTML},intersectsNode:function(e,t){if(S(this),C(e,"NOT_FOUND_ERR"),O.getDocument(e)!==n(this))return!1;var i=e.parentNode,r=O.getNodeIndex(e);C(i,"NOT_FOUND_ERR");var o=O.comparePoints(i,r,this.endContainer,this.endOffset),s=O.comparePoints(i,r+1,this.startContainer,this.startOffset);return t?0>=o&&s>=0:0>o&&s>0},isPointInRange:function(e,t){return S(this),C(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),O.comparePoints(e,t,this.startContainer,this.startOffset)>=0&&0>=O.comparePoints(e,t,this.endContainer,this.endOffset)},intersectsRange:function(e,t){if(S(this),n(e)!=n(this))throw new j("WRONG_DOCUMENT_ERR");var i=O.comparePoints(this.startContainer,this.startOffset,e.endContainer,e.endOffset),r=O.comparePoints(this.endContainer,this.endOffset,e.startContainer,e.startOffset);return t?0>=i&&r>=0:0>i&&r>0},intersection:function(e){if(this.intersectsRange(e)){var t=O.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=O.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsRange(e,!0)){var t=this.cloneRange();return-1==O.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==O.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new f("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==st},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&0>=this.comparePoint(e,O.getNodeLength(e))},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();t.setEnd(i,i.length);var r=this.containsRange(t);return t.detach(),r}return this.containsNodeContents(e)},createNodeIterator:function(e,t){return S(this),new m(this,e,t)},getNodes:function(e,t){return S(this),u(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){v(this),this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){v(this),this.setStartAfter(e),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(e){return I.rangesEqual(this,e)},inspect:function(){return h(this)}},A(I,L,Y),e.rangePrototype=M.prototype,I.rangeProperties=J,I.RangeIterator=p,I.copyComparisonConstants=W,I.createPrototypeRange=A,I.inspect=h,I.getRangeDocument=n,I.rangesEqual=function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},e.DomRange=I,e.RangeException=f}),rangy.createModule("WrappedRange",function(e){function t(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var r=n.parentElement(),o=i==r?i:s.getCommonAncestor(i,r);return o==t?o:s.getCommonAncestor(t,o)}function n(e){return 0==e.compareEndPoints("StartToEnd",e)}function i(e,t,n,i){var r=e.duplicate();r.collapse(n);var o=r.parentElement();if(s.isAncestorOf(t,o,!0)||(o=t),!o.canHaveHTML)return new a(o.parentNode,s.getNodeIndex(o));var l,c,d,u,h,p=s.getDocument(o).createElement("span"),f=n?"StartToStart":"StartToEnd";do o.insertBefore(p,p.previousSibling),r.moveToElementText(p);while((l=r.compareEndPoints(f,e))>0&&p.previousSibling);if(h=p.nextSibling,-1==l&&h&&s.isCharacterDataNode(h)){r.setEndPoint(n?"EndToStart":"EndToEnd",e);var m;if(/[\r\n]/.test(h.data)){var g=r.duplicate(),y=g.text.replace(/\r\n/g,"\r").length;for(m=g.moveStart("character",y);-1==(l=g.compareEndPoints("StartToEnd",g));)m++,g.moveStart("character",1)}else m=r.text.length;u=new a(h,m)}else c=(i||!n)&&p.previousSibling,d=(i||n)&&p.nextSibling,u=d&&s.isCharacterDataNode(d)?new a(d,0):c&&s.isCharacterDataNode(c)?new a(c,c.length):new a(o,s.getNodeIndex(p));return p.parentNode.removeChild(p),u}function r(e,t){var n,i,r,o,a=e.offset,l=s.getDocument(e.node),c=l.body.createTextRange(),d=s.isCharacterDataNode(e.node);return d?(n=e.node,i=n.parentNode):(o=e.node.childNodes,n=o.length>a?o[a]:null,i=e.node),r=l.createElement("span"),r.innerHTML="&#feff;",n?i.insertBefore(r,n):i.appendChild(r),c.moveToElementText(r),c.collapse(!t),i.removeChild(r),d&&c[t?"moveStart":"moveEnd"]("character",a),c}e.requireModules(["DomUtil","DomRange"]);var o,s=e.dom,a=s.DomPosition,l=e.DomRange;if(!e.features.implementsDomRange||e.features.implementsTextRange&&e.config.preferTextRange){if(e.features.implementsTextRange){o=function(e){this.textRange=e,this.refresh()},o.prototype=new l(document),o.prototype.refresh=function(){var e,r,o=t(this.textRange);n(this.textRange)?r=e=i(this.textRange,o,!0,!0):(e=i(this.textRange,o,!0,!1),r=i(this.textRange,o,!1,!1)),this.setStart(e.node,e.offset),this.setEnd(r.node,r.offset)},l.copyComparisonConstants(o);var c=function(){return this}();"undefined"==typeof c.Range&&(c.Range=o),e.createNativeRange=function(e){return e=e||document,e.body.createTextRange()}}}else(function(){function t(e){for(var t,n=d.length;n--;)t=d[n],e[t]=e.nativeRange[t]}function n(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,s=e.endContainer!==i||e.endOffset!=r;(o||s)&&(e.setEnd(i,r),e.setStart(t,n))}function i(e){e.nativeRange.detach(),e.detached=!0;for(var t,n=d.length;n--;)t=d[n],e[t]=null}var r,a,c,d=l.rangeProperties;o=function(e){if(!e)throw new Error("Range must be specified");this.nativeRange=e,t(this)},l.createPrototypeRange(o,n,i),r=o.prototype,r.selectNode=function(e){this.nativeRange.selectNode(e),t(this)},r.deleteContents=function(){this.nativeRange.deleteContents(),t(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return t(this),e},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),t(this)},r.collapse=function(e){this.nativeRange.collapse(e),t(this)},r.cloneRange=function(){return new o(this.nativeRange.cloneRange())},r.refresh=function(){t(this)},r.toString=function(){return this.nativeRange.toString()};var u=document.createTextNode("test");s.getBody(document).appendChild(u);var h=document.createRange();h.setStart(u,0),h.setEnd(u,0);try{h.setStart(u,1),a=!0,r.setStart=function(e,n){this.nativeRange.setStart(e,n),t(this)},r.setEnd=function(e,n){this.nativeRange.setEnd(e,n),t(this)},c=function(e){return function(n){this.nativeRange[e](n),t(this)}}}catch(p){a=!1,r.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(i){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}t(this)},r.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(i){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}t(this)},c=function(e,n){return function(i){try{this.nativeRange[e](i)}catch(r){this.nativeRange[n](i),this.nativeRange[e](i)}t(this)}}}r.setStartBefore=c("setStartBefore","setEndBefore"),r.setStartAfter=c("setStartAfter","setEndAfter"),r.setEndBefore=c("setEndBefore","setStartBefore"),r.setEndAfter=c("setEndAfter","setStartAfter"),h.selectNodeContents(u),r.selectNodeContents=h.startContainer==u&&h.endContainer==u&&0==h.startOffset&&h.endOffset==u.length?function(e){this.nativeRange.selectNodeContents(e),t(this)}:function(e){this.setStart(e,0),this.setEnd(e,l.getEndOffset(e))},h.selectNodeContents(u),h.setEnd(u,3);var f=document.createRange();f.selectNodeContents(u),f.setEnd(u,4),f.setStart(u,2),r.compareBoundaryPoints=-1==h.compareBoundaryPoints(h.START_TO_END,f)&1==h.compareBoundaryPoints(h.END_TO_START,f)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},e.util.isHostMethod(h,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),s.getBody(document).removeChild(u),h.detach(),f.detach()})(),e.createNativeRange=function(e){return e=e||document,e.createRange()};e.features.implementsTextRange&&(o.rangeToTextRange=function(e){if(e.collapsed){var t=r(new a(e.startContainer,e.startOffset),!0);return t}var n=r(new a(e.startContainer,e.startOffset),!0),i=r(new a(e.endContainer,e.endOffset),!1),o=s.getDocument(e.startContainer).body.createTextRange();return o.setEndPoint("StartToStart",n),o.setEndPoint("EndToEnd",i),o}),o.prototype.getName=function(){return"WrappedRange"},e.WrappedRange=o,e.createRange=function(t){return t=t||document,new o(e.createNativeRange(t))},e.createRangyRange=function(e){return e=e||document,new l(e)},e.createIframeRange=function(t){return e.createRange(s.getIframeDocument(t))},e.createIframeRangyRange=function(t){return e.createRangyRange(s.getIframeDocument(t))},e.addCreateMissingNativeApiListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(this)}),n=t=null})}),rangy.createModule("WrappedSelection",function(e,t){function n(e){return(e||window).getSelection()}function i(e){return(e||window).document.selection}function r(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function o(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function s(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function a(t){var n;return t instanceof T?(n=t._selectionNativeRange,n||(n=e.createNativeRange(x.getDocument(t.startContainer)),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset),t._selectionNativeRange=n,t.attachListener("detach",function(){this._selectionNativeRange=null}))):t instanceof E?n=t.nativeRange:e.features.implementsDomRange&&t instanceof x.getWindow(t.startContainer).Range&&(n=t),n}function l(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!x.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function d(e){return!!e&&"undefined"!=typeof e.text}function u(e,t){var n=new E(t);e._ranges=[n],r(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function h(t){if(t._ranges.length=0,"None"==t.docSelection.type)s(t);else{var n=t.docSelection.createRange();if(d(n))u(t,n);else{t.rangeCount=n.length;for(var i,o=x.getDocument(n.item(0)),a=0;t.rangeCount>a;++a)i=e.createRange(o),i.selectNode(n.item(a)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,r(t,t._ranges[t.rangeCount-1],!1)}}}function p(e,t){for(var n=e.docSelection.createRange(),i=c(t),r=x.getDocument(n.item(0)),o=x.getBody(r).createControlRange(),s=0,a=n.length;a>s;++s)o.add(n.item(s));try{o.add(i)}catch(l){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),h(e)}function f(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function m(e,t){for(var n,i=x.getDocument(t[0].startContainer),r=x.getBody(i).createControlRange(),o=0;rangeCount>o;++o){n=c(t[o]);try{r.add(n)}catch(s){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")
}}r.select(),h(e)}function g(e,t){if(e.anchorNode&&x.getDocument(e.anchorNode)!==x.getDocument(t))throw new S("WRONG_DOCUMENT_ERR")}function y(e){var t=[],n=new M(e.anchorNode,e.anchorOffset),i=new M(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,s=e.rangeCount;s>o;++o)t[o]=T.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.requireModules(["DomUtil","DomRange","WrappedRange"]),e.config.checkSelectionRanges=!0;var v,_,b="boolean",w="_rangySelection",x=e.dom,C=e.util,T=e.DomRange,E=e.WrappedRange,S=e.DOMException,M=x.DomPosition,N="Control",W=e.util.isHostMethod(window,"getSelection"),k=e.util.isHostObject(document,"selection"),A=k&&(!W||e.config.preferTextRange);A?(v=i,e.isSelectionValid=function(e){var t=(e||window).document,n=t.selection;return"None"!=n.type||x.getDocument(n.createRange().parentElement())==t}):W?(v=n,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=v;var R=v(),L=e.createNativeRange(document),Y=x.getBody(document),I=C.areHostObjects(R,["anchorNode","focusNode"]&&C.areHostProperties(R,["anchorOffset","focusOffset"]));e.features.selectionHasAnchorAndFocus=I;var O=C.isHostMethod(R,"extend");e.features.selectionHasExtend=O;var D="number"==typeof R.rangeCount;e.features.selectionHasRangeCount=D;var j=!1,P=!0;C.areHostMethods(R,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof R.rangeCount&&e.features.implementsDomRange&&function(){var e=document.createElement("iframe");Y.appendChild(e);var t=x.getIframeDocument(e);t.open(),t.write("<html><head></head><body>12</body></html>"),t.close();var n=x.getIframeWindow(e).getSelection(),i=t.documentElement,r=i.lastChild,o=r.firstChild,s=t.createRange();s.setStart(o,1),s.collapse(!0),n.addRange(s),P=1==n.rangeCount,n.removeAllRanges();var a=s.cloneRange();s.setStart(o,0),a.setEnd(o,2),n.addRange(s),n.addRange(a),j=2==n.rangeCount,s.detach(),a.detach(),Y.removeChild(e)}(),e.features.selectionSupportsMultipleRanges=j,e.features.collapsedNonEditableSelectionsSupported=P;var H,B=!1;Y&&C.isHostMethod(Y,"createControlRange")&&(H=Y.createControlRange(),C.areHostProperties(H,["item","add"])&&(B=!0)),e.features.implementsControlRange=B,_=I?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var $;C.isHostMethod(R,"getRangeAt")?$=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:I&&($=function(t){var n=x.getDocument(t.anchorNode),i=e.createRange(n);return i.setStart(t.anchorNode,t.anchorOffset),i.setEnd(t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&(i.setStart(t.focusNode,t.focusOffset),i.setEnd(t.anchorNode,t.anchorOffset)),i}),e.getSelection=function(e){e=e||window;var t=e[w],n=v(e),r=k?i(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh(e)):(t=new f(n,r,e),e[w]=t),t},e.getIframeSelection=function(t){return e.getSelection(x.getIframeWindow(t))};var F=f.prototype;if(!A&&I&&C.areHostMethods(R,["removeAllRanges","addRange"])){F.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)};var Q=function(t,n){var i=T.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.nativeSelection.addRange(a(r)),t.nativeSelection.extend(n.startContainer,n.startOffset),t.refresh()};F.addRange=D?function(t,n){if(B&&k&&this.docSelection.type==N)p(this,t);else if(n&&O)Q(this,t);else{var i;if(j?i=this.rangeCount:(this.removeAllRanges(),i=0),this.nativeSelection.addRange(a(t)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(e.config.checkSelectionRanges){var o=$(this.nativeSelection,this.rangeCount-1);o&&!T.rangesEqual(o,t)&&(t=new E(o))}this._ranges[this.rangeCount-1]=t,r(this,t,X(this.nativeSelection)),this.isCollapsed=_(this)}else this.refresh()}}:function(e,t){t&&O?Q(this,e):(this.nativeSelection.addRange(a(e)),this.refresh())},F.setRanges=function(e){if(B&&e.length>1)m(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(C.isHostMethod(R,"empty")&&C.isHostMethod(L,"select")&&B&&A))return t.fail("No means of selecting a Range or TextRange was found"),!1;F.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=x.getDocument(this.anchorNode);else if(this.docSelection.type==N){var t=this.docSelection.createRange();t.length&&(e=x.getDocument(t.item(0)).body.createTextRange())}if(e){var n=e.body.createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}s(this)},F.addRange=function(e){this.docSelection.type==N?p(this,e):(E.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,r(this,e,!1))},F.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?m(this,e):t&&this.addRange(e[0])}}F.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new S("INDEX_SIZE_ERR");return this._ranges[e]};var z;if(A)z=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=x.getBody(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==N?h(t):d(n)?u(t,n):s(t)};else if(C.isHostMethod(R,"getRangeAt")&&"number"==typeof R.rangeCount)z=function(t){if(B&&k&&t.docSelection.type==N)h(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));r(t,t._ranges[t.rangeCount-1],X(t.nativeSelection)),t.isCollapsed=_(t)}else s(t)};else{if(!I||typeof R.isCollapsed!=b||typeof L.collapsed!=b||!e.features.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;z=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=$(n,0),e._ranges=[t],e.rangeCount=1,o(e),e.isCollapsed=_(e)):s(e)}}F.refresh=function(e){var t=e?this._ranges.slice(0):null;if(z(this),e){var n=t.length;if(n!=this._ranges.length)return!1;for(;n--;)if(!T.rangesEqual(t[n],this._ranges[n]))return!1;return!0}};var q=function(e,t){var n=e.getAllRanges(),i=!1;e.removeAllRanges();for(var r=0,o=n.length;o>r;++r)i||t!==n[r]?e.addRange(n[r]):i=!0;e.rangeCount||s(e)};F.removeRange=B?function(e){if(this.docSelection.type==N){for(var t,n=this.docSelection.createRange(),i=c(e),r=x.getDocument(n.item(0)),o=x.getBody(r).createControlRange(),s=!1,a=0,l=n.length;l>a;++a)t=n.item(a),t!==i||s?o.add(n.item(a)):s=!0;o.select(),h(this)}else q(this,e)}:function(e){q(this,e)};var X;!A&&I&&e.features.implementsDomRange?(X=function(e){var t=!1;return e.anchorNode&&(t=1==x.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t},F.isBackwards=function(){return X(this)}):X=F.isBackwards=function(){return!1},F.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},F.collapse=function(t,n){g(this,t);var i=e.createRange(x.getDocument(t));i.collapseToPoint(t,n),this.removeAllRanges(),this.addRange(i),this.isCollapsed=!0},F.collapseToStart=function(){if(!this.rangeCount)throw new S("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},F.collapseToEnd=function(){if(!this.rangeCount)throw new S("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},F.selectAllChildren=function(t){g(this,t);var n=e.createRange(x.getDocument(t));n.selectNodeContents(t),this.removeAllRanges(),this.addRange(n)},F.deleteFromDocument=function(){if(B&&k&&this.docSelection.type==N){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}},F.getAllRanges=function(){return this._ranges.slice(0)},F.setSingleRange=function(e){this.setRanges([e])},F.containsNode=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(this._ranges[n].containsNode(e,t))return!0;return!1},F.toHtml=function(){var e="";if(this.rangeCount){for(var t=T.getRangeDocument(this._ranges[0]).createElement("div"),n=0,i=this._ranges.length;i>n;++n)t.appendChild(this._ranges[n].cloneContents());e=t.innerHTML}return e},F.getName=function(){return"WrappedSelection"},F.inspect=function(){return y(this)},F.detach=function(){this.win[w]=null,this.win=this.anchorNode=this.focusNode=null},f.inspect=y,e.Selection=f,e.selectionPrototype=F,e.addCreateMissingNativeApiListener(function(t){"undefined"==typeof t.getSelection&&(t.getSelection=function(){return e.getSelection(this)}),t=null})}),/**
 * @license Selection save and restore module for Rangy.
 * Saves and restores user selections using marker invisible elements in the DOM.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2011, Tim Down
 * Licensed under the MIT license.
 * Version: 1.2.2
 * Build date: 13 November 2011
 */
rangy.createModule("SaveRestore",function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=d.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(u)),o.insertNode(n),o.detach(),n}function r(e,i,r,o){var s=n(r,e);s?(i[o?"setStartBefore":"setEndBefore"](s),s.parentNode.removeChild(s)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function s(r){r=r||window;var s=r.document;if(!e.isSelectionValid(r))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),void 0;var a,l,c,d=e.getSelection(r),u=d.getAllRanges(),h=[];u.sort(o);for(var p=0,f=u.length;f>p;++p)c=u[p],c.collapsed?(l=i(c,!1),h.push({markerId:l.id,collapsed:!0})):(l=i(c,!1),a=i(c,!0),h[p]={startMarkerId:a.id,endMarkerId:l.id,collapsed:!1,backwards:1==u.length&&d.isBackwards()});for(p=f-1;p>=0;--p)c=u[p],c.collapsed?c.collapseBefore(n(h[p].markerId,s)):(c.setEndBefore(n(h[p].endMarkerId,s)),c.setStartAfter(n(h[p].startMarkerId,s)));return d.setRanges(u),{win:r,doc:s,rangeInfos:h,restored:!1}}function a(i,o){if(!i.restored){for(var s,a,l=i.rangeInfos,c=e.getSelection(i.win),d=[],u=l.length,h=u-1;h>=0;--h){if(s=l[h],a=e.createRange(i.doc),s.collapsed){var p=n(s.markerId,i.doc);if(p){p.style.display="inline";var f=p.previousSibling;f&&3==f.nodeType?(p.parentNode.removeChild(p),a.collapseToPoint(f,f.length)):(a.collapseBefore(p),p.parentNode.removeChild(p))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(i.doc,a,s.startMarkerId,!0),r(i.doc,a,s.endMarkerId,!1);1==u&&a.normalizeBoundaries(),d[h]=a}1==u&&o&&e.features.selectionHasExtend&&l[0].backwards?(c.removeAllRanges(),c.addRange(d[0],!0)):c.setRanges(d),i.restored=!0}}function l(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}function c(e){for(var t,n=e.rangeInfos,i=0,r=n.length;r>i;++i)t=n[i],t.collapsed?l(e.doc,t.markerId):(l(e.doc,t.startMarkerId),l(e.doc,t.endMarkerId))}e.requireModules(["DomUtil","DomRange","WrappedRange"]);var d=e.dom,u="﻿";e.saveSelection=s,e.restoreSelection=a,e.removeMarkerElement=l,e.removeMarkers=c}),WYMeditor.editor.prototype.init=function(){var WymClass=!1,SaxListener,prop,h,iframeHtml,boxHtml,aTools,sTools,oTool,sTool,i,aClasses,sClasses,oClass,sClass,aContainers,sContainers,sContainer,oContainer;if(jQuery.browser.msie?WymClass=new WYMeditor.WymClassExplorer(this):jQuery.browser.mozilla?WymClass=new WYMeditor.WymClassMozilla(this):jQuery.browser.opera?WymClass=new WYMeditor.WymClassOpera(this):jQuery.browser.safari&&(WymClass=new WYMeditor.WymClassSafari(this)),WymClass!==!1){jQuery.isFunction(this._options.preInit)&&this._options.preInit(this),SaxListener=new WYMeditor.XhtmlSaxListener,jQuery.extend(SaxListener,WymClass),this.parser=new WYMeditor.XhtmlParser(SaxListener),(this._options.styles||this._options.stylesheet)&&this.configureEditorUsingRawCss(),this.helper=new WYMeditor.XmlHelper;for(prop in WymClass)this[prop]=WymClass[prop];for(this._box=jQuery(this._element).hide().after(this._options.boxHtml).next().addClass("wym_box_"+this._index),jQuery.isFunction(jQuery.fn.data)&&(jQuery.data(this._box.get(0),WYMeditor.WYM_INDEX,this._index),jQuery.data(this._element.get(0),WYMeditor.WYM_INDEX,this._index)),h=WYMeditor.Helper,iframeHtml=this._options.iframeHtml,iframeHtml=h.replaceAll(iframeHtml,WYMeditor.INDEX,this._index),iframeHtml=h.replaceAll(iframeHtml,WYMeditor.IFRAME_BASE_PATH,this._options.iframeBasePath),boxHtml=jQuery(this._box).html(),boxHtml=h.replaceAll(boxHtml,WYMeditor.LOGO,this._options.logoHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS,this._options.toolsHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS,this._options.containersHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES,this._options.classesHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.HTML,this._options.htmlHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.IFRAME,iframeHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.STATUS,this._options.statusHtml),aTools=eval(this._options.toolsItems),sTools="",i=0;aTools.length>i;i+=1)oTool=aTools[i],sTool="",oTool.name&&oTool.title&&(sTool=this._options.toolsItemHtml),sTool=h.replaceAll(sTool,WYMeditor.TOOL_NAME,oTool.name),sTool=h.replaceAll(sTool,WYMeditor.TOOL_TITLE,this._options.stringDelimiterLeft+oTool.title+this._options.stringDelimiterRight),sTool=h.replaceAll(sTool,WYMeditor.TOOL_CLASS,oTool.css),sTools+=sTool;for(boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS_ITEMS,sTools),aClasses=eval(this._options.classesItems),sClasses="",i=0;aClasses.length>i;i+=1)oClass=aClasses[i],sClass="",oClass.name&&oClass.title&&(sClass=this._options.classesItemHtml),sClass=h.replaceAll(sClass,WYMeditor.CLASS_NAME,oClass.name),sClass=h.replaceAll(sClass,WYMeditor.CLASS_TITLE,oClass.title),sClasses+=sClass;for(boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES_ITEMS,sClasses),aContainers=eval(this._options.containersItems),sContainers="",i=0;aContainers.length>i;i+=1)oContainer=aContainers[i],sContainer="",oContainer.name&&oContainer.title&&(sContainer=this._options.containersItemHtml),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_NAME,oContainer.name),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_TITLE,this._options.stringDelimiterLeft+oContainer.title+this._options.stringDelimiterRight),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_CLASS,oContainer.css),sContainers+=sContainer;boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS_ITEMS,sContainers),boxHtml=this.replaceStrings(boxHtml),jQuery(this._box).html(boxHtml),jQuery(this._box).find(this._options.htmlSelector).hide(),this.loadSkin()}},WYMeditor.editor.prototype.bindEvents=function(){var wym=this,$html_val;jQuery(this._box).find(this._options.toolSelector).click(function(){return wym._iframe.contentWindow.focus(),wym.exec(jQuery(this).attr(WYMeditor.NAME)),!1}),jQuery(this._box).find(this._options.containerSelector).click(function(){return wym.container(jQuery(this).attr(WYMeditor.NAME)),!1}),$html_val=jQuery(this._box).find(this._options.htmlValSelector),$html_val.keyup(function(){jQuery(wym._doc.body).html(jQuery(this).val())}),$html_val.focus(function(){jQuery(this).toggleClass("hasfocus")}),$html_val.blur(function(){jQuery(this).toggleClass("hasfocus")}),jQuery(this._box).find(this._options.classSelector).click(function(){var aClasses=eval(wym._options.classesItems),sName=jQuery(this).attr(WYMeditor.NAME),oClass=WYMeditor.Helper.findByName(aClasses,sName),jqexpr;return oClass&&(jqexpr=oClass.expr,wym.toggleClass(sName,jqexpr)),wym._iframe.contentWindow.focus(),!1}),jQuery(this._options.updateSelector).bind(this._options.updateEvent,function(){wym.update()})},WYMeditor.editor.prototype.ready=function(){return null!==this._doc},WYMeditor.editor.prototype.box=function(){return this._box},WYMeditor.editor.prototype.html=function(e){return"string"!=typeof e?jQuery(this._doc.body).html():(jQuery(this._doc.body).html(e),this.update(),void 0)},WYMeditor.editor.prototype.xhtml=function(){return jQuery(this._doc.body).children(WYMeditor.BR).remove(),this.parser.parse(this.html())},WYMeditor.editor.prototype.exec=function(e){var t,n,i=this;switch(e){case WYMeditor.CREATE_LINK:t=this.container(),(t||this._selected_image)&&this.dialog(WYMeditor.DIALOG_LINK);break;case WYMeditor.INSERT_IMAGE:this.dialog(WYMeditor.DIALOG_IMAGE);break;case WYMeditor.INSERT_TABLE:this.dialog(WYMeditor.DIALOG_TABLE);break;case WYMeditor.PASTE:this.dialog(WYMeditor.DIALOG_PASTE);break;case WYMeditor.TOGGLE_HTML:this.update(),this.toggleHtml();break;case WYMeditor.PREVIEW:this.dialog(WYMeditor.PREVIEW,this._options.dialogFeaturesPreview);break;case WYMeditor.INSERT_ORDEREDLIST:this.insertOrderedlist();break;case WYMeditor.INSERT_UNORDEREDLIST:this.insertUnorderedlist();break;case WYMeditor.INDENT:this.indent();break;case WYMeditor.OUTDENT:this.outdent();break;default:n=!1,jQuery.each(this._options.customCommands,function(){return e===this.name?(n=!0,this.run.apply(i),!1):void 0}),n||this._exec(e)}},WYMeditor.editor.prototype.selection=function(){window.rangy&&!rangy.initialized&&rangy.init();var e=this._iframe,t=rangy.getIframeSelection(e);return t},WYMeditor.editor.prototype.selected=function(){var e=this.selection(),t=e.focusNode;return t?"#text"===t.nodeName?t.parentNode:t:null},WYMeditor.editor.prototype.selection_collapsed=function(){var e=this.selection(),t=!1;return $.each(e.getAllRanges(),function(){return this.collapsed?(t=!0,!1):void 0}),t},WYMeditor.editor.prototype.selected_contains=function(e){var t=this.selection(),n=[];return $.each(t.getAllRanges(),function(){$.each(this.getNodes(),function(){$(this).is(e)&&n.push(this)})}),n},WYMeditor.editor.prototype.selected_parents_contains=function(e){var t=$([]),n=$(this.selected());return n.is(e)&&(t=t.add(n)),t=t.add(n.parents(e))},WYMeditor.editor.prototype.container=function(e){if("undefined"==typeof e)return this.selected();var t,n,i,r,o=null,s=null,a=null,l=null;if(e.toLowerCase()===WYMeditor.TH){switch(o=this.container(),o.tagName.toLowerCase()){case WYMeditor.TD:case WYMeditor.TH:break;default:s=[WYMeditor.TD,WYMeditor.TH],o=this.findUp(this.container(),s)}null!==o&&(e=WYMeditor.TD,o.tagName.toLowerCase()===WYMeditor.TD&&(e=WYMeditor.TH),this.switchTo(o,e),this.update())}else if(s=[WYMeditor.P,WYMeditor.H1,WYMeditor.H2,WYMeditor.H3,WYMeditor.H4,WYMeditor.H5,WYMeditor.H6,WYMeditor.PRE,WYMeditor.BLOCKQUOTE],o=this.findUp(this.container(),s)){if(e.toLowerCase()===WYMeditor.BLOCKQUOTE)if(t=this.findUp(this.container(),WYMeditor.BLOCKQUOTE),null===t)a=this._doc.createElement(e),o.parentNode.insertBefore(a,o),a.appendChild(o),this.setFocusToNode(a.firstChild);else{for(n=t.childNodes,i=n.length,i>0&&(l=n.item(0)),r=0;i>r;r+=1)t.parentNode.insertBefore(n.item(0),t);t.parentNode.removeChild(t),l&&this.setFocusToNode(l)}else this.switchTo(o,e);this.update()}return!1},WYMeditor.editor.prototype.toggleClass=function(e,t){var n=null;n=this._selected_image?this._selected_image:jQuery(this.selected()),n=jQuery(n).parentsOrSelf(t),jQuery(n).toggleClass(e),jQuery(n).attr(WYMeditor.CLASS)||jQuery(n).removeAttr(this._class)},WYMeditor.editor.prototype.findUp=function(e,t){if("undefined"==typeof e||null===e)return null;"#text"===e.nodeName&&(e=e.parentNode);var n,i,r=e.tagName.toLowerCase();if(typeof t===WYMeditor.STRING)for(;r!==t&&r!==WYMeditor.BODY;)e=e.parentNode,r=e.tagName.toLowerCase();else for(n=!1;!n&&r!==WYMeditor.BODY;){for(i=0;t.length>i;i+=1)if(r===t[i]){n=!0;break}if(!n){if(e=e.parentNode,null===e)return null;r=e.tagName.toLowerCase()}}return r===WYMeditor.BODY?null:e},WYMeditor.editor.prototype.switchTo=function(e,t){var n=this._doc.createElement(t),i=jQuery(e).html();e.parentNode.replaceChild(n,e),jQuery(n).html(i),this.setFocusToNode(n)},WYMeditor.editor.prototype.replaceStrings=function(sVal){var key;if(!WYMeditor.STRINGS[this._options.lang])try{eval(jQuery.ajax({url:this._options.langPath+this._options.lang+".js",async:!1}).responseText)}catch(e){return WYMeditor.console.error("WYMeditor: error while parsing language file."),sVal}for(key in WYMeditor.STRINGS[this._options.lang])WYMeditor.STRINGS[this._options.lang].hasOwnProperty(key)&&(sVal=WYMeditor.Helper.replaceAll(sVal,this._options.stringDelimiterLeft+key+this._options.stringDelimiterRight,WYMeditor.STRINGS[this._options.lang][key]));return sVal},WYMeditor.editor.prototype.encloseString=function(e){return this._options.stringDelimiterLeft+e+this._options.stringDelimiterRight},WYMeditor.editor.prototype.status=function(e){jQuery(this._box).find(this._options.statusSelector).html(e)},WYMeditor.editor.prototype.update=function(){var e;jQuery(this._doc.body).children(WYMeditor.BR).remove(),e=this.xhtml(),jQuery(this._element).val(e),jQuery(this._box).find(this._options.htmlValSelector).not(".hasfocus").val(e),this.fixBodyHtml()},WYMeditor.editor.prototype.fixBodyHtml=function(){this.fixDoubleBr(),this.spaceBlockingElements()},WYMeditor.editor.prototype.spaceBlockingElements=function(){var e,t,n,i=WYMeditor.BLOCKING_ELEMENTS.join(", "),r=$(this._doc).find("body.wym_iframe"),o=r.children(),s='<br _moz_editor_bogus_node="TRUE" _moz_dirty="">';o.length>0&&(e=$(o[0]),t=$(o[o.length-1]),e.is(i)&&e.before(s),t.is(i)&&t.after(s)),n=this._getBlockSepSelector(),r.find(n).before(s)},WYMeditor.editor.prototype._getBlockSepSelector=function(){if("undefined"!=typeof this._blockSpacersSel)return this._blockSpacersSel;var e=[];return $.each(WYMeditor.BLOCKING_ELEMENTS,function(t,n){$.each(WYMeditor.BLOCKING_ELEMENTS,function(t,i){e.push(n+" + "+i)})}),$.each(WYMeditor.BLOCKING_ELEMENTS,function(t,n){$.each(WYMeditor.NON_BLOCKING_ELEMENTS,function(t,i){e.push(n+" + "+i),e.push(i+" + "+n)})}),this._blockSpacersSel=e.join(", "),this._blockSpacersSel},WYMeditor.editor.prototype.fixDoubleBr=function(){var e,t=$(this._doc).find("body.wym_iframe");t.children("br + br").filter(":not(pre br)").remove(),t.find("p + br").next("p").prev("br").remove(),e=t.find("p + br").slice(-1),e.length>0&&0===e.next().length&&e.remove()},WYMeditor.editor.prototype.dialog=function(e,t,n){var i,r,o,s=t||this._wym._options.dialogFeatures,a=window.open("","dialog",s),l=WYMeditor.Helper;if(a){switch(i="",e){case WYMeditor.DIALOG_LINK:i=this._options.dialogLinkHtml;break;case WYMeditor.DIALOG_IMAGE:i=this._options.dialogImageHtml;break;case WYMeditor.DIALOG_TABLE:i=this._options.dialogTableHtml;break;case WYMeditor.DIALOG_PASTE:i=this._options.dialogPasteHtml;break;case WYMeditor.PREVIEW:i=this._options.dialogPreviewHtml;break;default:i=n}r=this._options.dialogHtml,r=l.replaceAll(r,WYMeditor.BASE_PATH,this._options.basePath),r=l.replaceAll(r,WYMeditor.DIRECTION,this._options.direction),r=l.replaceAll(r,WYMeditor.CSS_PATH,this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS),r=l.replaceAll(r,WYMeditor.WYM_PATH,this._options.wymPath),r=l.replaceAll(r,WYMeditor.JQUERY_PATH,this._options.jQueryPath),r=l.replaceAll(r,WYMeditor.DIALOG_TITLE,this.encloseString(e)),r=l.replaceAll(r,WYMeditor.DIALOG_BODY,i),r=l.replaceAll(r,WYMeditor.INDEX,this._index),r=this.replaceStrings(r),o=a.document,o.write(r),o.close()}},WYMeditor.editor.prototype.toggleHtml=function(){jQuery(this._box).find(this._options.htmlSelector).toggle()},WYMeditor.editor.prototype.uniqueStamp=function(){var e=new Date;return"wym-"+e.getTime()},WYMeditor.editor.prototype._handleMultilineBlockContainerPaste=function(e,t,n,i){var r,o,s,a,l,c,d,u,h,p;for($insertAfter=$(h),o="p",t.is("li")&&(o="li"),n.splitBoundaries(),h=e.findUp(n.startContainer,["p","h1","h2","h3","h4","h5","h6","li"]),p=h.tagName,s=[],a=[],$(h).contents().each(function(e,t){l=n.compareNode(t),l===n.NODE_BEFORE||l===n.NODE_BEFORE_AND_AFTER&&n.startOffset===n.startContainer.length?s.push(t):a.push(t)}),r=0;s.length>r;r++)$(s[r]).remove();for(r=0;a.length>r;r++)$(a[r]).remove();for(s.length>0&&$(h).prepend(s),a.length>0&&(c=$("<"+p+">"+"</"+p+">",e._doc),c.insertAfter($(h)),c.append(a)),d=i.splice(0,1)[0],u=d.split(WYMeditor.NEWLINE).join("<br />"),$(h).html($(h).html()+u),$insertAfter=$(h),r=0;i.length>r;r++)html="<"+o+">"+i[r].split(WYMeditor.NEWLINE).join("<br />")+"</"+o+">",$insertAfter=$(html,e._doc).insertAfter($insertAfter)},WYMeditor.editor.prototype.paste=function(e){var t,n,i,r,o,s,a,l,c=this.selected(),d="",u=!1;if(s=this,r=rangy.getIframeSelection(s._iframe),a=r.getRangeAt(0),t=$(c),a.collapse(!0),paragraphStrings=e.split(new RegExp(WYMeditor.NEWLINE+"{2,}","g")),1===paragraphStrings.length&&(u=!0),"undefined"==typeof c||c&&c.tagName.toLowerCase()===WYMeditor.BODY)if(u)n=jQuery("<p>"+paragraphStrings[0]+"</p>",this._doc).appendTo(this._doc.body);else for(blockSplitter="p",i=paragraphStrings.length-1;i>=0;i-=1)for(d="<"+blockSplitter+">"+paragraphStrings[i].split(WYMeditor.NEWLINE).join("<br />")+"</"+blockSplitter+">",l=$(d,s._doc),j=l.length-1;j>=0;j--)a.insertNode(l[j]);else if(u||t.is("pre"))o=this._doc.createTextNode(e),a.insertNode(o);else if(t.is("p,h1,h2,h3,h4,h5,h6,li"))s._handleMultilineBlockContainerPaste(s,t,a,paragraphStrings);else for(textNodesToInsert=e.split(WYMeditor.NEWLINE),i=textNodesToInsert.length-1;i>=0;i-=1)o=this._doc.createTextNode(textNodesToInsert[i]),a.insertNode(o),i>0&&a.insertNode($("<br />",s._doc).get(0))},WYMeditor.editor.prototype.insert=function(e){var t,n,i=this._iframe.contentWindow.getSelection();null!==i.focusNode?(t=i.getRangeAt(0),n=t.createContextualFragment(e),t.deleteContents(),t.insertNode(n)):this.paste(e)},WYMeditor.editor.prototype.wrap=function(e,t){this.insert(e+this._iframe.contentWindow.getSelection().toString()+t)},WYMeditor.editor.prototype.unwrap=function(){this.insert(this._iframe.contentWindow.getSelection().toString())},WYMeditor.editor.prototype.setFocusToNode=function(e,t){var n=this._doc.createRange(),i=this._iframe.contentWindow.getSelection();t=t?0:1,n.selectNodeContents(e),i.addRange(n),i.collapse(e,t),this._iframe.contentWindow.focus()},WYMeditor.editor.prototype.addCssRules=function(e,t){var n,i,r=e.styleSheets[0];if(r)for(n=0;t.length>n;n+=1)i=t[n],i.name&&i.css&&this.addCssRule(r,i)},WYMeditor.editor.prototype.splitListItemContents=function(e){var t,n,i,r=!1,o={itemContents:[],sublistContents:[]};for(t=e.contents(),n=0;t.length>n;n++)i=t.get(n),r||$(i).is("ol,ul")?(r=!0,o.sublistContents.push(i)):o.itemContents.push(i);return o},WYMeditor.editor.prototype.joinAdjacentLists=function(e,t){var n;"undefined"!=typeof e&&"undefined"!=typeof t&&e.nextSibling===t&&e.tagName.toLowerCase()===t.tagName.toLowerCase()&&(n=$(t).contents(),n.unwrap(),n.detach(),$(e).append(n))},WYMeditor.editor.prototype._indentSingleItem=function(e){var t,n,i,r,o,s,a,l,c,d,u,h,p=this;t=$(e),n=t.parent()[0].tagName.toLowerCase(),o=p.splitListItemContents(t),a=$(o.sublistContents),s=$(o.itemContents),l=t.prev().filter("li"),0===l.length&&(i='<li class="spacer_li"></li>',t.before(i),l=t.prev()),c=l.contents().last().filter("ol,ul"),c.length>0?(c.append(t),a.detach(),l.append(a),d=a.first(),p.joinAdjacentLists(c.get(0),d.get(0))):(a.length>0?(a.detach(),l.append(a),c=a.first()):(r="<"+n+"></"+n+">",l.append(r),c=l.contents().last()),c.prepend(t)),t.next().is(".spacer_li")&&(u=t.next(".spacer_li"),h=u.contents(),h.detach(),t.append(h),u.remove())},WYMeditor.editor.prototype._outdentSingleItem=function(e){var t,n,i,r,o,s,a,l,c,d,u,h=this;if(t=$(e),n=t.parent()[0].tagName.toLowerCase(),t.parent().parent().is("ol,ul,li")){if(t.parent().parent().is("li")||(WYMeditor.console.log("Attempting to fix invalid list nesting before outdenting."),h.correctInvalidListNesting(e)),r=h.splitListItemContents(t),s=$(r.sublistContents),o=$(r.itemContents),a=t.parent().parent("li"),0===a.length)return WYMeditor.console.error("Invalid list. No parentLi found, so aborting outdent"),void 0;l=t.parent(),c=t.nextAllContents(),d=l.nextAllContents(),t.detach(),a.after(t),s.length>0&&(i="<"+n+">"+'<li class="spacer_li"></li>'+"</"+n+">",t.append(i),u=t.children().last(),s.detach(),u.children("li").append(s)),c.length>0&&("undefined"==typeof u&&(i="<"+n+"></"+n+">",t.append(i),u=t.children().last()),c.detach(),u.append(c)),d.length>0&&(d.detach(),t.contents().length>0&&t.contents().last()[0].nodeType===WYMeditor.NODE.TEXT&&d[0].nodeType===WYMeditor.NODE.TEXT&&t.append("<br />"),t.append(d)),0===l.contents().length&&l.remove(),0===a.contents().length&&a.remove()}},WYMeditor.editor.prototype.correctInvalidListNesting=function(e,t){var n,i,r=e;if("undefined"==typeof t&&(t=!1),!r)return t;for(;r.parentNode&&(n=r.parentNode,n.nodeType===WYMeditor.NODE.ELEMENT)&&(i=n.tagName.toLowerCase(),"ol"===i||"ul"===i||"li"===i);)r=n;return $(r).is("li")?(WYMeditor.console.log("Correcting orphaned root li before correcting invalid list nesting."),this._correctOrphanedListItem(r),this.correctInvalidListNesting(r,!0)):$(r).is("ol,ul")?this._correctInvalidListNesting(r,t):(WYMeditor.console.error("Can't correct invalid list nesting. No root list found"),t)},WYMeditor.editor.prototype._correctOrphanedListItem=function(e){var t,n,i,r,o=$();t=$(e).prevContentsUntil(":not(li)"),n=$(e).nextContentsUntil(":not(li)"),o=o.add(t),o=o.add(e),o=o.add(n),r=o[0].previousSibling,r&&$(r).is("ol,ul")?i=r:(o.before("<ol></ol>"),i=o.prev()[0]),$(i).append(o)},WYMeditor.editor.prototype._correctInvalidListNesting=function(e,t){var n,i,r,o,s,a,l=e,c=e,d=!1,u='<li class="spacer_li"></li>';for("undefined"!=typeof t&&(d=t);c;)if(c._wym_visited){if(c._wym_visited=!1,c===l)break;c=c.previousSibling?c.previousSibling:c.parentNode}else{if(c!==l&&!$(c).is("li"))for(r=c;r.parentNode&&(r=r.parentNode,!$(r).is("li"))&&r.nodeType===WYMeditor.NODE.ELEMENT;)if(i=r.tagName.toLowerCase(),"ol"===i||"ul"===i){for(WYMeditor.console.log("Fixing orphaned list content"),d=!0,o=[c],n=c,s=null;n.previousSibling;){if(n=n.previousSibling,$(n).is("li")){s=n;break}o.push(n)}o.reverse(),s||1!==o.length||$(c.nextSibling).is("li")&&(s=c.nextSibling),s||($(o[0]).before(u),s=$(o[0]).prev()[0]),a=$(s).contents().last(),1===a.length&&a[0].nodeType===WYMeditor.NODE.TEXT&&o[0].nodeType===WYMeditor.NODE.TEXT&&$(s).append("<br />"),$(s).append($(o));break}c.lastChild?(c._wym_visited=!0,c=c.lastChild):c=c.previousSibling?c.previousSibling:c.parentNode}return d},WYMeditor.editor.prototype.getCommonParentList=function(e){var t,n,i;return e=$(e).filter("li"),0===e.length?null:(t=e[0],n=$(t).parent("ol,ul"),0===n.length?null:(i=n[0],$(e).each(function(e,t){return n=$(t).parent("ol,ul"),0===n.length||n[0]!==i?null:void 0}),i))},WYMeditor.editor.prototype._getSelectedListItems=function(e){var t,n,i,r,o,s,a=this,l=[],c=[];for(r=function(e){var t;if(rangy.dom.isCharacterDataNode(e))return e;try{t=n.containsNodeText(e)}catch(i){return!0}return t===!0?!0:void 0},t=0;e.rangeCount>t;t++)if(n=e.getRangeAt(t),n.collapsed===!0)i=a.findUp(n.startContainer,"li"),i&&(l=l.concat([i]));else{for(l=l.concat(n.getNodes([],r)),o=[],j=0;l.length>j;j++)if(s=l[j],!$(s).is("li,ol,ul"))for(;s.parentNode;)if(s=s.parentNode,$(s).is("li")){o.push(s);break}for(j=0;o.length>j;j++)-1===$.inArray(o[j],l)&&l.push(o[j])}for(t=0;l.length>t;t++)l[t].nodeType===WYMeditor.NODE.ELEMENT&&l[t].tagName.toLowerCase()===WYMeditor.LI&&c.push(l[t]);return c},WYMeditor.editor.prototype.indent=function(){var e,t,n,r=this._wym,o=rangy.getIframeSelection(this._iframe);return n=function(){var e=r.selected(),t=r.findUp(e,["ol","ul","li"]);return r.correctInvalidListNesting(t)},r.restoreSelectionAfterManipulation(n)?!0:(o=rangy.getIframeSelection(this._iframe),e=r._getSelectedListItems(o),0===e.length?!1:(t=r.getCommonParentList(e),null===t?!1:(n=function(){var t=!1;for(i=0;e.length>i;i++)r._indentSingleItem(e[i]),t=!0;return t},r.restoreSelectionAfterManipulation(n))))},WYMeditor.editor.prototype.outdent=function(){var e,t,n,r=this._wym,o=rangy.getIframeSelection(this._iframe);return n=function(){var e=r.selected(),t=r.findUp(e,["ol","ul","li"]);return r.correctInvalidListNesting(t)},r.restoreSelectionAfterManipulation(n)?!0:(o=rangy.getIframeSelection(this._iframe),e=r._getSelectedListItems(o),0===e.length?!1:(t=r.getCommonParentList(e),null===t?!1:(n=function(){var t=!1;for(i=0;e.length>i;i++)r._outdentSingleItem(e[i]),t=!0;return t},r.restoreSelectionAfterManipulation(n))))},WYMeditor.editor.prototype.restoreSelectionAfterManipulation=function(e){var t=(rangy.getIframeSelection(this._iframe),rangy.saveSelection(rangy.dom.getIframeWindow(this._iframe))),n=!0;try{n=e(),n?rangy.restoreSelection(t):rangy.removeMarkers(t)}catch(i){WYMeditor.console.error("Error during manipulation"),WYMeditor.console.error(i),rangy.removeMarkers(t)}return n},WYMeditor.editor.prototype.insertOrderedlist=function(){var e,t=this;return e=function(){var e=t.selected(),n=t.findUp(e,["ol","ul","li"]);return t.correctInvalidListNesting(n)},t.restoreSelectionAfterManipulation(e)?!0:(e=function(){return t._insertList("ol")},t.restoreSelectionAfterManipulation(e))},WYMeditor.editor.prototype.insertUnorderedlist=function(){var e,t=this;return e=function(){var e=t.selected(),n=t.findUp(e,["ol","ul","li"]);return t.correctInvalidListNesting(n)},t.restoreSelectionAfterManipulation(e)?!0:(e=function(){return t._insertList("ul")},t.restoreSelectionAfterManipulation(e))},WYMeditor.editor.prototype._insertList=function(e){var t,n,i,r,o=this._wym,s=rangy.getIframeSelection(this._iframe);return t=o._getSelectedListItems(s),0!==t.length?(n=o.getCommonParentList(t),n?(this._changeListType(n,e),!0):!1):(i=this.selected(),r=this.findUp(i,WYMeditor.POTENTIAL_LIST_ELEMENTS),r?(this._convertToList(r,e),!0):!1)},WYMeditor.editor.prototype._changeListType=function(e,t){return WYMeditor.changeNodeType(e,t)},WYMeditor.editor.prototype._convertToList=function(e,t){var n,i,r=$(e);return n="<"+t+"><li></li></"+t+">",this.findUp(e,WYMeditor.MAIN_CONTAINERS)===e?(r.wrapInner(n),i=r.children(),i.unwrap(),i.get(0)):(r.wrapInner(n),i=r.children(),i.get(0))},WYMeditor.editor.prototype.insertTable=function(e,t,n,i){if(!(0>=e||0>=t)){var r,o,s,a,l=this._doc.createElement(WYMeditor.TABLE),c=null;for(r=l.createCaption(),r.innerHTML=n,o=0;e>o;o+=1)for(c=l.insertRow(o),s=0;t>s;s+=1)c.insertCell(s);return""!==i&&jQuery(l).attr("summary",i),a=jQuery(this.findUp(this.container(),WYMeditor.MAIN_CONTAINERS)).get(0),a&&a.parentNode?jQuery(a).after(l):jQuery(this._doc.body).append(l),this.afterInsertTable(l),this.fixBodyHtml(),l}},WYMeditor.editor.prototype.afterInsertTable=function(){},WYMeditor.editor.prototype.configureEditorUsingRawCss=function(){var e=new WYMeditor.WymCssParser;this._options.stylesheet?e.parse(jQuery.ajax({url:this._options.stylesheet,async:!1}).responseText):e.parse(this._options.styles,!1),0===this._options.classesItems.length&&(this._options.classesItems=e.css_settings.classesItems),0===this._options.editorStyles.length&&(this._options.editorStyles=e.css_settings.editorStyles),0===this._options.dialogStyles.length&&(this._options.dialogStyles=e.css_settings.dialogStyles)},WYMeditor.editor.prototype.listen=function(){var e=this;jQuery(this._doc.body).bind("mousedown",function(t){e.mousedown(t)})},WYMeditor.editor.prototype.mousedown=function(e){this._selected_image=null,e.target.tagName.toLowerCase()===WYMeditor.IMG&&(this._selected_image=e.target)},WYMeditor.loadCss=function(e){var t,n=document.createElement("link");n.rel="stylesheet",n.href=e,t=jQuery("head").get(0),t.appendChild(n)},WYMeditor.editor.prototype.loadSkin=function(){if(this._options.loadSkin&&!WYMeditor.SKINS[this._options.skin]){var found=!1,rExp=new RegExp(this._options.skin+"/"+WYMeditor.SKINS_DEFAULT_CSS+"$");jQuery("link").each(function(){this.href.match(rExp)&&(found=!0)}),found||WYMeditor.loadCss(this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS)}jQuery(this._box).addClass("wym_skin_"+this._options.skin),this._options.initSkin&&!WYMeditor.SKINS[this._options.skin]&&eval(jQuery.ajax({url:this._options.skinPath+WYMeditor.SKINS_DEFAULT_JS,async:!1}).responseText),WYMeditor.SKINS[this._options.skin]&&WYMeditor.SKINS[this._options.skin].init&&WYMeditor.SKINS[this._options.skin].init(this)},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.explorer.js
 *        MSIE specific class and functions.
 *        See the documentation for more info.
 *
 * File Authors:
 *        Jean-Francois Hovinne (jf.hovinne a-t wymeditor dotorg)
 *        Bermi Ferrer (wymeditor a-t bermi dotorg)
 *        Frédéric Palluel-Lafleur (fpalluel a-t gmail dotcom)
 *        Jonatan Lundin (jonatan.lundin a-t gmail dotcom)
 */
WYMeditor.WymClassExplorer=function(e){this._wym=e,this._class="className"},WYMeditor.WymClassExplorer.PLACEHOLDER_NODE="<br>",WYMeditor.WymClassExplorer.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),jQuery(this._doc.body).html(this._wym._html);var wym=this;this._doc.body.onfocus=function(){wym._doc.designMode="on",wym._doc=iframe.contentWindow.document},this._doc.onbeforedeactivate=function(){wym.saveCaret()},$(this._doc).bind("keyup",wym.keyup);var ieVersion=parseInt($.browser.version,10);ieVersion>=8&&9>ieVersion&&$(this._doc).bind("keydown",function(){wym.fixBluescreenOfDeath()}),this._doc.onkeyup=function(){wym.saveCaret()},this._doc.onclick=function(){wym.saveCaret()},this._doc.body.onbeforepaste=function(){wym._iframe.contentWindow.event.returnValue=!1},this._doc.body.onpaste=function(){wym._iframe.contentWindow.event.returnValue=!1,wym.paste(window.clipboardData.getData("Text"))},this._initialized&&(jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()),this._initialized=!0,this._doc.designMode="on";try{this._doc=iframe.contentWindow.document}catch(e){}},function(e){WYMeditor.WymClassExplorer.prototype.loadSkin=function(){jQuery(this._box).find(this._options.containerSelector).attr("unselectable","on"),e.call(this)}}(WYMeditor.editor.prototype.loadSkin),WYMeditor.WymClassExplorer.prototype.fixBluescreenOfDeath=function(){var e=$(this._doc).find("p").eq(0).position();null!==e&&"undefined"!=typeof e&&0>e.left&&($(this._box).append('<br id="wym-bluescreen-bug-fix" />'),$(this._box).find("#wym-bluescreen-bug-fix").remove())},WYMeditor.WymClassExplorer.prototype._exec=function(e,t){t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e)},WYMeditor.WymClassExplorer.prototype.saveCaret=function(){this._doc.caretPos=this._doc.selection.createRange()},WYMeditor.WymClassExplorer.prototype.addCssRule=function(e,t){var n,i=t.name.split(",");for(n=0;i.length>n;n++)e.addRule(i[n],t.css)},WYMeditor.WymClassExplorer.prototype.insert=function(e){var t=this._doc.selection.createRange();if(jQuery(t.parentElement()).parents().is(this._options.iframeBodySelector))try{t.pasteHTML(e)}catch(n){}else this.paste(e)},WYMeditor.WymClassExplorer.prototype.wrap=function(e,t){var n=this._doc.selection.createRange();if(jQuery(n.parentElement()).parents().is(this._options.iframeBodySelector))try{n.pasteHTML(e+n.text+t)}catch(i){}},WYMeditor.WymClassExplorer.prototype.unwrap=function(){var e=this._doc.selection.createRange();if(jQuery(e.parentElement()).parents().is(this._options.iframeBodySelector))try{var t=e.text;this._exec("Cut"),e.pasteHTML(t)}catch(n){}},WYMeditor.WymClassExplorer.prototype.keyup=function(e){var t=WYMeditor.INSTANCES[this.title];this._selected_image=null;var n=null;if(e.keyCode!==WYMeditor.KEY.BACKSPACE&&e.keyCode!==WYMeditor.KEY.CTRL&&e.keyCode!==WYMeditor.KEY.DELETE&&e.keyCode!==WYMeditor.KEY.COMMAND&&e.keyCode!==WYMeditor.KEY.UP&&e.keyCode!==WYMeditor.KEY.DOWN&&e.keyCode!==WYMeditor.KEY.ENTER&&!e.metaKey&&!e.ctrlKey){n=t.selected();var i="";null!==n&&(i=n.tagName.toLowerCase()),("strong"===i||"b"===i||"em"===i||"i"===i||"sub"===i||"sup"===i||"a"===i)&&(i=n.parentNode.tagName.toLowerCase()),i===WYMeditor.BODY&&(t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),t.fixBodyHtml())}(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&t.fixBodyHtml()},WYMeditor.WymClassExplorer.prototype.setFocusToNode=function(e,t){var n=this._doc.selection.createRange();t=t?!0:!1,n.moveToElementText(e),n.collapse(t),n.select(),e.focus()},WYMeditor.WymClassExplorer.prototype.spaceBlockingElements=function(){var e=WYMeditor.BLOCKING_ELEMENTS.join(", "),t=$(this._doc).find("body.wym_iframe"),n=t.children(),i=WYMeditor.WymClassExplorer.PLACEHOLDER_NODE;if(n.length>0){var r=$(n[0]),o=$(n[n.length-1]);r.is(e)&&r.before(i),$.browser.version>="7.0"&&o.is(e)&&o.after(i)}var s=this._getBlockSepSelector();t.find(s).before(i)},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.mozilla.js
 *        Gecko specific class and functions.
 *        See the documentation for more info.
 *
 * File Authors:
 *        Jean-Francois Hovinne (jf.hovinne a-t wymeditor dotorg)
 *        Volker Mische (vmx a-t gmx dotde)
 *        Bermi Ferrer (wymeditor a-t bermi dotorg)
 *        Frédéric Palluel-Lafleur (fpalluel a-t gmail dotcom)
 *        Jonatan Lundin (jonatan.lundin a-t gmail dotcom)
 */
WYMeditor.WymClassMozilla=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassMozilla.CELL_PLACEHOLDER='<br _moz_dirty="">',WYMeditor.WymClassMozilla.NEEDS_CELL_FIX=$.browser.version>="1.9.1"&&"2.0">$.browser.version,WYMeditor.WymClassMozilla.prototype.initIframe=function(iframe){var wym=this,styles,aCss;this._iframe=iframe,this._doc=iframe.contentDocument,styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles),this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this.html(this._wym._html),this.enableDesignMode(),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery(this._doc).bind("click",this.click),jQuery(this._doc).bind("focus",function(){wym.enableDesignMode.call(wym)}),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassMozilla.prototype.html=function(e){if("string"!=typeof e)return jQuery(this._doc.body).html();try{this._doc.designMode="off"}catch(t){}return e=e.replace(/<em(\b[^>]*)>/gi,"<i$1>"),e=e.replace(/<\/em>/gi,"</i>"),e=e.replace(/<strong(\b[^>]*)>/gi,"<b$1>"),e=e.replace(/<\/strong>/gi,"</b>"),jQuery(this._doc.body).html(e),this._wym.fixBodyHtml(),this.enableDesignMode(),!1},WYMeditor.WymClassMozilla.prototype._exec=function(e,t){if(!this.selected())return!1;t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null);var n=this.selected();return n.tagName.toLowerCase()===WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),!0},WYMeditor.WymClassMozilla.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassMozilla.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title];if(e.ctrlKey){if(66===e.keyCode)return t._exec(WYMeditor.BOLD),!1;if(73===e.keyCode)return t._exec(WYMeditor.ITALIC),!1}return!0},WYMeditor.WymClassMozilla.prototype.keyup=function(e){var t,n,i=WYMeditor.INSTANCES[this.title];i._selected_image=null,t=null,e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.CTRL||e.keyCode===WYMeditor.KEY.DELETE||e.keyCode===WYMeditor.KEY.COMMAND||e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.ENTER||e.metaKey||e.ctrlKey||(t=i.selected(),n=t.tagName.toLowerCase(),("strong"===n||"b"===n||"em"===n||"i"===n||"sub"===n||"sup"===n||"a"===n)&&(n=t.parentNode.tagName.toLowerCase()),n===WYMeditor.BODY&&(i._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),i.fixBodyHtml())),(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&i.fixBodyHtml()},WYMeditor.WymClassMozilla.prototype.click=function(){var e,t=WYMeditor.INSTANCES[this.title],n=t.selected();WYMeditor.WymClassMozilla.NEEDS_CELL_FIX===!0&&n&&n.tagName.toLowerCase()===WYMeditor.TR&&jQuery(WYMeditor.TD,t._doc.body).append(WYMeditor.WymClassMozilla.CELL_PLACEHOLDER),n&&n.tagName.toLowerCase()===WYMeditor.BODY&&(e=t._iframe.contentWindow.getSelection(),e.isCollapsed===!0&&t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P))},WYMeditor.WymClassMozilla.prototype.enableDesignMode=function(){if("off"===this._doc.designMode)try{this._doc.designMode="on",this._doc.execCommand("styleWithCSS","",!1),this._doc.execCommand("enableObjectResizing",!1,!0)}catch(e){}},WYMeditor.WymClassMozilla.prototype.openBlockTag=function(e,t){if(t=this.validator.getValidTagAttributes(e,t),"span"===e&&t.style){var n=this.getTagForStyle(t.style);n&&(e=n,this._tag_stack.pop(),this._tag_stack.push(e),t.style="")}this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassMozilla.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":/super/.test(e)?"sup":!1},WYMeditor.WymClassMozilla.prototype.afterInsertTable=function(e){WYMeditor.WymClassMozilla.NEEDS_CELL_FIX===!0&&$(e).find("td").each(function(e,t){$(t).append(WYMeditor.WymClassMozilla.CELL_PLACEHOLDER)})},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.opera.js
 *        Opera specific class and functions.
 *        See the documentation for more info.
 *
 * File Authors:
 *        Jean-Francois Hovinne (jf.hovinne a-t wymeditor dotorg)
 */
WYMeditor.WymClassOpera=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassOpera.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassOpera.prototype._exec=function(e,t){t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e)},WYMeditor.WymClassOpera.prototype.selected=function(){var e=this._iframe.contentWindow.getSelection(),t=e.focusNode;return t?"#text"==t.nodeName?t.parentNode:t:null},WYMeditor.WymClassOpera.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassOpera.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title],n=t._iframe.contentWindow.getSelection();startNode=n.getRangeAt(0).startContainer,jQuery(startNode).parentsOrSelf(WYMeditor.MAIN_CONTAINERS.join(","))[0]||jQuery(startNode).parentsOrSelf("li")||e.keyCode==WYMeditor.KEY.ENTER||e.keyCode==WYMeditor.KEY.LEFT||e.keyCode==WYMeditor.KEY.UP||e.keyCode==WYMeditor.KEY.RIGHT||e.keyCode==WYMeditor.KEY.DOWN||e.keyCode==WYMeditor.KEY.BACKSPACE||e.keyCode==WYMeditor.KEY.DELETE||t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)},WYMeditor.WymClassOpera.prototype.keyup=function(){var e=WYMeditor.INSTANCES[this.title];e._selected_image=null},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.safari.js
 *        Safari specific class and functions.
 *        See the documentation for more info.
 *
 * File Authors:
 *        Jean-Francois Hovinne (jf.hovinne a-t wymeditor dotorg)
 *        Scott Lewis (lewiscot a-t gmail dotcom)
 */
WYMeditor.WymClassSafari=function(e){this._wym=e,this._class="class"},WYMeditor.WymClassSafari.prototype.initIframe=function(iframe){var wym=this,styles,aCss;this._iframe=iframe,this._doc=iframe.contentDocument,styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles),this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassSafari.prototype._exec=function(e,t){if(!this.selected())return!1;var n;return this.selected(),t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null),n=this.selected(),n&&n.tagName.toLowerCase()===WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),!0},WYMeditor.WymClassSafari.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassSafari.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title];e.ctrlKey?(e.keyCode===WYMeditor.KEY.B&&(t._exec(WYMeditor.BOLD),e.preventDefault()),e.keyCode===WYMeditor.KEY.I&&(t._exec(WYMeditor.ITALIC),e.preventDefault())):e.shiftKey&&e.keyCode===WYMeditor.KEY.ENTER&&(t._exec("InsertLineBreak"),e.preventDefault())},WYMeditor.WymClassSafari.prototype.keyup=function(e){var t,n,i=WYMeditor.INSTANCES[this.title];i._selected_image=null,534.1>$.browser.version&&e.keyCode===WYMeditor.KEY.ENTER&&e.shiftKey&&i._exec("InsertLineBreak"),e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.CTRL||e.keyCode===WYMeditor.KEY.DELETE||e.keyCode===WYMeditor.KEY.COMMAND||e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.ENTER||e.metaKey||e.ctrlKey||(t=i.selected(),n=t.tagName.toLowerCase(),("strong"===n||"b"===n||"em"===n||"i"===n||"sub"===n||"sup"===n||"a"===n||"span"===n)&&(n=t.parentNode.tagName.toLowerCase()),(n===WYMeditor.BODY||n===WYMeditor.DIV)&&(i._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),i.fixBodyHtml())),(e.keyCode===WYMeditor.KEY.UP||e.keyCode===WYMeditor.KEY.DOWN||e.keyCode===WYMeditor.KEY.LEFT||e.keyCode===WYMeditor.KEY.RIGHT||e.keyCode===WYMeditor.KEY.BACKSPACE||e.keyCode===WYMeditor.KEY.ENTER)&&i.fixBodyHtml()},WYMeditor.WymClassSafari.prototype.openBlockTag=function(e,t){var n;t=this.validator.getValidTagAttributes(e,t),"span"===e&&t.style&&(n=this.getTagForStyle(t.style),n&&(e=n,this._tag_stack.pop(),this._tag_stack.push(e),t.style="","string"==typeof t["class"]&&(t["class"]=t["class"].replace(/apple-style-span/gi,"")))),this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassSafari.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":/super/.test(e)?"sup":!1},WYMeditor.XmlHelper=function(){return this._entitiesDiv=document.createElement("div"),this},WYMeditor.XmlHelper.prototype.tag=function(e,t,n){return t=t||!1,n=n||!1,"<"+e+(t?this.tagOptions(t):"")+(n?">":" />")},WYMeditor.XmlHelper.prototype.contentTag=function(e,t,n){return n=n||!1,"<"+e+(n?this.tagOptions(n):"")+">"+t+"</"+e+">"},WYMeditor.XmlHelper.prototype.cdataSection=function(e){return"<![CDATA["+e+"]]>"},WYMeditor.XmlHelper.prototype.escapeOnce=function(e){return this._fixDoubleEscape(this.escapeEntities(e))},WYMeditor.XmlHelper.prototype._fixDoubleEscape=function(e){return e.replace(/&amp;([a-z]+|(#\d+));/gi,"&$1;")},WYMeditor.XmlHelper.prototype.tagOptions=function(e){var t=this;t._formated_options="";for(var n in e){var i=e[n];"function"!=typeof i&&i.length>0&&(parseInt(n,10)==n&&"object"==typeof i&&(n=i.shift(),i=i.pop()),""!==n&&""!==i&&(t._formated_options+=" "+n+'="'+t.escapeOnce(i)+'"'))}return t._formated_options},WYMeditor.XmlHelper.prototype.escapeEntities=function(e,t){this._entitiesDiv.innerHTML=e,this._entitiesDiv.textContent=e;var n=this._entitiesDiv.innerHTML;return"undefined"==typeof t&&(t!==!1&&(n=n.replace('"',"&quot;")),t===!0&&(n=n.replace('"',"&#039;"))),n},WYMeditor.XmlHelper.prototype.parseAttributes=function(e){var t=[],n=e.split(/((=\s*")(")("))|((=\s*\')(\')(\'))|((=\s*[^>\s]*))/g);if(n.toString()!=e)for(var i in n){var r=n[i];if("function"!=typeof r&&0!==r.length){var o=new RegExp("(\\w+)\\s*"+r),s=e.match(o);if(s){var a=r.replace(/^[\s=]+/,""),l=a.charAt(0);l='"'==l?'"':"'"==l?"'":"",""!==l&&(a='"'==l?a.replace(/^"|"+$/g,""):a.replace(/^'|'+$/g,"")),e=e.replace(s[0],""),t.push([s[1],a])}}}return t},WYMeditor.XhtmlValidator={_attributes:{core:{except:["base","head","html","meta","param","script","style","title"],attributes:["class","id","style","title","accesskey","tabindex","/^data-.*/"]},language:{except:["base","br","hr","iframe","param","script"],attributes:{dir:["ltr","rtl"],0:"lang",1:"xml:lang"}},keyboard:{attributes:{accesskey:/^(\w){1}$/,tabindex:/^(\d)+$/}}},_events:{window:{only:["body"],attributes:["onload","onunload"]},form:{only:["form","input","textarea","select","a","label","button"],attributes:["onchange","onsubmit","onreset","onselect","onblur","onfocus"]},keyboard:{except:["base","bdo","br","frame","frameset","head","html","iframe","meta","param","script","style","title"],attributes:["onkeydown","onkeypress","onkeyup"]},mouse:{except:["base","bdo","br","head","html","meta","param","script","style","title"],attributes:["onclick","ondblclick","onmousedown","onmousemove","onmouseover","onmouseout","onmouseup"]}},_tags:{a:{attributes:{0:"charset",1:"coords",2:"href",3:"hreflang",4:"name",5:"rel",6:"rev",shape:/^(rect|rectangle|circ|circle|poly|polygon)$/,7:"type"}},0:"abbr",1:"acronym",2:"address",area:{attributes:{0:"alt",1:"coords",2:"href",nohref:/^(true|false)$/,shape:/^(rect|rectangle|circ|circle|poly|polygon)$/},required:["alt"]},3:"b",base:{attributes:["href"],required:["href"]},bdo:{attributes:{dir:/^(ltr|rtl)$/},required:["dir"]},4:"big",blockquote:{attributes:["cite"]},5:"body",6:"br",button:{attributes:{disabled:/^(disabled)$/,type:/^(button|reset|submit)$/,0:"value"},inside:"form"},7:"caption",8:"cite",9:"code",col:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"},inside:"colgroup"},colgroup:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"}},10:"dd",del:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},11:"div",12:"dfn",13:"dl",14:"dt",15:"em",fieldset:{inside:"form"},form:{attributes:{0:"action",1:"accept",2:"accept-charset",3:"enctype",method:/^(get|post)$/},required:["action"]},head:{attributes:["profile"]},16:"h1",17:"h2",18:"h3",19:"h4",20:"h5",21:"h6",22:"hr",html:{attributes:["xmlns"]},23:"i",img:{attributes:["alt","src","height","ismap","longdesc","usemap","width"],required:["alt","src"]},input:{attributes:{0:"accept",1:"alt",checked:/^(checked)$/,disabled:/^(disabled)$/,maxlength:/^(\d)+$/,2:"name",readonly:/^(readonly)$/,size:/^(\d)+$/,3:"src",type:/^(button|checkbox|file|hidden|image|password|radio|reset|submit|text)$/,4:"value"},inside:"form"},ins:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},24:"kbd",label:{attributes:["for"],inside:"form"},25:"legend",26:"li",link:{attributes:{0:"charset",1:"href",2:"hreflang",media:/^(all|braille|print|projection|screen|speech|,|;| )+$/i,/*"rel":/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,*/
rel:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,rev:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,3:"type"},inside:"head"},map:{attributes:["id","name"],required:["id"]},meta:{attributes:{0:"content","http-equiv":/^(content\-type|expires|refresh|set\-cookie)$/i,1:"name",2:"scheme"},required:["content"]},27:"noscript",object:{attributes:["archive","classid","codebase","codetype","data","declare","height","name","standby","type","usemap","width"]},28:"ol",optgroup:{attributes:{0:"label",disabled:/^(disabled)$/},required:["label"]},option:{attributes:{0:"label",disabled:/^(disabled)$/,selected:/^(selected)$/,1:"value"},inside:"select"},29:"p",param:{attributes:{0:"type",valuetype:/^(data|ref|object)$/,1:"valuetype",2:"value"},required:["name"]},30:"pre",q:{attributes:["cite"]},31:"samp",script:{attributes:{type:/^(text\/ecmascript|text\/javascript|text\/jscript|text\/vbscript|text\/vbs|text\/xml)$/,0:"charset",defer:/^(defer)$/,1:"src"},required:["type"]},select:{attributes:{disabled:/^(disabled)$/,multiple:/^(multiple)$/,0:"name",1:"size"},inside:"form"},32:"small",33:"span",34:"strong",style:{attributes:{0:"type",media:/^(screen|tty|tv|projection|handheld|print|braille|aural|all)$/},required:["type"]},35:"sub",36:"sup",table:{attributes:{0:"border",1:"cellpadding",2:"cellspacing",frame:/^(void|above|below|hsides|lhs|rhs|vsides|box|border)$/,rules:/^(none|groups|rows|cols|all)$/,3:"summary",4:"width"}},tbody:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},td:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},textarea:{attributes:["cols","rows","disabled","name","readonly"],required:["cols","rows"],inside:"form"},tfoot:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom)$/,2:"baseline"}},th:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},thead:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},37:"title",tr:{attributes:{align:/^(right|left|center|justify|char)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},38:"tt",39:"ul",40:"var"},skiped_attributes:[],skiped_attribute_values:[],getValidTagAttributes:function(e,t){var n={},i=this.getPossibleTagAttributes(e);for(var r in t){var o=t[r];r=r.toLowerCase();var s=WYMeditor.Helper;s.contains(this.skiped_attributes,r)||s.contains(this.skiped_attribute_values,o)||("function"!=typeof o&&s.contains(i,r)?this.doesAttributeNeedsValidation(e,r)?this.validateAttribute(e,r,o)&&(n[r]=o):n[r]=o:jQuery.each(i,function(){this.match(/\/(.*)\//)&&(regex=new RegExp(this.match(/\/(.*)\//)[1]),regex.test(r)&&(n[r]=o))}))}return n},getUniqueAttributesAndEventsForTag:function(e){var t=[];if(this._tags[e]&&this._tags[e].attributes)for(var n in this._tags[e].attributes)t.push(parseInt(n,10)==n?this._tags[e].attributes[n]:n);return t},getDefaultAttributesAndEventsForTags:function(){var e=[];for(var t in this._events)e.push(this._events[t]);for(t in this._attributes)e.push(this._attributes[t]);return e},isValidTag:function(e){if(this._tags[e])return!0;for(var t in this._tags)if(this._tags[t]==e)return!0;return!1},getDefaultAttributesAndEventsForTag:function(e){var t=[];if(this.isValidTag(e)){var n=this.getDefaultAttributesAndEventsForTags();for(var i in n){var r=n[i];if("object"==typeof r){var o=WYMeditor.Helper;if(r.except&&o.contains(r.except,e)||r.only&&!o.contains(r.only,e))continue;var s=r.attributes?r.attributes:r.events;for(var a in s)t.push("string"!=typeof s[a]?a:s[a])}}}return t},doesAttributeNeedsValidation:function(e,t){return this._tags[e]&&(this._tags[e].attributes&&this._tags[e].attributes[t]||this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t))},validateAttribute:function(e,t,n){return this._tags[e]&&this._tags[e].attributes&&this._tags[e].attributes[t]&&n.length>0&&!n.match(this._tags[e].attributes[t])||this._tags[e]&&this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t)&&0===n.length?!1:"undefined"!=typeof this._tags[e]},getPossibleTagAttributes:function(e){return this._possible_tag_attributes||(this._possible_tag_attributes={}),this._possible_tag_attributes[e]||(this._possible_tag_attributes[e]=this.getUniqueAttributesAndEventsForTag(e).concat(this.getDefaultAttributesAndEventsForTag(e))),this._possible_tag_attributes[e]}},WYMeditor.ParallelRegex=function(e){return this._case=e,this._patterns=[],this._labels=[],this._regex=null,this},WYMeditor.ParallelRegex.prototype.addPattern=function(e,t){t=t||!0;var n=this._patterns.length;this._patterns[n]=e,this._labels[n]=t,this._regex=null},WYMeditor.ParallelRegex.prototype.match=function(e){if(0===this._patterns.length)return[!1,""];var t=e.match(this._getCompoundedRegex());if(!t)return[!1,""];for(var n=t[0],i=1;t.length>i;i++)if(t[i])return[this._labels[i-1],n];return[!0,t[0]]},WYMeditor.ParallelRegex.prototype._getCompoundedRegex=function(){if(null===this._regex){for(var e=0,t=this._patterns.length;t>e;e++)this._patterns[e]="("+this._untokenizeRegex(this._tokenizeRegex(this._patterns[e]).replace(/([\/\(\)])/g,"\\$1"))+")";this._regex=new RegExp(this._patterns.join("|"),this._getPerlMatchingFlags())}return this._regex},WYMeditor.ParallelRegex.prototype._tokenizeRegex=function(e){return e.replace(/\(\?(i|m|s|x|U)\)/,"~~~~~~Tk1$1~~~~~~").replace(/\(\?(\-[i|m|s|x|U])\)/,"~~~~~~Tk2$1~~~~~~").replace(/\(\?\=(.*)\)/,"~~~~~~Tk3$1~~~~~~").replace(/\(\?\!(.*)\)/,"~~~~~~Tk4$1~~~~~~").replace(/\(\?\<\=(.*)\)/,"~~~~~~Tk5$1~~~~~~").replace(/\(\?\<\!(.*)\)/,"~~~~~~Tk6$1~~~~~~").replace(/\(\?\:(.*)\)/,"~~~~~~Tk7$1~~~~~~")},WYMeditor.ParallelRegex.prototype._untokenizeRegex=function(e){return e.replace(/~~~~~~Tk1(.{1})~~~~~~/,"(?$1)").replace(/~~~~~~Tk2(.{2})~~~~~~/,"(?$1)").replace(/~~~~~~Tk3(.*)~~~~~~/,"(?=$1)").replace(/~~~~~~Tk4(.*)~~~~~~/,"(?!$1)").replace(/~~~~~~Tk5(.*)~~~~~~/,"(?<=$1)").replace(/~~~~~~Tk6(.*)~~~~~~/,"(?<!$1)").replace(/~~~~~~Tk7(.*)~~~~~~/,"(?:$1)")},WYMeditor.ParallelRegex.prototype._getPerlMatchingFlags=function(){return this._case?"m":"mi"},WYMeditor.StateStack=function(e){return this._stack=[e],this},WYMeditor.StateStack.prototype.getCurrent=function(){return this._stack[this._stack.length-1]},WYMeditor.StateStack.prototype.enter=function(e){this._stack.push(e)},WYMeditor.StateStack.prototype.leave=function(){return 1==this._stack.length?!1:(this._stack.pop(),!0)},WYMeditor.LEXER_ENTER=1,WYMeditor.LEXER_MATCHED=2,WYMeditor.LEXER_UNMATCHED=3,WYMeditor.LEXER_EXIT=4,WYMeditor.LEXER_SPECIAL=5,WYMeditor.Lexer=function(e,t,n){return t=t||"accept",this._case=n||!1,this._regexes={},this._parser=e,this._mode=new WYMeditor.StateStack(t),this._mode_handlers={},this._mode_handlers[t]=t,this},WYMeditor.Lexer.prototype.addPattern=function(e,t){t=t||"accept","undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e),"undefined"==typeof this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addEntryPattern=function(e,t,n){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,n),"undefined"==typeof this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.addExitPattern=function(e,t){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"__exit"),"undefined"==typeof this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addSpecialPattern=function(e,t,n){"undefined"==typeof this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"_"+n),"undefined"==typeof this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.mapHandler=function(e,t){this._mode_handlers[e]=t},WYMeditor.Lexer.prototype.parse=function(e){if("undefined"==typeof this._parser)return!1;for(var t,n=e.length;"object"==typeof(t=this._reduce(e));){e=t[0];var i=t[1],r=t[2],o=t[3];if(!this._dispatchTokens(i,r,o))return!1;if(""===e)return!0;if(e.length==n)return!1;n=e.length}return t?this._invokeParser(e,WYMeditor.LEXER_UNMATCHED):!1},WYMeditor.Lexer.prototype._dispatchTokens=function(e,t,n){return n=n||!1,this._invokeParser(e,WYMeditor.LEXER_UNMATCHED)?"boolean"==typeof n?this._invokeParser(t,WYMeditor.LEXER_MATCHED):this._isModeEnd(n)?this._invokeParser(t,WYMeditor.LEXER_EXIT)?this._mode.leave():!1:this._isSpecialMode(n)?(this._mode.enter(this._decodeSpecial(n)),this._invokeParser(t,WYMeditor.LEXER_SPECIAL)?this._mode.leave():!1):(this._mode.enter(n),this._invokeParser(t,WYMeditor.LEXER_ENTER)):!1},WYMeditor.Lexer.prototype._isModeEnd=function(e){return"__exit"===e},WYMeditor.Lexer.prototype._isSpecialMode=function(e){return"_"==e.substring(0,1)},WYMeditor.Lexer.prototype._decodeSpecial=function(e){return e.substring(1)},WYMeditor.Lexer.prototype._invokeParser=function(e,t){if(""===e)return!0;var n=this._mode.getCurrent(),i=this._mode_handlers[n],r=this._parser[i](e,t);return r},WYMeditor.Lexer.prototype._reduce=function(e){var t=this._regexes[this._mode.getCurrent()].match(e),n=t[1],i=t[0];if(i){var r=e.indexOf(n),o=e.substr(0,r);return e=e.substring(r+n.length),[e,o,n,i]}return!0},WYMeditor.XhtmlLexer=function(e){return jQuery.extend(this,new WYMeditor.Lexer(e,"Text")),this.mapHandler("Text","Text"),this.addTokens(),this.init(),this},WYMeditor.XhtmlLexer.prototype.init=function(){},WYMeditor.XhtmlLexer.prototype.addTokens=function(){this.addCommentTokens("Text"),this.addScriptTokens("Text"),this.addCssTokens("Text"),this.addTagTokens("Text")},WYMeditor.XhtmlLexer.prototype.addCommentTokens=function(e){this.addEntryPattern("<!--",e,"Comment"),this.addExitPattern("-->","Comment")},WYMeditor.XhtmlLexer.prototype.addScriptTokens=function(e){this.addEntryPattern("<script",e,"Script"),this.addExitPattern("</script>","Script")},WYMeditor.XhtmlLexer.prototype.addCssTokens=function(e){this.addEntryPattern("<style",e,"Css"),this.addExitPattern("</style>","Css")},WYMeditor.XhtmlLexer.prototype.addTagTokens=function(e){this.addSpecialPattern("<\\s*[a-z0-9:-]+\\s*>",e,"OpeningTag"),this.addEntryPattern("<[a-z0-9:-]+[\\/ \\>]+",e,"OpeningTag"),this.addInTagDeclarationTokens("OpeningTag"),this.addSpecialPattern("</\\s*[a-z0-9:-]+\\s*>",e,"ClosingTag")},WYMeditor.XhtmlLexer.prototype.addInTagDeclarationTokens=function(e){this.addSpecialPattern("\\s+",e,"Ignore"),this.addAttributeTokens(e),this.addExitPattern("/>",e),this.addExitPattern(">",e)},WYMeditor.XhtmlLexer.prototype.addAttributeTokens=function(e){this.addSpecialPattern("\\s*[a-z-_0-9]*:?[a-z-_0-9]+\\s*(?==)\\s*",e,"TagAttributes"),this.addEntryPattern('=\\s*"',e,"DoubleQuotedAttribute"),this.addPattern('\\\\"',"DoubleQuotedAttribute"),this.addExitPattern('"',"DoubleQuotedAttribute"),this.addEntryPattern("=\\s*'",e,"SingleQuotedAttribute"),this.addPattern("\\\\'","SingleQuotedAttribute"),this.addExitPattern("'","SingleQuotedAttribute"),this.addSpecialPattern("=\\s*[^>\\s]*",e,"UnquotedAttribute")},WYMeditor.XhtmlParser=function(e,t){return t=t||"Text",this._Lexer=new WYMeditor.XhtmlLexer(this),this._Listener=e,this._mode=t,this._matches=[],this._last_match="",this._current_match="",this},WYMeditor.XhtmlParser.prototype.parse=function(e){return this._Lexer.parse(this.beforeParsing(e)),this.afterParsing(this._Listener.getResult())},WYMeditor.XhtmlParser.prototype.beforeParsing=function(e){return(e.match(/class="MsoNormal"/)||e.match(/ns = "urn:schemas-microsoft-com/))&&this._Listener.avoidStylingTagsAndAttributes(),this._Listener.beforeParsing(e)},WYMeditor.XhtmlParser.prototype.afterParsing=function(e){return this._Listener._avoiding_tags_implicitly&&this._Listener.allowStylingTagsAndAttributes(),this._Listener.afterParsing(e)},WYMeditor.XhtmlParser.prototype.Ignore=function(){return!0},WYMeditor.XhtmlParser.prototype.Text=function(e){return this._Listener.addContent(e),!0},WYMeditor.XhtmlParser.prototype.Comment=function(e,t){return this._addNonTagBlock(e,t,"addComment")},WYMeditor.XhtmlParser.prototype.Script=function(e,t){return this._addNonTagBlock(e,t,"addScript")},WYMeditor.XhtmlParser.prototype.Css=function(e,t){return this._addNonTagBlock(e,t,"addCss")},WYMeditor.XhtmlParser.prototype._addNonTagBlock=function(e,t,n){switch(t){case WYMeditor.LEXER_ENTER:this._non_tag=e;break;case WYMeditor.LEXER_UNMATCHED:this._non_tag+=e;break;case WYMeditor.LEXER_EXIT:switch(n){case"addComment":this._Listener.addComment(this._non_tag+e);break;case"addScript":this._Listener.addScript(this._non_tag+e);break;case"addCss":this._Listener.addCss(this._non_tag+e);break;default:}break;default:}return!0},WYMeditor.XhtmlParser.prototype.OpeningTag=function(e,t){switch(t){case WYMeditor.LEXER_ENTER:this._tag=this.normalizeTag(e),this._tag_attributes={};break;case WYMeditor.LEXER_SPECIAL:this._callOpenTagListener(this.normalizeTag(e));break;case WYMeditor.LEXER_EXIT:this._callOpenTagListener(this._tag,this._tag_attributes);break;default:}return!0},WYMeditor.XhtmlParser.prototype.ClosingTag=function(e){return this._callCloseTagListener(this.normalizeTag(e)),!0},WYMeditor.XhtmlParser.prototype._callOpenTagListener=function(e,t){t=t||{},this.autoCloseUnclosedBeforeNewOpening(e),this._Listener.isBlockTag(e)?(this._Listener._tag_stack.push(e),this._Listener.fixNestingBeforeOpeningBlockTag(e,t),this._Listener.openBlockTag(e,t),this._increaseOpenTagCounter(e)):this._Listener.isInlineTag(e)?this._Listener.inlineTag(e,t):(this._Listener.openUnknownTag(e,t),this._increaseOpenTagCounter(e)),this._Listener.last_tag=e,this._Listener.last_tag_opened=!0,this._Listener.last_tag_attributes=t},WYMeditor.XhtmlParser.prototype._callCloseTagListener=function(e){if(this._decreaseOpenTagCounter(e))if(this.autoCloseUnclosedBeforeTagClosing(e),this._Listener.isBlockTag(e)){var t=this._Listener._tag_stack.pop();if(t===!1)return;t!=e&&(e=t),this._Listener.closeBlockTag(e)}else this._Listener.closeUnknownTag(e);else this._Listener.closeUnopenedTag(e);this._Listener.last_tag=e,this._Listener.last_tag_opened=!1},WYMeditor.XhtmlParser.prototype._increaseOpenTagCounter=function(e){this._Listener._open_tags[e]=this._Listener._open_tags[e]||0,this._Listener._open_tags[e]++},WYMeditor.XhtmlParser.prototype._decreaseOpenTagCounter=function(e){return this._Listener._open_tags[e]?(this._Listener._open_tags[e]--,0===this._Listener._open_tags[e]&&(this._Listener._open_tags[e]=void 0),!0):!1},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeNewOpening=function(e){this._autoCloseUnclosed(e,!1)},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeTagClosing=function(e){this._autoCloseUnclosed(e,!0)},WYMeditor.XhtmlParser.prototype._autoCloseUnclosed=function(e,t){if(t=t||!1,this._Listener._open_tags)for(var n in this._Listener._open_tags){var i=this._Listener._open_tags[n];i>0&&this._Listener.shouldCloseTagAutomatically(n,e,t)&&this._callCloseTagListener(n,!0)}},WYMeditor.XhtmlParser.prototype.getTagReplacements=function(){return this._Listener.getTagReplacements()},WYMeditor.XhtmlParser.prototype.normalizeTag=function(e){e=e.replace(/^([\s<\/>]*)|([\s<\/>]*)$/gm,"").toLowerCase();var t=this._Listener.getTagReplacements();return t[e]?t[e]:e},WYMeditor.XhtmlParser.prototype.TagAttributes=function(e,t){return WYMeditor.LEXER_SPECIAL==t&&(this._current_attribute=e),!0},WYMeditor.XhtmlParser.prototype.DoubleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.SingleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.UnquotedAttribute=function(e){return this._tag_attributes[this._current_attribute]=e.replace(/^=/,""),!0},WYMeditor.XhtmlSaxListener=function(){return this.output="",this.helper=new WYMeditor.XmlHelper,this._open_tags={},this.validator=WYMeditor.XhtmlValidator,this._tag_stack=[],this.avoided_tags=[],this._insert_before_closing=[],this._insert_after_closing=[],this._last_node_was_text=!1,this.entities={"&nbsp;":"&#160;","&iexcl;":"&#161;","&cent;":"&#162;","&pound;":"&#163;","&curren;":"&#164;","&yen;":"&#165;","&brvbar;":"&#166;","&sect;":"&#167;","&uml;":"&#168;","&copy;":"&#169;","&ordf;":"&#170;","&laquo;":"&#171;","&not;":"&#172;","&shy;":"&#173;","&reg;":"&#174;","&macr;":"&#175;","&deg;":"&#176;","&plusmn;":"&#177;","&sup2;":"&#178;","&sup3;":"&#179;","&acute;":"&#180;","&micro;":"&#181;","&para;":"&#182;","&middot;":"&#183;","&cedil;":"&#184;","&sup1;":"&#185;","&ordm;":"&#186;","&raquo;":"&#187;","&frac14;":"&#188;","&frac12;":"&#189;","&frac34;":"&#190;","&iquest;":"&#191;","&Agrave;":"&#192;","&Aacute;":"&#193;","&Acirc;":"&#194;","&Atilde;":"&#195;","&Auml;":"&#196;","&Aring;":"&#197;","&AElig;":"&#198;","&Ccedil;":"&#199;","&Egrave;":"&#200;","&Eacute;":"&#201;","&Ecirc;":"&#202;","&Euml;":"&#203;","&Igrave;":"&#204;","&Iacute;":"&#205;","&Icirc;":"&#206;","&Iuml;":"&#207;","&ETH;":"&#208;","&Ntilde;":"&#209;","&Ograve;":"&#210;","&Oacute;":"&#211;","&Ocirc;":"&#212;","&Otilde;":"&#213;","&Ouml;":"&#214;","&times;":"&#215;","&Oslash;":"&#216;","&Ugrave;":"&#217;","&Uacute;":"&#218;","&Ucirc;":"&#219;","&Uuml;":"&#220;","&Yacute;":"&#221;","&THORN;":"&#222;","&szlig;":"&#223;","&agrave;":"&#224;","&aacute;":"&#225;","&acirc;":"&#226;","&atilde;":"&#227;","&auml;":"&#228;","&aring;":"&#229;","&aelig;":"&#230;","&ccedil;":"&#231;","&egrave;":"&#232;","&eacute;":"&#233;","&ecirc;":"&#234;","&euml;":"&#235;","&igrave;":"&#236;","&iacute;":"&#237;","&icirc;":"&#238;","&iuml;":"&#239;","&eth;":"&#240;","&ntilde;":"&#241;","&ograve;":"&#242;","&oacute;":"&#243;","&ocirc;":"&#244;","&otilde;":"&#245;","&ouml;":"&#246;","&divide;":"&#247;","&oslash;":"&#248;","&ugrave;":"&#249;","&uacute;":"&#250;","&ucirc;":"&#251;","&uuml;":"&#252;","&yacute;":"&#253;","&thorn;":"&#254;","&yuml;":"&#255;","&OElig;":"&#338;","&oelig;":"&#339;","&Scaron;":"&#352;","&scaron;":"&#353;","&Yuml;":"&#376;","&fnof;":"&#402;","&circ;":"&#710;","&tilde;":"&#732;","&Alpha;":"&#913;","&Beta;":"&#914;","&Gamma;":"&#915;","&Delta;":"&#916;","&Epsilon;":"&#917;","&Zeta;":"&#918;","&Eta;":"&#919;","&Theta;":"&#920;","&Iota;":"&#921;","&Kappa;":"&#922;","&Lambda;":"&#923;","&Mu;":"&#924;","&Nu;":"&#925;","&Xi;":"&#926;","&Omicron;":"&#927;","&Pi;":"&#928;","&Rho;":"&#929;","&Sigma;":"&#931;","&Tau;":"&#932;","&Upsilon;":"&#933;","&Phi;":"&#934;","&Chi;":"&#935;","&Psi;":"&#936;","&Omega;":"&#937;","&alpha;":"&#945;","&beta;":"&#946;","&gamma;":"&#947;","&delta;":"&#948;","&epsilon;":"&#949;","&zeta;":"&#950;","&eta;":"&#951;","&theta;":"&#952;","&iota;":"&#953;","&kappa;":"&#954;","&lambda;":"&#955;","&mu;":"&#956;","&nu;":"&#957;","&xi;":"&#958;","&omicron;":"&#959;","&pi;":"&#960;","&rho;":"&#961;","&sigmaf;":"&#962;","&sigma;":"&#963;","&tau;":"&#964;","&upsilon;":"&#965;","&phi;":"&#966;","&chi;":"&#967;","&psi;":"&#968;","&omega;":"&#969;","&thetasym;":"&#977;","&upsih;":"&#978;","&piv;":"&#982;","&ensp;":"&#8194;","&emsp;":"&#8195;","&thinsp;":"&#8201;","&zwnj;":"&#8204;","&zwj;":"&#8205;","&lrm;":"&#8206;","&rlm;":"&#8207;","&ndash;":"&#8211;","&mdash;":"&#8212;","&lsquo;":"&#8216;","&rsquo;":"&#8217;","&sbquo;":"&#8218;","&ldquo;":"&#8220;","&rdquo;":"&#8221;","&bdquo;":"&#8222;","&dagger;":"&#8224;","&Dagger;":"&#8225;","&bull;":"&#8226;","&hellip;":"&#8230;","&permil;":"&#8240;","&prime;":"&#8242;","&Prime;":"&#8243;","&lsaquo;":"&#8249;","&rsaquo;":"&#8250;","&oline;":"&#8254;","&frasl;":"&#8260;","&euro;":"&#8364;","&image;":"&#8465;","&weierp;":"&#8472;","&real;":"&#8476;","&trade;":"&#8482;","&alefsym;":"&#8501;","&larr;":"&#8592;","&uarr;":"&#8593;","&rarr;":"&#8594;","&darr;":"&#8595;","&harr;":"&#8596;","&crarr;":"&#8629;","&lArr;":"&#8656;","&uArr;":"&#8657;","&rArr;":"&#8658;","&dArr;":"&#8659;","&hArr;":"&#8660;","&forall;":"&#8704;","&part;":"&#8706;","&exist;":"&#8707;","&empty;":"&#8709;","&nabla;":"&#8711;","&isin;":"&#8712;","&notin;":"&#8713;","&ni;":"&#8715;","&prod;":"&#8719;","&sum;":"&#8721;","&minus;":"&#8722;","&lowast;":"&#8727;","&radic;":"&#8730;","&prop;":"&#8733;","&infin;":"&#8734;","&ang;":"&#8736;","&and;":"&#8743;","&or;":"&#8744;","&cap;":"&#8745;","&cup;":"&#8746;","&int;":"&#8747;","&there4;":"&#8756;","&sim;":"&#8764;","&cong;":"&#8773;","&asymp;":"&#8776;","&ne;":"&#8800;","&equiv;":"&#8801;","&le;":"&#8804;","&ge;":"&#8805;","&sub;":"&#8834;","&sup;":"&#8835;","&nsub;":"&#8836;","&sube;":"&#8838;","&supe;":"&#8839;","&oplus;":"&#8853;","&otimes;":"&#8855;","&perp;":"&#8869;","&sdot;":"&#8901;","&lceil;":"&#8968;","&rceil;":"&#8969;","&lfloor;":"&#8970;","&rfloor;":"&#8971;","&lang;":"&#9001;","&rang;":"&#9002;","&loz;":"&#9674;","&spades;":"&#9824;","&clubs;":"&#9827;","&hearts;":"&#9829;","&diams;":"&#9830;"},this.block_tags=["a","abbr","acronym","address","area","b","base","bdo","big","blockquote","body","button","caption","cite","code","colgroup","dd","del","div","dfn","dl","dt","em","fieldset","form","head","h1","h2","h3","h4","h5","h6","html","i","ins","kbd","label","legend","li","map","noscript","object","ol","optgroup","option","p","param","pre","q","samp","script","select","small","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","ul","var","extends"],this.inline_tags=["br","col","hr","img","input"],this},WYMeditor.XhtmlSaxListener.prototype.shouldCloseTagAutomatically=function(e,t,n){if(n=n||!1,"td"==e){if(n&&"tr"==t||!n&&"td"==t)return!0}else if("option"==e&&(n&&"select"==t||!n&&"option"==t))return!0;return!1},WYMeditor.XhtmlSaxListener.prototype.beforeParsing=function(e){return this.output="",this._insert_before_closing=[],this._insert_after_closing=[],this._open_tags={},this._tag_stack=[],this._last_node_was_text=!1,this.last_tag=null,e},WYMeditor.XhtmlSaxListener.prototype.afterParsing=function(e){return e=this.replaceNamedEntities(e),e=this.joinRepeatedEntities(e),e=this.removeEmptyTags(e),e=this.removeBrInPre(e)},WYMeditor.XhtmlSaxListener.prototype.replaceNamedEntities=function(e){for(var t in this.entities)e=e.replace(new RegExp(t,"g"),this.entities[t]);return e},WYMeditor.XhtmlSaxListener.prototype.joinRepeatedEntities=function(e){var t="em|strong|sub|sup|acronym|pre|del|address";return e.replace(new RegExp("</("+t+")><\\1>",""),"").replace(new RegExp("(s*<("+t+")>s*){2}(.*)(s*</\\2>s*){2}",""),"<$2>$3<$2>")},WYMeditor.XhtmlSaxListener.prototype.removeEmptyTags=function(e){return e.replace(new RegExp("<("+this.block_tags.join("|").replace(/\|td/,"").replace(/\|th/,"")+")>(<br />|&#160;|&nbsp;|\\s)*</\\1>","g"),"")},WYMeditor.XhtmlSaxListener.prototype.removeBrInPre=function(e){var t=e.match(new RegExp("<pre[^>]*>(.*?)</pre>","gmi"));if(t)for(var n=0;t.length>n;n++)e=e.replace(t[n],t[n].replace(new RegExp("<br />","g"),String.fromCharCode(13,10)));return e},WYMeditor.XhtmlSaxListener.prototype.getResult=function(){return this.output},WYMeditor.XhtmlSaxListener.prototype.getTagReplacements=function(){return{b:"strong",i:"em"}},WYMeditor.XhtmlSaxListener.prototype.addContent=function(e){this.last_tag&&"li"==this.last_tag&&(e=e.replace(/\n/,""),e=e.replace(/\r/,"")),e.length>0&&(this._last_node_was_text=!0),this.output+=e},WYMeditor.XhtmlSaxListener.prototype.addComment=function(e){this.remove_comments&&(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addScript=function(e){this.remove_scripts||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addCss=function(e){this.remove_embeded_styles||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.openBlockTag=function(e,t){this._last_node_was_text=!1,this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t),!0)},WYMeditor.XhtmlSaxListener.prototype.inlineTag=function(e,t){this._last_node_was_text=!1,this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t))},WYMeditor.XhtmlSaxListener.prototype.openUnknownTag=function(){},WYMeditor.XhtmlSaxListener.prototype.closeBlockTag=function(e){this._last_node_was_text=!1,this.output=this.output.replace(/<br \/>$/,"")+this._getClosingTagContent("before",e)+"</"+e+">"+this._getClosingTagContent("after",e)},WYMeditor.XhtmlSaxListener.prototype.closeUnknownTag=function(){},WYMeditor.XhtmlSaxListener.prototype.closeUnopenedTag=function(e){this._last_node_was_text=!1,this.output+="</"+e+">"},WYMeditor.XhtmlSaxListener.prototype.avoidStylingTagsAndAttributes=function(){this.avoided_tags=["div","span"],this.validator.skiped_attributes=["style"],this.validator.skiped_attribute_values=["MsoNormal","main1"],this._avoiding_tags_implicitly=!0},WYMeditor.XhtmlSaxListener.prototype.allowStylingTagsAndAttributes=function(){this.avoided_tags=[],this.validator.skiped_attributes=[],this.validator.skiped_attribute_values=[],this._avoiding_tags_implicitly=!1},WYMeditor.XhtmlSaxListener.prototype.isBlockTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.block_tags,e)},WYMeditor.XhtmlSaxListener.prototype.isInlineTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.inline_tags,e)},WYMeditor.XhtmlSaxListener.prototype.insertContentAfterClosingTag=function(e,t){this._insertContentWhenClosingTag("after",e,t)},WYMeditor.XhtmlSaxListener.prototype.insertContentBeforeClosingTag=function(e,t){this._insertContentWhenClosingTag("before",e,t)},WYMeditor.XhtmlSaxListener.prototype.fixNestingBeforeOpeningBlockTag=function(e){if(this._last_node_was_text||"ul"!=e&&"ol"!=e||!this.last_tag||this.last_tag_opened||"li"!=this.last_tag)if("ul"!=e&&"ol"!=e||!this.last_tag||!this.last_tag_opened||"ul"!=this.last_tag&&"ol"!=this.last_tag){if("li"==e&&!this.last_tag_opened&&this._tag_stack.length>=2){var t=this._tag_stack[this._tag_stack.length-2];"li"==t&&(this._open_tags.li-=1,0===this._open_tags.li&&(this._open_tags.li=void 0),this._tag_stack.pop(this._tag_stack.length-2),this._last_node_was_text=!1,this.output+="</li>")}}else this._last_node_was_text=!1,this.output+=this.helper.tag("li",{},!0),this.insertContentAfterClosingTag(e,"</li>");else this.output=this.output.replace(/<\/li>\s*$/,""),this.insertContentAfterClosingTag(e,"</li>")},WYMeditor.XhtmlSaxListener.prototype._insertContentWhenClosingTag=function(e,t,n){this["_insert_"+e+"_closing"]||(this["_insert_"+e+"_closing"]=[]),this["_insert_"+e+"_closing"][t]||(this["_insert_"+e+"_closing"][t]=[]),this["_insert_"+e+"_closing"][t].push(n)},WYMeditor.XhtmlSaxListener.prototype._getClosingTagContent=function(e,t){return this["_insert_"+e+"_closing"]&&this["_insert_"+e+"_closing"][t]&&this["_insert_"+e+"_closing"][t].length>0?this["_insert_"+e+"_closing"][t].pop():""},WYMeditor.WymCssLexer=function(e,t){return t="undefined"==typeof t?!0:t,jQuery.extend(this,new WYMeditor.Lexer(e,t?"Ignore":"WymCss")),this.mapHandler("WymCss","Ignore"),t===!0&&(this.addEntryPattern("/\\*[<\\s]*WYMeditor[>\\s]*\\*/","Ignore","WymCss"),this.addExitPattern("/\\*[</\\s]*WYMeditor[>\\s]*\\*/","WymCss")),this.addSpecialPattern("[\\sa-z1-6]*\\.[a-z-_0-9]+","WymCss","WymCssStyleDeclaration"),this.addEntryPattern("/\\*","WymCss","WymCssComment"),this.addExitPattern("\\*/","WymCssComment"),this.addEntryPattern("{","WymCss","WymCssStyle"),this.addExitPattern("}","WymCssStyle"),this.addEntryPattern("/\\*","WymCssStyle","WymCssFeedbackStyle"),this.addExitPattern("\\*/","WymCssFeedbackStyle"),this},WYMeditor.WymCssParser=function(){return this._in_style=!1,this._has_title=!1,this.only_wym_blocks=!0,this.css_settings={classesItems:[],editorStyles:[],dialogStyles:[]},this},WYMeditor.WymCssParser.prototype.parse=function(e,t){t="undefined"==typeof t?this.only_wym_blocks:t,this._Lexer=new WYMeditor.WymCssLexer(this,t),this._Lexer.parse(e)},WYMeditor.WymCssParser.prototype.Ignore=function(){return!0},WYMeditor.WymCssParser.prototype.WymCssComment=function(e,t){return e.match(/end[a-z0-9\s]*wym[a-z0-9\s]*/im)?!1:(t==WYMeditor.LEXER_UNMATCHED&&(this._in_style?this._current_item[this._current_element]&&(this._current_item[this._current_element].expressions?this._current_item[this._current_element].expressions.push(e):this._current_item[this._current_element].expressions=[e]):(this._has_title=!0,this._current_item={title:WYMeditor.Helper.trim(e)}),this._in_style=!0),!0)},WYMeditor.WymCssParser.prototype.WymCssStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED?(e=WYMeditor.Helper.trim(e),""!==e&&(this._current_item[this._current_element].style=e)):t==WYMeditor.LEXER_EXIT&&(this._in_style=!1,this._has_title=!1,this.addStyleSetting(this._current_item)),!0},WYMeditor.WymCssParser.prototype.WymCssFeedbackStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED&&(this._current_item[this._current_element].feedback_style=e.replace(/^([\s\/\*]*)|([\s\/\*]*)$/gm,"")),!0},WYMeditor.WymCssParser.prototype.WymCssStyleDeclaration=function(e){e=e.replace(/^([\s\.]*)|([\s\.*]*)$/gm,"");var t="";if(e.indexOf(".")>0){var n=e.split(".");this._current_element=n[1],t=n[0]}else this._current_element=e;return this._has_title||(this._current_item={title:(t?t.toUpperCase()+": ":"")+this._current_element},this._has_title=!0),this._current_item[this._current_element]||(this._current_item[this._current_element]={name:this._current_element}),t&&(this._current_item[this._current_element].tags?this._current_item[this._current_element].tags.push(t):this._current_item[this._current_element].tags=[t]),!0},WYMeditor.WymCssParser.prototype.addStyleSetting=function(e){for(var t in e){var n=e[t];"object"==typeof n&&"title"!=t&&(this.css_settings.classesItems.push({name:WYMeditor.Helper.trim(n.name),title:e.title,expr:WYMeditor.Helper.trim((n.expressions||n.tags).join(", "))}),n.feedback_style&&this.css_settings.editorStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.feedback_style}),n.style&&this.css_settings.dialogStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.style}))}},WYMeditor.STRINGS.bg={Strong:"Получер",Emphasis:"Курсив",Superscript:"Горен индекс",Subscript:"Долен индекс",Ordered_List:"Подреден списък",Unordered_List:"Неподреден списък",Indent:"Блок навътре",Outdent:"Блок навън",Undo:"Стъпка назад",Redo:"Стъпка напред",Link:"Създай хипервръзка",Unlink:"Премахни хипервръзката",Image:"Изображение",Table:"Таблица",HTML:"HTML",Paragraph:"Абзац",Heading_1:"Заглавие 1",Heading_2:"Заглавие 2",Heading_3:"Заглавие 3",Heading_4:"Заглавие 4",Heading_5:"Заглавие 5",Heading_6:"Заглавие 6",Preformatted:"Преформатиран",Blockquote:"Цитат",Table_Header:"Заглавие на таблицата",URL:"URL",Title:"Заглавие",Alternative_Text:"Алтернативен текст",Caption:"Етикет",Summary:"Общо",Number_Of_Rows:"Брой редове",Number_Of_Cols:"Брой колони",Submit:"Изпрати",Cancel:"Отмени",Choose:"Затвори",Preview:"Предварителен преглед",Paste_From_Word:"Вмъкни от MS WORD",Tools:"Инструменти",Containers:"Контейнери",Classes:"Класове",Status:"Статус",Source_Code:"Източник, код"},WYMeditor.STRINGS.en={Strong:"Strong",Emphasis:"Emphasis",Superscript:"Superscript",Subscript:"Subscript",Ordered_List:"Ordered List",Unordered_List:"Unordered List",Indent:"Indent",Outdent:"Outdent",Undo:"Undo",Redo:"Redo",Link:"Link",Unlink:"Unlink",Image:"Image",Table:"Table",HTML:"HTML",Paragraph:"Paragraph",Heading_1:"Heading 1",Heading_2:"Heading 2",Heading_3:"Heading 3",Heading_4:"Heading 4",Heading_5:"Heading 5",Heading_6:"Heading 6",Preformatted:"Preformatted",Blockquote:"Blockquote",Table_Header:"Table Header",URL:"URL",Title:"Title",Relationship:"Relationship",Alternative_Text:"Alternative text",Caption:"Caption",Summary:"Summary",Number_Of_Rows:"Number of rows",Number_Of_Cols:"Number of cols",Submit:"Submit",Cancel:"Cancel",Choose:"Choose",Preview:"Preview",Paste_From_Word:"Paste from Word",Tools:"Tools",Containers:"Containers",Classes:"Classes",Status:"Status",Source_Code:"Source code"},/**
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.embed.js
 *        Experimental embed plugin
 *
 * File Authors:
 *        Jonatan Lundin (jonatan.lundin a-t gmail dotcom)
 *        Roger Hu (roger.hu a-t gmail dotcom)
 *        Scott Nixon (citadelgrad a-t gmail dotcom)
 */
function(){function e(e,t){for(var n=t.length;n--;)t[n]===e&&t.splice(n,1);return t}if(WYMeditor&&WYMeditor.XhtmlValidator._tags.param.attributes){WYMeditor.XhtmlValidator._tags.embed={attributes:["allowscriptaccess","allowfullscreen","height","src","type","width"]},WYMeditor.XhtmlValidator._tags.param.attributes={0:"name",1:"type",valuetype:/^(data|ref|object)$/,2:"valuetype",3:"value"},WYMeditor.XhtmlValidator._tags.iframe={attributes:["allowfullscreen","width","height","src","title","frameborder"]};var t=WYMeditor.XhtmlSaxListener;WYMeditor.XhtmlSaxListener=function(){var n=t.call(this);return e("param",n.block_tags),n.inline_tags.push("param"),n.inline_tags.push("embed"),n.inline_tags.push("iframe"),n},WYMeditor.XhtmlSaxListener.prototype=t.prototype}}(),/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.fullscreen.js
 *        Fullscreen plugin for WYMeditor
 *
 * File Authors:
 *        Luis Santos (luis.santos a-t openquest dotpt)
 *        Jonatan Lundin (jonatan.lundin a-t gmail dotcom)
 *        Gerd Riesselmann (gerd a-t gyro-php dot org) : Fixed issue with new skin layout
 */
WYMeditor.editor.prototype.fullscreen=function(){function e(){var e=n.outerHeight(!0)-i.outerHeight(!0),t=n.outerWidth()-n.width(),a=o.height(),l=a-e-2*s+"px",c=o.width(),d=c-t-2*s+"px";n.css("width",d),i.css("height",l),r.css({height:a+"px",width:c+"px"})}var t=this,n=jQuery(this._box),i=jQuery(this._iframe),r=null,o=jQuery(window),s=15,a="<li class='wym_tools_fullscreen'><a name='Fullscreen' href='#' style='background-image: url("+t._options.basePath+"plugins/fullscreen/icon_fullscreen.gif)'>"+"Fullscreen"+"</a>"+"</li>";n.find(t._options.toolsSelector+t._options.toolsListSelector).append(a),n.find("li.wym_tools_fullscreen a").click(function(){return"fixed"!=n.css("position")?(n.data("wym-inline-css",n.attr("style")),i.data("wym-inline-css",i.attr("style")),r=jQuery('<div id="wym-fullscreen-overlay"></div>').appendTo("body").css({position:"fixed","background-color":"rgb(0, 0, 0)",opacity:"0.75","z-index":"98",top:"0px",left:"0px"}),n.css({position:"fixed","z-index":"99",top:s+"px",left:s+"px"}),o.bind("resize",e),n.find("li.wym_tools_html a").bind("click",e),e()):(o.unbind("resize",e),n.find("li.wym_tools_html a").unbind("click",e),n.css({position:"static","z-index":"",width:"",top:"",left:""}),i.css("height",""),r.remove(),r=null,n.attr("style",n.data("wym-inline-css")),i.attr("style",i.data("wym-inline-css"))),!1})},WYMeditor.editor.prototype.hovertools=function(){var wym=this;wym.status("&nbsp;"),jQuery(this._box).find(this._options.toolSelector).hover(function(){wym.status(jQuery(this).html())},function(){wym.status("&nbsp;")}),jQuery(this._box).find(this._options.classSelector).hover(function(){var aClasses=eval(wym._options.classesItems),sName=jQuery(this).attr(WYMeditor.NAME),oClass=WYMeditor.Helper.findByName(aClasses,sName);oClass&&(jqexpr=oClass.expr,jQuery.browser.msie||jQuery(wym._doc).find(jqexpr).css("background-color","#cfc"))},function(){jQuery.browser.msie||jQuery(wym._doc).find("*").removeAttr("style")})},ListPlugin.prototype.init=function(){this._wym.listPlugin=this,this.bindEvents()},ListPlugin.prototype.bindEvents=function(){var e=this,t=this._wym;$(t._doc).bind("keydown",e.handleKeyDown)},ListPlugin.prototype.handleKeyDown=function(e){var t=WYMeditor.INSTANCES[this.title];t.listPlugin;var n=t.selected(),i=n.tagName.toLowerCase();return"li"!=i?null:e.keyCode==WYMeditor.KEY.TAB?e.shiftKey?(t.exec(WYMeditor.OUTDENT),!1):(t.exec(WYMeditor.INDENT),!1):null},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2011 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.rdfa.js
 *        RDFa plugin for WYMeditor
 *
 * File Authors:
 *        Jean-Francois Hovinne (@jfhovinne)
 */
WYMeditor.editor.prototype.rdfa=function(e){var t=new WYMeditor.RDFa(e,this);return t},WYMeditor.RDFa=function(e,t){e=jQuery.extend({setStdNameSpaces:!0,extendXHTMLParser:!0,buttons:{}},e),this._options=e,this._wym=t,this.init()},WYMeditor.RDFa.prototype.init=function(){this._options.setStdNameSpaces&&this.setStdNameSpaces(),this._options.extendXHTMLParser&&this.extendXHTMLParser(),this.setButtons()},WYMeditor.RDFa.prototype.setStdNameSpaces=function(){this.addNameSpace("xmlns","http://www.w3.org/1999/xhtml"),this.addNameSpace("version","XHTML+RDFa 1.0")},WYMeditor.RDFa.prototype.addNameSpace=function(e,t){jQuery("html",this._wym._doc).attr(e,t)},WYMeditor.RDFa.prototype.extendXHTMLParser=function(){this.extendAttributes(),this.setStdVocabularies(),this.extendLinkAttributes()},WYMeditor.RDFa.prototype.extendAttributes=function(){WYMeditor.XhtmlValidator._attributes.core.attributes.push("rel","rev","content","href","src","about","property","resource","datatype","typeof")},WYMeditor.RDFa.prototype.setStdVocabularies=function(){var e=this;vocabularies=["xmlns:biblio","xmlns:cc","xmlns:dbp","xmlns:dbr","xmlns:dc","xmlns:ex","xmlns:foaf","xmlns:rdf","xmlns:rdfs","xmlns:taxo","xmlns:xhv","xmlns:xsd"],jQuery.each(vocabularies,function(t,n){e.addVocabulary(n)})},WYMeditor.RDFa.prototype.addVocabulary=function(e){WYMeditor.XhtmlValidator._attributes.core.attributes.push(e)},WYMeditor.RDFa.prototype.extendLinkAttributes=function(){WYMeditor.XhtmlValidator._tags.a={attributes:{0:"charset",1:"coords",2:"href",3:"hreflang",4:"name",5:"rel",6:"rev",shape:/^(rect|rectangle|circ|circle|poly|polygon)$/,7:"type"}}},WYMeditor.RDFa.prototype.setButtons=function(){var e=this,t=jQuery(this._wym._box).find("div.wym_classes ul");jQuery.each(this._options.buttons,function(n,i){t.append("<li></li>").children(":last").append("<a></a>").children(":last").attr("href","#").text(i.title).bind("click",{instance:e._wym,button:i,ns:i.ns,attr:i.attr,value:i.value},e.clickButtonHandler)})},WYMeditor.RDFa.prototype.clickButtonHandler=function(e){var t=e.data.instance,n=t.selected();return"undefined"!=typeof jQuery(n).attr(e.data.attr)&&""!==jQuery(n).attr(e.data.attr)?(WYMeditor.console.log("attribute already exists, remove it:",e.data.attr,jQuery(n).attr(e.data.attr)),jQuery(n).removeAttr(e.data.attr).removeClass(e.data.ns).removeClass(e.data.attr).removeClass(e.data.value)):(WYMeditor.console.log("attribute does not exist, add it:",e.data.attr,e.data.value),e.data.value?jQuery(n).attr(e.data.attr,e.data.ns+":"+e.data.value).addClass(e.data.ns).addClass(e.data.attr).addClass(e.data.value):(e.data.value=prompt("Value",""),null!==e.data.value&&jQuery(n).attr(e.data.attr,e.data.value).addClass(e.data.ns).addClass(e.data.attr).addClass(e.data.value))),!1},/*
 * WYMeditor : what you see is What You Mean web-based editor
 * Copyright (c) 2005 - 2009 Jean-Francois Hovinne, http://www.wymeditor.org/
 * Dual licensed under the MIT (MIT-license.txt)
 * and GPL (GPL-license.txt) licenses.
 *
 * For further information visit:
 *        http://www.wymeditor.org/
 *
 * File Name:
 *        jquery.wymeditor.resizable.js
 *        resize plugin for WYMeditor
 *
 * File Authors:
 *        Peter Eschler (peschler _at_ gmail.com)
 *        Jean-Francois Hovinne - http://www.hovinne.com/
 *
 * Version:
 *        0.4
 *
 * Changelog:
 *
 * 0.4
 *     - Removed UI and UI.resizable scripts loading - see #167 (jfh).
 *
 * 0.3
 *     - Added 'iframeOriginalSize' and removed 'ui.instance' calls (jfh).
 *
 * 0.2
 *     - Added full support for all jQueryUI resizable plugin options.
 *     - Refactored and documented code.
 * 0.1
 *     - Initial release.
 */
WYMeditor.editor.prototype.resizable=function(e){var t=this,n=jQuery(t._box).find("iframe"),i=jQuery(t._box).find(".wym_iframe"),r={resize:function(){i.height(n.height())},alsoResize:n,handles:"s,e,se",minHeight:250},o=jQuery.extend(r,e);jQuery.isFunction(jQuery.fn.resizable)?jQuery(t._box).resizable(o):WYMeditor.console.error("Oops, jQuery UI.resizable unavailable.")},WYMeditor.editor.prototype.table=function(e){var t=new TableEditor(e,this);return this.tableEditor=t,t},TableEditor.prototype.init=function(){var e=this._wym,t=this,n=$(e._box).find(e._options.toolsSelector+e._options.toolsListSelector);n.append(t._options.sMergeRowButtonHtml),n.append(t._options.sAddRowButtonHtml),n.append(t._options.sRemoveRowButtonHtml),n.append(t._options.sAddColumnButtonHtml),n.append(t._options.sRemoveColumnButtonHtml),t.bindEvents(),rangy.init()},TableEditor.prototype.bindEvents=function(){var e=this._wym,t=this;$(e._box).find(t._options.sMergeRowButtonSelector).click(function(){var n=rangy.getIframeSelection(e._iframe);return t.mergeRow(n),!1}),$(e._box).find(t._options.sAddRowButtonSelector).click(function(){return t.addRow(e.selected())}),$(e._box).find(t._options.sRemoveRowButtonSelector).click(function(){return t.removeRow(e.selected())}),$(e._box).find(t._options.sAddColumnButtonSelector).click(function(){return t.addColumn(e.selected())}),$(e._box).find(t._options.sRemoveColumnButtonSelector).click(function(){return t.removeColumn(e.selected())}),t._options.enableCellTabbing&&$(e._doc).bind("keydown",t.keyDown)},TableEditor.prototype.getNumColumns=function(e){var t,n,i=this._wym,r=0;return t=i.findUp(e,"table"),n=$(t).find("tr:eq(0)"),$(n).children("td,th").each(function(e,t){r+=TableEditor.GET_COLSPAN_PROP(t)}),r},TableEditor.GET_COLSPAN_PROP=function(e){var t=$(e).attr("colspan");return"undefined"==typeof t&&(t=1),parseInt(t,10)},TableEditor.GET_ROWSPAN_PROP=function(e){var t=$(e).attr("rowspan");return"undefined"==typeof t&&(t=1),parseInt(t,10)},TableEditor.prototype.getCellXIndex=function(e){var t,n,i,r,o,s,a,l,c,d,u,h,p,f=this;for(n=$(e).parent("tr")[0],i=this.getNumColumns(n),r=0,$(n).children("td,th").each(function(e,t){r+=TableEditor.GET_COLSPAN_PROP(t)}),o=i-r,s=[],a=n,l=1;o>0;)for(a=$(a).prev("tr"),l+=1,c=$(a).children("td,th"),t=0;c.length>t;t++)d=c[t],TableEditor.GET_ROWSPAN_PROP(d)>=l&&(o-=1,u=TableEditor.GET_COLSPAN_PROP(d),s[f.getCellXIndex(d)]=u);if(h=0,p=null,$(n).children("td,th").each(function(t,n){if(null===p){for(;"undefined"!=typeof s[h];)h+=parseInt(s[h],10);return n===e?(p=h,void 0):(h+=TableEditor.GET_COLSPAN_PROP(n),void 0)}}),null===p)throw"Cell index not found";return p},TableEditor.prototype.getTotalColumns=function(e){var t,n,i,r=this,o=this.getCommonParentTr(e);if(null===o)throw"getTotalColumns only allowed for contiguous cells";if(t=this.getNumColumns(o),n=0,$(e).each(function(e,t){n+=TableEditor.GET_COLSPAN_PROP(t)}),i=0,$(o).children("td,th").each(function(e,t){i+=TableEditor.GET_COLSPAN_PROP(t)}),i===t)return n;if(1===e.length)return TableEditor.GET_COLSPAN_PROP(e[0]);var s=$(e).eq(e.length-1)[0],a=$(e).eq(0)[0];return 1+r.getCellXIndex(s)-r.getCellXIndex(a)},TableEditor.prototype.mergeRow=function(e){var t,n,i,r,o,s,a=(this._wym,this),l=[],c=null;for(t=0;e.rangeCount>t;t++)c=e.getRangeAt(t),l=l.concat(c.getNodes(!1));if(n=$(l).filter("td,th"),0===n.length)return!1;if(i=a.getCommonParentTr(n),null===i)return!1;r=n[0],$(n).each(function(e,t){if(o=$(t),s=TableEditor.GET_ROWSPAN_PROP(t),!(1>=s)){var n,i=(o.prevAll("td,th"),a.getCellXIndex(t)),r=s-1;if(n=1===r?"<td>"+o.html()+"</td>":String()+'<td rowspan="'+r+'">'+o.html()+"</td>",0===i)o.parent("tr").next("tr").prepend(n);else{var l=i-1,c=o.parent("tr").next("tr").find("td,th"),d=!1;for(e=c.length-1;e>=0;e--){var u=a.getCellXIndex(c[e]);if(l>=u){$(c[e]).append(n),d=!0;break}}if(!d)throw"Cell rowspan invalid"}o.html("")}});try{$(r).removeAttr("rowspan")}catch(d){$(r).attr("rowspan",1)}var u="";$(n).each(function(e,t){u+=$(t).html()});var h=this.getTotalColumns(n);return $.browser.msie?r.colSpan=h:$(r).attr("colspan",h),$(n).each(function(e,t){0!==e&&$(t).remove()}),$(r).html(u),a.selectElement(r),!0},TableEditor.prototype.addRow=function(e){var t,n,i,r=(this._wym,this._wym.findUp(e,"tr"));if(null===r)return!1;for(t=this.getNumColumns(r),n="",i=0;t>i;i++)n+="<td>&nbsp;</td>";return $(r).after("<tr>"+n+"</tr>"),!1},TableEditor.prototype.removeEmptyTable=function(e){var t=$(e).find("td,th");0===t.length&&$(e).remove()},TableEditor.prototype.removeRow=function(e){var t,n=this._wym,i=this._wym.findUp(e,"tr");return null===i?!1:(t=n.findUp(e,"table"),$(i).remove(),this.removeEmptyTable(t),!1)},TableEditor.prototype.addColumn=function(e){var t,n,i,r,o=this._wym,s=this._wym.findUp(e,["td","th"]),a="<td>&nbsp;</td>",l="<th>&nbsp;</th>";return null===s?!1:(t=$(s).prevAll(),n=t.length,i=o.findUp(s,"tr"),$(i).siblings("tr").andSelf().each(function(e,t){r=a,$(t).find("th").length>0&&(r=l),$(t).find("td,th").eq(n).after(r)}),!1)},TableEditor.prototype.removeColumn=function(e){var t,n,i,r,o=this._wym,s=this._wym.findUp(e,["td","th"]);return null===s?!1:(t=o.findUp(e,"table"),n=$(s).prevAll(),i=n.length,r=o.findUp(s,"tr"),$(r).siblings("tr").each(function(e,t){$(t).find("td,th").eq(i).remove()}),$(s).remove(),this.removeEmptyTable(t),!1)},TableEditor.prototype.keyDown=function(e){var t=WYMeditor.INSTANCES[this.title],n=t.tableEditor;return e.keyCode===WYMeditor.KEY.TAB?n.selectNextCell(t.selected()):null},TableEditor.prototype.selectNextCell=function(e){var t,n,i,r=this._wym,o=this,s=r.findUp(e,["td","th"]);return null===s?null:(t=$(s).next("td,th"),t.length>0?(o.selectElement(t[0]),!1):(n=r.findUp(s,"tr"),i=$(n).next("tr"),0!==i.length&&(t=$(i).children("td,th"),t.length>0)?(o.selectElement(t[0]),!1):null))},TableEditor.prototype.selectElement=function(e){var t=rangy.getIframeSelection(this._wym._iframe),n=rangy.createRange(this._wym._doc);n.setStart(e,0),n.setEnd(e,0),n.collapse(!1);try{t.setSingleRange(n)}catch(i){}$.browser.msie&&this._wym.saveCaret()},TableEditor.prototype.getCommonParentTr=function(e){var t,n,i;return e=$(e).filter("td,th"),0===e.length?null:(t=e[0],n=$(t).parent("tr"),0===n.length?null:(i=n[0],$(e).each(function(e,t){return n=$(t).parent("tr"),0===n.length||n[0]!==i?null:void 0}),i))},WYMeditor.editor.prototype.tidy=function(e){var t=new WymTidy(e,this);return t},WymTidy.prototype.init=function(){var e=this;jQuery(this._wym._box).find(this._wym._options.toolsSelector+this._wym._options.toolsListSelector).append(this._options.sButtonHtml),jQuery(this._wym._box).find(this._options.sButtonSelector).click(function(){return e.cleanup(),!1})},WymTidy.prototype.cleanup=function(){var e=this._wym,t="<html><body>"+e.xhtml()+"</body></html>";jQuery.post(this._options.sUrl,{html:t},function(t){t.length>0&&"0"!=t?0===t.indexOf("<?php")?e.status("Ooops... Is PHP installed?"):(e.html(t),e.status("HTML has been cleaned up.")):e.status("An error occurred.")})},WYMeditor.SKINS.compact={init:function(e){jQuery(e._options.containersSelector+", "+e._options.classesSelector,e._box).appendTo(jQuery("div.wym_area_top",e._box)).addClass("wym_dropdown").css({"margin-right":"10px",width:"120px","float":"left"}),jQuery(e._options.toolsSelector,e._box).addClass("wym_buttons").css({"margin-right":"10px","float":"left"}),jQuery(".wym_section",e._box).hover(function(){jQuery(this).addClass("hover")},function(){jQuery(this).removeClass("hover")});var t=e._options.postInit;e._options.postInit=function(e){t&&t.call(e,e);var n={name:"body",css:"background-color: #f0f0f0;"};e.addCssRule(e._doc.styleSheets[0],n)}}},WYMeditor.SKINS["default"]={init:function(e){jQuery(e._box).find(e._options.classesSelector).addClass("wym_panel"),jQuery(e._box).find(e._options.toolsSelector).addClass("wym_buttons"),jQuery(e._box).find(e._options.containersSelector).addClass("wym_dropdown").find(WYMeditor.H2).append("<span> ></span>"),jQuery(e._box).find("div.wym_area_right ul").parents("div.wym_area_right").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-right":"155px"}),jQuery(e._box).find("div.wym_area_left ul").parents("div.wym_area_left").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-left":"155px"}),jQuery(e._box).find(".wym_section").hover(function(){jQuery(this).addClass("hover")},function(){jQuery(this).removeClass("hover")})}},jQuery.fn.selectify=function(){return this.each(function(){jQuery(this).hover(function(){jQuery("h2",this).css("background-position","0px -18px"),jQuery("ul",this).fadeIn("fast")},function(){jQuery("h2",this).css("background-position",""),jQuery("ul",this).fadeOut("fast")})})},WYMeditor.SKINS.minimal={init:function(e){jQuery(e._box).find(e._options.toolsSelector+", "+e._options.containersSelector+", "+e._options.classesSelector).addClass("wym_dropdown").selectify()}},jQuery.fn.selectify=function(){return this.each(function(){jQuery(this).hover(function(){jQuery("h2",this).css("background-position","0px -18px"),jQuery("ul",this).fadeIn("fast")},function(){jQuery("h2",this).css("background-position",""),jQuery("ul",this).fadeOut("fast")})})},WYMeditor.SKINS.silver={init:function(e){jQuery(e._box).append('<div class="clear"></div>').wrapInner('<div class="wym_inner"></div>'),jQuery(e._box).find(e._options.classesSelector).addClass("wym_panel"),jQuery(e._box).find(e._options.toolsSelector).addClass("wym_buttons"),jQuery(e._box).find(e._options.containersSelector).addClass("wym_dropdown").selectify(),jQuery(e._box).find("div.wym_area_right ul").parents("div.wym_area_right").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-right":"155px"}),jQuery(e._box).find("div.wym_area_left ul").parents("div.wym_area_left").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-left":"155px"}),jQuery(e._box).find(".wym_section").hover(function(){jQuery(this).addClass("hover")},function(){jQuery(this).removeClass("hover")})}},WYMeditor.SKINS.twopanels={init:function(e){jQuery(e._box).find(e._options.containersSelector).appendTo("div.wym_area_left"),jQuery(e._box).find(e._options.classesSelector+", "+e._options.containersSelector).addClass("wym_panel"),jQuery(e._box).find(e._options.toolsSelector).addClass("wym_buttons"),jQuery(e._box).find("div.wym_area_right ul").parents("div.wym_area_right").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-right":"155px"}),jQuery(e._box).find("div.wym_area_left ul").parents("div.wym_area_left").show().parents(e._options.boxSelector).find("div.wym_area_main").css({"margin-left":"115px"}),jQuery(e._box).find(".wym_section").hover(function(){jQuery(this).addClass("hover")},function(){jQuery(this).removeClass("hover")})}};